<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XMLSPY v5 rel. 3 U (http://www.xmlspy.com)
     by Daniel M Kohn (private) -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY rfc2119 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
]>
<rfc category="info" docName="draft-ietf-avtcore-monarch-10.txt"
     ipr="trust200902">
  <?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

  <?rfc toc="yes" ?>

  <?rfc symrefs="yes" ?>

  <?rfc sortrefs="yes"?>

  <?rfc iprnotified="no" ?>

  <?rfc strict="yes" ?>

  <front>
    <title abbrev="RTP Monitoring Architecture">Monitoring Architecture for
    RTP</title>

    <author fullname="Qin Wu" initials="Q." role="editor" surname="Wu">
      <organization>Huawei</organization>

      <address>
        <postal>
          <street>101 Software Avenue, Yuhua District</street>

          <city>Nanjing</city>

          <region>Jiangsu</region>

          <code>210012</code>

          <country>China</country>
        </postal>

        <email>sunseawq@huawei.com</email>
      </address>
    </author>

    <author fullname="Geoff Hunt" initials="G." surname="Hunt">
      <organization>Unaffiliated</organization>

      <address>
        <email>r.geoff.hunt@gmail.com</email>
      </address>
    </author>

    <author fullname="Philip Arden" initials="P.J." surname="Arden">
      <organization abbrev="BT">BT</organization>

      <address>
        <postal>
          <street>Orion 3/7 PP4</street>

          <street>Adastral Park</street>

          <street>Martlesham Heath</street>

          <city>Ipswich</city>

          <region>Suffolk</region>

          <code>IP5 3RE</code>

          <country>United Kingdom</country>
        </postal>

        <phone>+44 1473 644192</phone>

        <email>philip.arden@bt.com</email>
      </address>
    </author>

    <date year="2012" />

    <area>Real-time Applications and Infrastructure Area</area>

    <workgroup>Audio/Video Transport Working Group</workgroup>

    <keyword>RFC</keyword>

    <keyword>Request for Comments</keyword>

    <keyword>I-D</keyword>

    <keyword>Internet-Draft</keyword>

    <keyword>Real Time Control Protocol</keyword>

    <abstract>
      <t>This memo proposes an architecture for extending RTP Control Protocol
      (RTCP) with a new RTCP Extended Reports (XR) (RFC3611) block type to
      report new metrics regarding media transmission or reception quality,
      following RTCP guideline established in RFC5968. This memo suggests that
      a new block should contain a single metric or a small number of metrics
      relevant to a single parameter of interest or concern, rather than
      containing a number of metrics which attempt to provide full coverage of
      all those parameters of concern to a specific application. Applications
      may then "mix and match" to create a set of blocks which covers their
      set of concerns. Where possible, a specific block should be designed to
      be re-usable across more than one application, for example, for all of
      voice, streaming audio and video.</t>
    </abstract>
  </front>

  <middle>
    <section anchor="intro" title="Introduction">
      <t>As the delivery of multimedia services using the Real-Time Transport
      Protocol (RTP) over IP network is gaining an increasing popularity,
      uncertainties in the performance and availability of these services are
      driving the need to support new standard methods for gathering
      performance metrics from RTP applications. These rapidly emerging
      standards, such as RTP Control Protocol Extended Reports (RTCP XR)<xref
      target="RFC3611"></xref> and other RTCP extension to Sender Reports
      (SR), Receiver Reports (RR) <xref target="RFC3550"></xref> are being
      developed for the purpose of collecting and reporting performance
      metrics from endpoint devices that can be used to correlate the metrics,
      provide end to end service visibility and measure and monitor Quality of
      Experience (QoE) <xref target="RFC6390"></xref>.</t>

      <t>However the proliferation of RTP/RTCP specific metrics for transport
      and application quality monitoring has been identified as a potential
      problem for RTP/RTCP interoperability, which attempt to provide full
      coverage of all those parameters of concern to a specific application.
      Given that different applications layered on RTP may have some
      monitoring requirements in common, these metrics should be satisfied by
      a common design.</t>

      <t>The objective of this document is to define an extensible RTP
      monitoring framework to provide a small number of re-usable Quality of
      Service (QoS)/QoE metrics which facilitate reduced implementation costs
      and help maximize inter-operability. RTCP Guideline <xref
      target="RFC5968"></xref> has stated that, where RTCP is to be extended
      with a new metric, the preferred mechanism is by the addition of a new
      RTCP XR <xref target="RFC3611"></xref> block. This memo assumes that any
      requirement for a new metric to be transported in RTCP will use a new
      RTCP XR block.</t>
    </section>

    <section title="Terminology">
      <t>This memo is informative and as such contains no normative
      requirements.</t>

      <t>In addition, the following terms are defined:</t>

      <t><list style="hanging">
          <t hangText="Transport level metrics"><vspace blankLines="1" />A set
          of metrics which characterise the three transport impairments of
          packet loss, packet delay, and packet delay variation. These metrics
          should be usable by any application which uses RTP transport.<vspace
          blankLines="1" /></t>

          <t hangText="Application level metrics"><vspace blankLines="1" />
          Metrics relating to application specific parameters or QoE related
          parameters. Application specific parameters are measured at the
          application level and focus on quality of content rather than
          network performance. QoE related parameters reflect the end-to-end
          performance at the services level and is ususally measured at the
          user endpoint. One example of such metrics is the QoE Metric
          specified in QoE metric reporting Block <xref target="QOE"></xref>.
          <vspace blankLines="1" /></t>

          <t hangText="End System metrics"><vspace blankLines="1" />Metrics
          relating to the way a terminal deals with transport impairments
          affecting the incident RTP stream. These may include de-jitter
          buffering, packet loss concealment, and the use of redundant streams
          (if any) for correction of error or loss.<vspace
          blankLines="1" /></t>

          <t hangText="Direct metrics"><vspace blankLines="1" />Metrics that
          can be directly measured or calculated and are not dependent on
          other metric.<vspace blankLines="1" /></t>

          <t hangText="Composed metrics"><vspace blankLines="1" />Metrics that
          are calculated based on Direct metric that have been measured or
          combination of Direct metrics that are identical to the metric being
          composed.<vspace blankLines="1" /></t>

          <t hangText="Interval metrics"><vspace blankLines="1" /> It is
          referred to as the metrics of which the reported values apply to the
          most recent measurement interval duration between successive metrics
          reports.<vspace blankLines="1" /></t>

          <t hangText="Cumulative metrics"><vspace blankLines="1" />It is
          referred to as the metrics of which the reported values apply to the
          accumulation period characteristic of cumulative
          measurements.<vspace blankLines="1" /></t>

          <t hangText="Sampled metrics"><vspace blankLines="1" />It is
          referred to as the metrics of which the reported values only apply
          to the value of a continuously measured or calculated that has been
          sampled at end of the interval.<vspace blankLines="1" /></t>
        </list></t>
    </section>

    <section title="RTP monitoring architecture">
      <t>There are many ways in which the performance of an RTP session can be
      monitored. These include RTP-based mechanisms such as the RTP SNMP MIB
      <xref target="RFC2959"></xref>, or the SIP event package for RTCP
      summary reports <xref target="RFC6035"></xref>, or non-RTP mechanisms
      such as generic MIBs, NetFlow, IPFix, and so on. Together, these provide
      useful mechanisms for exporting data on the performance of an RTP
      session to non-RTP network management systems. It is desirable to also
      perform in-session monitoring of RTP performance. RTCP provides the
      means to do this. In the following, we specify an architecture for using
      and extending RTCP for monitoring RTP sessions. One major benefit of
      such architecture is ease of integration with other RTP/RTCP
      mechanism.</t>

      <section title="Overview">
        <t>The RTP monitoring architecture comprises the following two key
        functional components shown below:<list style="symbols">
            <t>RTP Monitor</t>

            <t>RTP Metric Block Structure</t>
          </list></t>

        <t>RTP Monitor is the functional component defined in the Real-time
        Transport Protocol <xref target="RFC3550"></xref> that acts as a
        source of information gathered for monitoring purposes. It may gather
        such information reported by RTCP XR or other RTCP extension and
        calculate statistics from multiple source. According to the definition
        of monitor in the RTP Protocol <xref target="RFC3550"></xref>, the end
        system that runs an application program that sends or receives RTP
        data packets, an intermediate-system that forwards RTP packets to
        End-devices or a third party that observes the RTP and RTCP traffic
        but does not make itself visible to the RTP Session participants
        (i.e., the third party monitor depicted in figure 1) can be envisioned
        to act as the monitor within the RTP monitoring architecture. Note
        that the third party monitor should be placed on the RTP/RTCP paths
        between the sender, intermediate and the receiver.</t>

        <t>The RTP Metric Block exposes real time Application QoS/QoE metric
        information in the appropriate report block format to the management
        system (i.e., report collector) within the RTP monitoring
        architecture. Such information can be formulated as:<list
            style="symbols">
            <t>The direct metrics</t>

            <t>or the composed metrics</t>
          </list>or formulated as <list style="symbols">
            <t>The Interval metrics</t>

            <t>or cumulative metrics</t>

            <t>or sampled metrics</t>
          </list>Both the RTCP or RTCP XR can be extended to convey these
        metrics. The details on transport protocols for metric blocks are
        described in <xref target="sec2"></xref>.</t>

        <figure anchor="ARCH" title="RTP Monitoring Architecture">
          <artwork>
           +-------------------+
           | RTP Sender        |      6       +----------+
           |   +-----------+   ||------------&gt;|Management|
--------------&gt;|  Monitor  |----|     6       |  System  |
|          |   |           |   | |-----------&gt;|          |
|          |   +-----------+   | |   --------&gt;|          |
|          |+-----------------+| |   |        +-------/--+
|          ||Application      || |   | -----------|   |
|          ||-Streaming video || |   | |   1      |   |6
| |---------|-VOIP            || |   | | +--------V------+
| |        ||-Video conference|| |   | ---  Third Party  |
| |        ||-Telepresence    || |   |   |    Monitor    |
| |        ||-Ad insertion    || |  6|   +---------------+
5 |        |+-----------------+| |   |
| |        +-------------------+ |   |
| 1                              |   |
| | +Intermediate------------+   |   | |------------------------+
| | | RTP System             |   |   | | RTP Receiver &gt;--4-|    |
| | |      +-----------      |   |   | |    +-----------+       |
| | |      |          -----------|   -------|           |  |    |
| | |      |          |      |         |    |  Monitor  |&lt;--    |
|-----------  Monitor |&lt;--------5------|----|           |&lt;------|
  | |      |          | Report Block   |    +----/------+      ||
  | |      +----------+Transport Over  |                       ||
  | |                  RTCP XR or RTCP |         |2            ||
  | | +-----------------+ extension    | +-------/---------+   ||
  | | |Application      |    |         | |Application      |   ||
  | | |-Streaming video |    |         | |-Streaming video |   ||
  | | |-VOIP            |    |    1    | |-VOIP            |   3|
  ----&gt;-Video conference|---------------&gt;|-Video conference    ||
    | |-Telepresence    |    |         | |-Telepresence    |   ||
    | |-Ad insertion    |    |         | |-Ad insertion    |   ||
    | +-----------------+    |         | +-----------------+   ||
    | +-----------------+    |         | +-----------------+   ||
    | |Transport        |    |         | |Transport        |   ||
    | |-IP/UDP/RTP      |    |         | |-IP/UDP/RTP      &gt;---||
    | |-IP/TCP/RTP      |    |         | |-IP/TCP/RTP      |    |
    | |-IP/TCP/RTSP/RTP |    |         | |-IP/TCP/RTSP/RTP |    |
    | +-----------------+    |         | +-----------------+    |
    +------------------------+         +------------------------+
</artwork>
        </figure>

        <t><list style="numbers">
            <t>RTP communication between real time applications.</t>

            <t>Application level metrics collection.</t>

            <t>Transport level metrics collection.</t>

            <t>End System metrics collection.</t>

            <t>Metrics Reporting over the RTP/RTCP paths</t>

            <t>RTCP information Export to the network management system.</t>
          </list></t>

        <t>RTP is used to multicast groups, both ASM and SSM. These groups can
        be monitored using RTCP. In the ASM case, the monitor is a member of
        the multicast group and listens to RTCP XR reports from all members of
        the ASM group. In the SSM case, there is a unicast feedback target
        that receives RTCP feedback from receivers and distributes it to other
        members of the SSM group (see figure 1 of RFC5760). The monitor will
        need to be co-located with the feedback target to receive all feedback
        from the receivers (this may also be an intermediate system). In both
        ASM and SSM scenarios, receivers can send RTCP XR reports to enhance
        the reception quality reporting.</t>
      </section>

      <section anchor="sec2"
               title="RTCP Metric Block Report and associated parameters">
        <t>The basic RTCP Reception Report (RR) <xref target="RFC3550"></xref>
        conveys reception statistics (i.e., transport level statistics) in
        metric block report format for multiple RTP media streams including
        <list style="symbols">
            <t>the fraction of packet lost since the last report</t>

            <t>the cumulative number of packets lost</t>

            <t>the highest sequence number received</t>

            <t>an estimate of the inter-arrival jitter</t>

            <t>and information to allow senders to calculate the network round
            trip time.</t>
          </list>The RTCP XRs <xref target="RFC3611"></xref> supplement the
        existing RTCP packets and provide more detailed feedback on reception
        quality in several categories:<list style="symbols">
            <t>Loss and duplicate Run Length Encoding (RLE) reports</t>

            <t>Packet-receipt times reports</t>

            <t>Round-trip time reports</t>

            <t>Statistics Summary Reports</t>
          </list></t>

        <t>There are also various other scenarios in which it is desirable to
        send RTCP Metric reports more frequently. For example, the Audio/Video
        Profile with Feedback <xref target="RFC4585"></xref> extends the
        standard Audio/Video Profile <xref target="RFC3551"></xref> to allow
        RTCP reports to be sent early provided RTCP bandwidth allocation is
        respected. The following are four use cases but are not limited
        to:<list style="symbols">
            <t hangText="Retransmission">RTCP NACK is used to provide feedback
            on the RTP sequence number on a subset of the lost packets or the
            total lost packets <xref target="RFC4585"></xref>.</t>

            <t hangText="Codec Control">RTCP is extended to convey requests
            for full intra-coded frames or select the reference picture, and
            signal changes in the desired temporal/spatial trade-off and
            maximum media bit rate <xref target="RFC5104"></xref>.</t>

            <t hangText="Congestion Notification">RTCP or RTCP XR is extended
            to provide feedback on Explicit Congestion Notification (ECN)
            statistics information <xref target="ECN"></xref>.</t>

            <t hangText="Rapid acquisition of multicast sessions">RTCP XR is
            extended to provide feedback on multicast acquisition statistics
            information and parameters <xref target="RFC6332"></xref>.</t>
          </list></t>
      </section>

      <section title="RTP Sender/Receiver entities located in network nodes">
        <t>The location of the RTP Sender/Receiver entities may impact a set
        of meaningful metrics. For instance, application level metrics for QoE
        related performance parameters are under most conditions measured at
        the user device that receives RTP data packets. However in some cases,
        given the factors ( "measurement point location", "measurement model
        location", "awareness of content information", etc <xref
        target="P.NAMS"></xref>) taken into account, such metrics may be
        measured in a network node instead of a user device.</t>
      </section>
    </section>

    <section title="Issues with reporting metric block using RTCP XR extension">
      <t>Issues that have come up in the past with reporting metric block
      using RTCP XR extensions include (but are probably not limited to) the
      following:<list style="symbols">
          <t>Using compound metrics block. A single report block
          (i.e.,compound metrics block) is designed to contain a large number
          of parameters in different classes for a specific application. For
          example, the RTCP Extended Reports (XRs) <xref
          target="RFC3611"></xref> defines seven report block formats for
          network management and quality monitoring. Some of these block types
          defined in the RTCP XRs <xref target="RFC3611"></xref> are only
          specifically designed for conveying multicast inference of network
          characteristics (MINC) or voice over IP (VoIP) monitoring. However
          different applications layered on RTP may have different monitoring
          requirements. Design compound metrics block only for specific
          applications may increase implementation cost and minimize
          interoperability.</t>

          <t>Correlating RTCP XR with the non-RTP data. Canonical End-Point
          Identifier SDES Item (CNAME) defined in the RTP Protocol <xref
          target="RFC3550"></xref> is an example of existing tool that allows
          to bind an Synchronization source (SSRC) that may change to a fixed
          source name in one RTP session. It may be also fixed across multiple
          RTP sessions from the same source. However there may be situations
          where RTCP reports are sent to other participating endpoints using
          non-RTP protocol in a session. For example, as described in the SIP
          RTCP Summary Report Protocol <xref target="RFC6035"></xref>, the
          data contained in RTCP XR VoIP metrics reports <xref
          target="RFC3611"></xref> are forwarded to a central collection
          server systems using SIP. In such case, there is a large portfolio
          of quality parameters that can be associated with real time
          application, e.g., VOIP application, but only a minimal number of
          parameters are included on the RTCP-XR reports. Therefore
          correlation between RTCP XR and non-RTP data should be concerned if
          administration or management systems need to rely on the mapping
          RTCP statistics to non-RTCP measurements to conducts data analysis
          and creates alerts to the users. Without such correlation, it is
          hard to provide accurate measures of real time application quality
          with a minimal number of parameters included on the RTCP-XR reports
          in such case.</t>

          <t>Measurement Information duplication. Measurement information
          provides information relevant to a measurement reported in one or
          more other block types. For example we may set a metric interval for
          the session and monitor RTP packets within one or several
          consecutive metric interval. In such case, the extra measurement
          information (e.g., extended sequence number of 1st packet,
          measurement period) may be expected. However if we put such extra
          measurement information into each metric block, there may be
          situations where an RTCP XR packet containing multiple metric
          blocks, reports on the same streams from the same source. In other
          words, duplicated data for the measurement is provided multiple
          times, once in every metric block. Though this design ensures
          immunity to packet loss, it may bring more packetization complexity
          and the processing overhead is not completely trivial in some cases.
          Therefore compromise between processing overhead and reliability
          should be taken into account.</t>

          <t>Consumption of XR block code points. The RTCP XR block namespace
          is limited by the 8-bit block type field in the RTCP XR header.
          Space exhaustion may be a concern in the future. We therefore may
          need a way to extend the block type space, so that new
          specifications may continue to be developed.</t>
        </list></t>
    </section>

    <section title="Guideline for reporting metric block using RTCP XR">
      <section anchor="smallblock" title="Using single metrics blocks">
        <t>Different applications using RTP for media transport certainly have
        differing requirements for metrics transported in RTCP to support
        their operation. For many applications, the basic metrics for
        transport impairments provided in RTCP SR and RR packets <xref
        target="RFC3550"></xref> (together with source identification provided
        in RTCP SDES packets) are sufficient. For other applications
        additional metrics may be required or at least sufficiently useful to
        justify the overheads, both of processing in endpoints and of
        increased session bandwidth. For example an IPTV application using
        Forward Error Correction (FEC) might use either a metric of
        post-repair loss or a metric giving detailed information about
        pre-repair loss bursts to optimise payload bandwidth and the strength
        of FEC required for changing network conditions. However there are
        many metrics available. It is likely that different applications or
        classes of applications will wish to use different metrics. Any one
        application is likely to require metrics for more than one parameter
        but if this is the case, different applications will almost certainly
        require different combinations of metrics. If larger blocks are
        defined containing multiple metrics to address the needs of each
        application, it becomes likely that many different such larger blocks
        are defined, which becomes a danger to interoperability.</t>

        <t>To avoid this pitfall, this memo proposes the use of single metrics
        blocks each containing a very small number of individual metrics
        characterizing only one parameter of interest to an application
        running over RTP. For example, at the RTP transport layer, the
        parameter of interest might be packet delay variation, and
        specifically the metric "IP Packet Delay Variation (IPDV)" defined by
        <xref target="Y1540"></xref>. See <xref target="example"></xref> for
        architectural considerations for a metrics block, using as an example
        a metrics block to report packet delay variation.</t>
      </section>

      <section title="Correlating RTCP XR with the non-RTP data">
        <t>There may be situation where more than one media transport
        protocols are used by one application to interconnect to the same
        session in the gateway. For example, one RTCP XR Packet is sent to the
        participating endpoints using non-RTP-based media transport (e.g.,
        using SIP) in a VOIP session, one crucial factor lies in how to handle
        their different identities that are corresponding to different media
        transport.</t>

        <t>This memo proposes an approach to facilitate the correlation of the
        RTCP Session with other session-related non-RTP data. That is to say
        if there is a need to correlate RTP sessions with non-RTP sessions,
        then the correlation information needed should be conveyed in a new
        RTCP Source Description (SDES) item, since such correlation
        information describes the source, rather than providing a quality
        report. An example use case is for a participant endpoint may convey a
        call identifier or a global call identifier associated with the SSRC
        of measured RTP stream. In such case, the participant endpoint uses
        the SSRC of source to bind the call identifier using SDES item in the
        SDES RTCP packet and send such correlation to the network management
        system. A flow measurement tool that is configured with the 5-tuple
        and not call-aware then forward the RTCP XR reports along with the
        SSRC of the measured RTP stream which is included in the XR Block
        header and 5-tuple to the network management system. Network
        management system can then correlate this report using SSRC with other
        diagnostic information such as call detail records.</t>
      </section>

      <section title="Reducing Measurement information repetition">
        <t>When multiple metric blocks are carried in one RTCP XR packet,
        reporting on the same stream from the same source for the same time
        period, RTCP should use the SSRC to identify and correlate the
        multiple metric blocks between metric blocks. This memo proposes to
        define a new XR Block that will be used to convey the common time
        period and the number of packets sent during this period. If the
        measurement interval for a metric is different from the RTCP reporting
        interval, then this measurement duration in the Measurement
        information block <xref target="MI"></xref> should be used to specify
        the interval. When there may be multiple measurements information
        blocks with the same SSRC in one RTCP XR compound packet, the
        measurement information block should be put in order and followed by
        all the metric blocks associated with this measurement information
        block. New RTCP XR metric blocks that rely on the Measurement
        information block <xref target="MI"></xref> must specify the response
        in case the new RTCP XR metric block is received without an associated
        measurement information block. In most cases, it is expected that the
        correct response is to discard the received metric. In order to reduce
        measurement information repetition in one RTCP XR compound packet
        containing multiple metric blocks, the measurement information shall
        be sent before the related metric blocks that are from the same
        reporting interval. Note that for packet loss robustness if the report
        blocks for the same interval span over more than one RTCP packet then
        each must have the measurement identity information even if though
        they will be the same.</t>
      </section>

      <section title="Expanding the RTCP XR block namespace">
        <t>The consumption of XR block code points isn't a major issue.
        However if XR block codes points is really close to run out of space,
        it might be desirable to define new fields in the XR report block or
        define one XR block type for vendor-specific extensions, with an
        enterprise number included to identify the vendor making the
        extension.</t>
      </section>
    </section>

    <section anchor="example" title="An example of a metric block">
      <t>This section uses the example of an existing proposed metrics block
      to illustrate the application of the principles set out in <xref
      target="smallblock"></xref>.</t>

      <t>The example <xref target="PDV"></xref> is a block to convey
      information about packet delay variation (PDV) only, consistent with the
      principle that a metrics block should address only one parameter of
      interest. One simple metric of PDV is available in the RTCP RR packet as
      the "interarrival jitter" field. There are other PDV metrics with a
      certain similarity in metric structure which may be more useful to
      certain applications. Two such metrics are the IPDV metric (<xref
      target="Y1540"></xref>, <xref target="RFC3393"></xref>) and the mean
      absolute packet delay variation 2 (MAPDV2) metric <xref
      target="G1020"></xref>. Use of these metrics is consistent with the
      principle in Section 5 of RTCP guideline <xref target="RFC5968"></xref>
      that metrics should usually be defined elsewhere, so that RTCP standards
      define only the transport of the metric rather than its nature. The
      purpose of this section is to illustrate the architecture using the
      example of <xref target="PDV"></xref> rather than to document the design
      of the PDV metrics block or to provide a tutorial on PDV in general.</t>

      <t>Given the availability of at least three metrics for PDV, there are
      design options for the allocation of metrics to RTCP XR blocks:</t>

      <t><list style="symbols">
          <t>provide an RTCP XR block per metric</t>

          <t>provide a single RTCP XR block which contains all three
          metrics</t>

          <t>provide a single RTCP block to convey any one of the three
          metrics, together with a identifier to inform the receiving RTP
          system of the specific metric being conveyed</t>
        </list></t>

      <t>In choosing between these options, extensibility is important,
      because additional metrics of PDV may well be standardized and require
      inclusion in this framework. The first option is extensible but only by
      use of additional RTCP XR blocks, which may consume the limited
      namespace for RTCP XR blocks at an unacceptable rate. The second option
      is not extensible, so could be rejected on that basis, but in any case a
      single application is quite unlikely to require transport of more than
      one metric for PDV. Hence the third option was chosen. This implies the
      creation of a subsidiary namespace to enumerate the PDV metrics which
      may be transported by this block, as discussed further in <xref
      target="PDV"></xref>.</t>
    </section>

    <section anchor="topologies" title="Application to RFC 5117 topologies">
      <t>The topologies specified in <xref target="RFC5117"></xref> fall into
      two categories. The first category relates to the RTP system model
      utilizing multicast and/or unicast. The topologies in this category are
      specifically Topo-Point-to-Point, Topo- Multicast, Topo-Translator (both
      variants, Topo-Trn-Translator and Topo-Media-Translator, and
      combinations of the two), and Topo-Mixer. These topologies use RTP end
      systems, RTP mixers and RTP translators defined in the RTP protocol
      <xref target="RFC3550"></xref>. For purposes of reporting connection
      quality to other RTP systems, RTP mixers and RTP end systems are very
      similar. Mixers resynchronize packets and do not relay RTCP reports
      received from one cloud towards other cloud(s). Translators do not
      resynchronize packets and should forward certain RTCP reports between
      clouds. In this category, the RTP system (end system, mixer or
      translator) which originates, terminates or forwards RTCP XR blocks is
      expected to handle RTCP, including RTCP XR, according to the RTP
      protocol <xref target="RFC3550"></xref>. Provided this expectation is
      met, an RTP system using RTCP XR is architecturally no different from an
      RTP system of the same class (end system, mixer, or translator) which
      does not use RTCP XR. The second category relates to deployed system
      models used in many H.323 <xref target="H323"></xref> video conferences.
      The topologies in this category are Topo-Video-Switch-MCU and
      Topo-RTCP-terminating-MCU. Such topologies based on systems do not
      behave according to the RTP protocol <xref target="RFC3550"></xref>.</t>

      <t>Considering the MCU and translator are two typical topologies in the
      two categories mentioned above, this document will take them as two
      typical examples to explain how RTCP XR report works in different
      RFC5117 topologies.</t>

      <section title="Applicability to MCU">
        <t>Topo-Video-Switch-MCU and Topo-RTCP-terminating-MCU, suffer from
        the difficulties described in [RFC5117]. These difficulties apply to
        systems sending, and expecting to receive, RTCP XR blocks as much as
        to systems using other RTCP packet types. For example, a participant
        RTP end system may send media to a video switch MCU. If the media
        stream is not selected for forwarding by the switch, neither RTCP RR
        packets nor RTCP XR blocks referring to the end system's generated
        stream will be received at the RTP end system. Strictly the RTP end
        system can only conclude that its RTP has been lost in the network,
        though an RTP end system complying with the robustness principle of
        [RFC1122] should survive with essential functions (i.e.,media
        distribution) unimpaired.</t>
      </section>

      <section anchor="txlat" title="Applicability to Translators">
        <t>Section 7.2 of the RTP protocol <xref target="RFC3550"></xref>
        describes processing of RTCP by translators. RTCP XR is within the
        scope of the recommendations of the RTP protocol <xref
        target="RFC3550"></xref>. Some RTCP XR metrics blocks may usefully be
        measured at, and reported by, translators. As described in the RTP
        protocol <xref target="RFC3550"></xref> this creates a requirement for
        the translator to allocate an SSRC for the monitor collocated with
        itself so that the monitor may populate the SSRC in the RTCP XR packet
        header as packet sender SSRC and send it out(although the translator
        is not a Synchronisation Source in the sense of originating RTP media
        packets). It must also supply this SSRC and the corresponding CNAME in
        RTCP SDES packets.</t>

        <t>In RTP sessions where one or more translators generate any RTCP
        traffic towards their next-neighbour RTP system, other translators in
        the session have a choice as to whether they forward a translator's
        RTCP packets. Forwarding may provide additional information to other
        RTP systems in the connection but increases RTCP bandwidth and may in
        some cases present a security risk. RTP translators may have
        forwarding behaviour based on local policy, which might differ between
        different interfaces of the same translator.</t>
      </section>
    </section>

    <section title="IANA Considerations">
      <t>There is no IANA action in this document.</t>
    </section>

    <section title="Security Considerations">
      <t>This document focuses on the RTCP reporting extension using RTCP XR
      and should not give rise to any new security vulnerabilities beyond
      those described in RTCP XRs <xref target="RFC3611"></xref>. However it
      also describes the architectural framework to be used for monitoring at
      RTP layer. The security issues with monitoring needs to be
      considered.</t>

      <t>In RTP sessions, a RTP system may use its own SSRC to send its
      monitoring reports towards its next-neighbour RTP system. Other RTP
      system in the session may have a choice as to whether they forward this
      RTP system's RTCP packets. This present a security issue since the
      information in the report may be exposed by the other RTP system to any
      malicious node. Therefore if the information is considered as sensitive,
      the monitoring report should be encrypted.</t>

      <t>Also note that the third party monitors are not visible at the RTP
      layer since they do not send any RTCP packets. In order to prevent any
      sensitive information leakage, the monitoring from the third party
      monitors should be prohibited unless the security is in place to
      authenticate them.</t>
    </section>

    <section title="Acknowledgement">
      <t>The authors would also like to thank Colin Perkins, Graeme Gibbs,
      Debbie Greenstreet, Keith Drage, Dan Romascanu, Ali C. Begen, Roni Even,
      Magnus Westerlund for their valuable comments and suggestions on the
      early version of this document.</t>
    </section>
  </middle>

  <back>
    <references title="Informative References">
      <reference anchor="RFC1122">
        <front>
          <title>Requirements for Internet Hosts -- Communication
          Layers</title>

          <author initials="R." surname="Braden">
            <organization>USC/ISI</organization>
          </author>

          <date month="October" year="1989" />
        </front>

        <seriesInfo name="RFC" value="1122" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC3393">
        <front>
          <title>IP Packet Delay Variation Metric for IP Performance Metrics
          (IPPM)</title>

          <author fullname="Carlo Demichelis" initials="C."
                  surname="Demichelis">
            <organization>Telecomitalia Lab</organization>
          </author>

          <date month="November" year="2002" />
        </front>

        <seriesInfo name="RFC" value="3393" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC6390">
        <front>
          <title>Guidelines for Considering New Performance Metric
          Development</title>

          <author fullname="A.Clark" initials="A." surname="Clark">
            <organization></organization>
          </author>

          <author fullname="B. Claise" initials="B." surname="Claise">
            <organization></organization>
          </author>

          <date month="October" year="2011" />
        </front>

        <seriesInfo name="RFC" value="6390" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC3550">
        <front>
          <title>RTP: A Transport Protocol for Real-Time Applications</title>

          <author fullname="Henning Schulzrinne" initials="H."
                  surname="Schulzrinne">
            <organization>Columbia University</organization>
          </author>

          <date month="July" year="2003" />
        </front>

        <seriesInfo name="RFC" value="3550" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC3611">
        <front>
          <title>RTP Control Protocol Extended Reports (RTCP XR)</title>

          <author fullname="Timur Friedman" initials="T. (Ed)"
                  surname="Friedman">
            <organization>Paris 6</organization>
          </author>

          <date month="November" year="2003" />
        </front>

        <seriesInfo name="RFC" value="3611" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC5117">
        <front>
          <title>RTP Topologies</title>

          <author fullname="Magnus Westerlund" initials="M."
                  surname="Westerlund">
            <organization>Ericsson Research</organization>
          </author>

          <date month="January" year="2008" />
        </front>

        <seriesInfo name="RFC" value="5117" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC5968">
        <front>
          <title>Guidelines for Extending the RTP Control Protocol
          (RTCP)</title>

          <author fullname="Joerg Ott" initials="J." surname="Ott">
            <organization>Helsinki University of Technology</organization>
          </author>

          <author fullname="C. Perkins" initials="C." surname="Perkins">
            <organization>University of Glasgow</organization>
          </author>

          <date month="September" year="2010" />
        </front>

        <seriesInfo name="RFC" value="5968" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC4585">
        <front>
          <title>Extended RTP Profile for Real-time Transport Control Protocol
          (RTCP)-Based Feedback (RTP/AVPF)</title>

          <author fullname="Joerg Ott" initials="J." surname="Ott">
            <organization>Helsinki University of Technology</organization>
          </author>

          <author fullname="S. Wenger" initials="S." surname="Wenger">
            <organization>Nokia</organization>
          </author>

          <date month="July" year="2006" />
        </front>

        <seriesInfo name="RFC" value="4585" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC3551">
        <front>
          <title>Extended RTP Profile for Real-time Transport Control Protocol
          (RTCP)-Based Feedback (RTP/AVPF)</title>

          <author fullname="H. Schulzrinne" initials="H."
                  surname="Schulzrinne ">
            <organization>Columbia University</organization>
          </author>

          <author fullname="S. Casner" initials="S." surname="Casner">
            <organization>Packet Design</organization>
          </author>

          <date month="July" year="2003" />
        </front>

        <seriesInfo name="RFC" value="3551" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC6035">
        <front>
          <title>Session Initiation Protocol Event Package for Voice Quality
          Reporting</title>

          <author fullname="A. Pendleton" initials="A." surname="Pendleton">
            <organization>Telchemy Incorporated</organization>
          </author>

          <author fullname="A. Clark" initials="A." surname="Clark">
            <organization>Telchemy Incorporated</organization>
          </author>

          <author fullname="A. Johnston" initials="A." surname="Johnston">
            <organization>Avaya</organization>
          </author>

          <author fullname="H. Sinnreich" initials="H." surname="Sinnreich">
            <organization>Unaffiliated</organization>
          </author>

          <date month="November" year="2010" />
        </front>

        <seriesInfo name="RFC" value="6035" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC2959">
        <front>
          <title>Real-Time Transport Protocol Management Information Base
          </title>

          <author fullname="M. Baugher" initials="M." surname="Baugher">
            <organization></organization>
          </author>

          <author fullname="B. Strahm" initials="B." surname="Strahm">
            <organization></organization>
          </author>

          <author fullname="I. Suconick" initials="I." surname="Suconick">
            <organization></organization>
          </author>

          <date month="October" year="2000" />
        </front>

        <seriesInfo name="RFC" value="2959" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC5104">
        <front>
          <title>Session Initiation Protocol Event Package for Voice Quality
          Reporting</title>

          <author fullname="Stephan Wenger" initials="S." surname="Wenger">
            <organization></organization>
          </author>

          <author fullname="Umesh Chandra" initials="U." surname="Chandra">
            <organization></organization>
          </author>

          <author fullname="Magnus Westerlund" initials="M."
                  surname="Westerlund">
            <organization></organization>
          </author>

          <author fullname="Bo Burman" initials="B." surname="Burman">
            <organization>Unaffiliated</organization>
          </author>

          <date month="February" year="2008" />
        </front>

        <seriesInfo name="RFC" value="5104" />

        <format type="TXT" />
      </reference>

      <reference anchor="RFC6332">
        <front>
          <title>Multicast Acquisition Report Block Type for RTP Control
          Protocol (RTCP) Extended Reports (XRs)</title>

          <author fullname="Ali Begen" initials="A." surname="Begen">
            <organization></organization>
          </author>

          <author fullname="Eric Friedrich" initials="E." surname="Friedrich">
            <organization></organization>
          </author>

          <date month="July" year="2011" />
        </front>

        <seriesInfo name="RFC" value="6332" />

        <format type="TXT" />
      </reference>

      <reference anchor="PDV">
        <front>
          <title>RTCP XR Report Block for Packet Delay Variation Metric
          Reporting</title>

          <author fullname="Geoff Hunt" initials="G." surname="Hunt">
            <organization>BT</organization>
          </author>

          <author fullname="Alan Clark " initials="A." surname="Clark">
            <organization></organization>
          </author>

          <author fullname="Qin Wu" initials="Q." surname="Wu">
            <organization></organization>
          </author>

          <date month="December" year="2011" />
        </front>

        <seriesInfo name="ID" value="draft-ietf-xrblock-rtcp-xr-pdv-02" />

        <format type="TXT" />
      </reference>

      <reference anchor="MI">
        <front>
          <title>Measurement Identity and information Reporting using SDES
          item and XR Block</title>

          <author fullname="Qin Wu" initials="Q." surname="Wu">
            <organization></organization>
          </author>

          <date month="January" year="2012" />
        </front>

        <seriesInfo name="ID"
                    value="draft-ietf-xrblock-rtcp-xr-meas-identity-02" />

        <format type="TXT" />
      </reference>

      <reference anchor="QOE">
        <front>
          <title>RTCP XR Blocks for QoE Metric Reporting</title>

          <author fullname="G.Hunt" initials="G." surname="Hunt">
            <organization></organization>
          </author>

          <author fullname="A.Clark" initials="A." surname="Clark">
            <organization></organization>
          </author>

          <author fullname="Qin Wu" initials="Q." surname="Wu">
            <organization></organization>
          </author>

          <author fullname="Roland Schott" initials="R." surname="Schott">
            <organization></organization>
          </author>

          <author fullname="Glen Zorn" initials="G." surname="Zorn">
            <organization></organization>
          </author>

          <date month="February" year="2012" />
        </front>

        <seriesInfo name="ID" value="draft-ietf-xrblock-rtcp-xr-qoe-00" />

        <format type="TXT" />
      </reference>

      <reference anchor="P.NAMS">
        <front>
          <title>Non-intrusive parametric model for the Assessment of
          performance of Multimedia Streaming</title>

          <author>
            <organization>ITU-T</organization>
          </author>

          <date month="November" year="2009" />
        </front>

        <seriesInfo name="ITU-T Recommendation" value="P.NAMS" />
      </reference>

      <reference anchor="G1020">
        <front>
          <title>ITU-T Rec. G.1020, Performance parameter definitions for
          quality of speech and other voiceband applications utilizing IP
          networks</title>

          <author>
            <organization>ITU-T</organization>
          </author>

          <date month="July" year="2006" />
        </front>

        <format type="TXT" />
      </reference>

      <reference anchor="Y1540">
        <front>
          <title>ITU-T Rec. Y.1540, IP packet transfer and availability
          performance parameters</title>

          <author fullname="" initials="" surname="">
            <organization>ITU-T</organization>
          </author>

          <date month="November" year="2007" />
        </front>

        <format type="TXT" />
      </reference>

      <reference anchor="H323">
        <front>
          <title>ITU-T Rec. H.323, Packet-based multimedia communications
          systems</title>

          <author fullname="" initials="" surname="">
            <organization>ITU-T</organization>
          </author>

          <date month="June" year="2006" />
        </front>

        <format type="TXT" />
      </reference>

      <reference anchor="ECN">
        <front>
          <title>Explicit Congestion Notification (ECN) for RTP over
          UDP</title>

          <author fullname="Magnus Westerlund" initials="M."
                  surname="Westerlund">
            <organization>Ericsson</organization>
          </author>

          <author fullname="Ingemar Johansson" initials="I."
                  surname="Johansson">
            <organization>Ericsson</organization>
          </author>

          <author fullname="Colin Perkins" initials="C." surname="Perkins">
            <organization></organization>
          </author>

          <author fullname="Piers O'Hanlon" initials="P." surname="O'Hanlon">
            <organization></organization>
          </author>

          <author fullname="Ken Carlberg" initials="K." surname="Carlberg">
            <organization></organization>
          </author>

          <date month="February" year="2012" />
        </front>

        <seriesInfo name="ID" value="draft-ietf-avtcore-ecn-for-rtp-06" />

        <format type="TXT" />
      </reference>
    </references>

    <section title="Change Log">
      <t>Note to the RFC-Editor: please remove this section prior to
      publication as an RFC.</t>

      <section title="draft-ietf-avtcore-monarch-00">
        <t>The following are the major changes compared to
        draft-hunt-avtcore-monarch-02: <list style="symbols">
            <t>Move Geoff Hunt and Philip Arden to acknowledgement
            section.</t>
          </list></t>
      </section>

      <section title="draft-ietf-avtcore-monarch-01">
        <t>The following are the major changes compared to 00: <list
            style="symbols">
            <t>Restructure the document by merging section 4 into section
            3.</t>

            <t>Remove section 4.1,section 5 that is out of scope of this
            document.</t>

            <t>Remove the last bullet in section 6 and section 7.3 based on
            conclusion of last meeting.</t>

            <t>Update figure 1 and related text in section 3 according to the
            monitor definition in RFC3550.</t>

            <t>Revise section 9 to address monitor declaration issue.</t>

            <t>Merge the first two bullet in section 6.</t>

            <t>Add one new bullet to discuss metric block association in
            section 6.</t>
          </list></t>
      </section>

      <section title="draft-ietf-avtcore-monarch-02">
        <t>The following are the major changes compared to 01: <list
            style="symbols">
            <t>Deleting first paragraph of Section 1.</t>

            <t>Deleting Section 3.1, since the interaction with the management
            application is out of scope of this draft.</t>

            <t>Separate identity information correlation from section 5.2 as
            new section 5.3.</t>

            <t>Remove figure 2 and related text from section 5.2.</t>

            <t>Editorial changes in the section 4 and the first paragraph of
            section 7.</t>
          </list></t>
      </section>

      <section title="draft-ietf-avtcore-monarch-03">
        <t>The following are the major changes compared to 02: <list
            style="symbols">
            <t>Update bullet 2 in section 4 to explain the ill-effect of
            Identity Information duplication.</t>

            <t>Update bullet 3 in section 4 to explain why Correlating RTCP XR
            with the non-RTP data is needed.</t>

            <t>Update section 5.2 to focus on how to reduce the identity
            information repetition</t>

            <t>Update section 5.3 to explain how to correlate identity
            information with the non-RTP data</t>
          </list></t>
      </section>

      <section title="draft-ietf-avtcore-monarch-04">
        <t>The following are the major changes compared to 03: <list
            style="symbols">
            <t>Update section 5.2 to clarify using SDES packet to carry
            correlation information.</t>

            <t>Remove section 5.3 since additional identity information goes
            to SDES packet and using SSRC to identify each block is standard
            RTP feature.</t>

            <t>Swap the last two paragraphs in the section 4 since identity
            information duplication can not been 100% avoided.</t>

            <t>Other editorial changes.</t>
          </list></t>
      </section>

      <section title="draft-ietf-avtcore-monarch-05">
        <t>The following are the major changes compared to 04: <list
            style="symbols">
            <t>Replace "chunk" with "new SDES item".</t>

            <t>Add texts in security section to discussion potential security
            issues.</t>

            <t>Add new sub-section 5.3 to discuss Reducing Measurement
            information repetition.</t>

            <t>Other editorial changes.</t>
          </list></t>
      </section>

      <section title="draft-ietf-avtcore-monarch-06">
        <t>The following are the major changes compared to 05: <list
            style="symbols">
            <t>Some editorial changes.</t>
          </list></t>
      </section>

      <section title="draft-ietf-avtcore-monarch-07">
        <t>The following are the major changes compared to 06: <list
            style="symbols">
            <t>Clarify the XR block code points consumption issue in the
            section 4 and new section 5.4.</t>

            <t>Other editorial changes.</t>
          </list></t>
      </section>

      <section title="draft-ietf-avtcore-monarch-08">
        <t>The following are the major changes compared to 07: <list
            style="symbols">
            <t>Editorial change to the reference.</t>
          </list></t>
      </section>

      <section title="draft-ietf-avtcore-monarch-09">
        <t>The following are the major changes compared to 07: <list
            style="symbols">
            <t>Rephrase application level metric definition.</t>

            <t>Add one new section to clarify where to measure QoE related
            parameters.</t>

            <t>Add text in section 5.3 to clarify the failure case when
            measurement interval is not sent.</t>

            <t>Add text in section 5.3 to clarify how to deal with multiple
            measurements information blocks carried in the same packet.</t>
          </list></t>
      </section>

      <section title="draft-ietf-avtcore-monarch-10">
        <t>The following are the major changes compared to 09: <list
            style="symbols">
            <t>Discuss what exist already for monitoring in section 3.1. </t>

            <t>Provide benefit using RTCP XR based monitoring in section
            3.1.</t>

            <t>add one new paragraph in section 3.1 to describe how monitoring
            architecture is applied to ASM/SSM.</t>

            <t>Other Editorial Changes.</t>
          </list></t>
      </section>
    </section>
  </back>
</rfc>
