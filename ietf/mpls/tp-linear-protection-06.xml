<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes"?>
<?rfc tocompact="yes"?>
<?rfc tocdepth="3"?>
<?rfc tocindent="yes"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="no"?>
<?rfc comments="no"?>
<?rfc inline="yes"?>
<?rfc compact="yes"?>
<?rfc subcompact="no"?>
<rfc category="std"
     docName="draft-ietf-mpls-tp-linear-protection-06.txt"
     ipr="pre5378Trust200902">
  <front>
    <title abbrev="MPLS-TP LP">MPLS-TP Linear Protection</title>

    <author fullname="Stewart Bryant" initials="S." role="editor"
            surname="Bryant">
      <organization>Cisco</organization>

      <address>
        <postal>
          <street></street>

          <region></region>

          <code></code>

          <country>United Kingdom</country>
        </postal>

        <email>stbryant@cisco.com</email>
      </address>
    </author>

    <author fullname="Eric Osborne" initials="E." surname="Osborne">
      <organization>Cisco</organization>

      <address>
        <postal>
          <street></street>

          <region></region>

          <code></code>

          <country>United States</country>
        </postal>

        <email>eosborne@cisco.com</email>
      </address>
    </author>

    <author fullname="Nurit Sprecher" initials="N." role="editor"
            surname="Sprecher">
      <organization>Nokia Siemens Networks</organization>

      <address>
        <postal>
          <street>3 Hanagar St. Neve Ne'eman B</street>

          <city>Hod Hasharon</city>

          <region></region>

          <code>45241</code>

          <country>Israel</country>
        </postal>

        <email>nurit.sprecher@nsn.com</email>
      </address>
    </author>

    <author fullname="Annamaria Fulignoli" initials="A." role="editor"
            surname="Fulignoli">
      <organization>Ericsson</organization>

      <address>
        <postal>
          <street />

          <city />

          <region />

          <code />

          <country>Italy</country>
        </postal>

        <email>annamaria.fulignoli@ericsson.com</email>

        <phone />
      </address>
    </author>

    <author fullname="Yaacov Weingarten" initials="Y." role=""
            surname="Weingarten">
      <organization>Nokia Siemens Networks</organization>

      <address>
        <postal>
          <street>3 Hanagar St. Neve Ne'eman B</street>

          <city>Hod Hasharon</city>

          <region />

          <code>45241</code>

          <country>Israel</country>
        </postal>

        <email>yaacov.weingarten@nsn.com</email>

        <phone>+972-9-775 1827</phone>
      </address>
    </author>

    <date year="2011" />

    <abstract>
      <t>The Transport Profile for Multiprotocol Label Switching (MPLS-TP) is being 
	  specified jointly by IETF and ITU-T. This document addresses the functionality 
	  described in the MPLS-TP Survivability Framework document <xref target=
	  "SurvivFwk" /> and defines a protocol that may be used to fulfill the function 
	  of the Protection State Coordination for linear protection, as described in 
	  that document.</t>

      <t>This document is a product of a joint Internet Engineering Task Force
      (IETF) / International Telecommunications Union Telecommunications
      Standardization Sector (ITU-T) effort to include an MPLS Transport
      Profile within the IETF MPLS and PWE3 architectures to support the
      capabilities and functionalities of a packet transport network as
      defined by the ITU-T. </t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <t>The MPLS Transport Profile (MPLS-TP) <xref target="TPFwk" /> is a 
	  framework for the construction and operation of packet-switched transport 
	  networks based on the architectures for MPLS (<xref target="RFC3031" /> 
	  and <xref target="RFC3032" />) and for Pseudowires (PWs) (<xref target=
	  "RFC3985" /> and <xref target="RFC5659" />) and the requirements of 
	  <xref target="RFC5654" />.</t>

	  <t>Network survivability is the ability of a network to recover traffic 
	  delivery following failure, or degradation of network resources.  The 
	  MPLS-TP Survivability Framework <xref target="SurvivFwk" /> is a framework 
	  for survivability in MPLS-TP networks, and describes recovery elements, 
	  types, methods, and topological considerations, focusing on mechanisms 
	  for recovering MPLS-TP Label Switched Paths (LSPs).</t>

	  <t>Linear protection in mesh networks &ndash; networks with arbitrary 
	  interconnectivity between nodes &ndash; is described in Section 4.7 of 
	  <xref target="SurvivFwk" />.  Linear protection provides rapid and simple 
	  protection switching.  In a mesh network, linear protection provides a 
	  very suitable protection mechanism because it can operate between any pair 
	  of points within the network.  It can protect against a defect in an 
	  intermediate node, a span, a transport path segment, or an end-to-end 
	  transport path.</t>
	  
	  <section title="Protection architectures">
      <t>Protection switching is a fully allocated survivability mechanism. It
      is fully allocated in the sense that the route and bandwidth of the
      protection path is reserved for a selected working path or set of working
      paths. It provides a fast and simple survivability mechanism, that
      allows the network operator to easily grasp the active state of the
      network, compared to other survivability mechanisms.</t>

      <t>As specified in the Survivability Framework document <xref target=
	  "SurvivFwk"></xref>, protection switching is applied to a protection 
	  domain. For the purposes of this document, we define the protection 
	  domain of a P2P LSP as consisting of two Label Edge Routers (LER) and 
	  the transport paths that connect them. For a P2MP LSP the protection 
	  domain includes the root (or source) LER, the destination (or sink) LERs, 
	  and the transport paths that connect them.</t>

      <t>In 1+1 unidirectional architecture as presented in <xref target=
	  "SurvivFwk"></xref>, a protection transport path is dedicated to the 
	  working transport path. Normal traffic is bridged (as defined in <xref 
	  target="RFC4427"></xref>)and fed to both the working and the protection 
	  paths by a permanent bridge at the source of the protection 
	  domain. The sink of the protection domain selects which of the working or 
	  protection paths to receive the traffic from, based on a predetermined 
	  criteria, e.g. server defect indication. When used for bidirectional 
	  switching the 1+1 protection architecture must also support a Protection 
	  State Coordination (PSC) protocol. This protocol is used to help coordinate 
	  between both ends of the protection domain in selecting the proper 
	  traffic flow.</t>

      <t>In the 1:1 architecture, a protection transport path is dedicated to
      the working transport path of a single service and the traffic is only 
	  transmitted either on the working or the protection path, by using a selector 
	  bridge at the source of the protection domain.  A selector at the sink of 
	  the protection domain then selects the path that carries the normal traffic. 
	  Since the source and sink need to be coordinated to ensure that the selector 
	  bridge at both ends select the same path, this architecture must support a 
	  PSC protocol.</t>

      <t>The 1:n protection architecture extends the 1:1 architecture above by
      sharing the protection path among n services. Again, the protection path
      is fully allocated and disjoint from any of the n working transport
      paths that it is being used to protect. The normal data traffic for each
      service is transmitted either on the normal working path for
      that service or, in cases that trigger protection switching (as defined
      in <xref target="SurvivFwk"></xref>), may be sent on the protection path.
	  The switching action is similar to the 1:1 case where a selector bridge 
	  is used at the source.  It should be noted that in cases where multiple 
	  working path services have triggered protection switching that some 
	  services, dependent upon their Service Level Agreement (SLA), may not be 
	  transmitted as a result of limited resources on the protection path. In this 
	  architecture there may be a need for coordination of the protection switching, 
	  and also for resource allocation negotiation. The procedures for this are for 
	  further study and may be addressed in future documents.</t>
	  </section>
	  
	  <section title="Scope of the document">
        <t>As was pointed out in the Survivability Framework <xref target=
		"SurvivFwk"></xref> and highlighted above, there is a need for coordination 
		between the end points of the protection domain when employing bidirectional 
		protection schemes. This is especially true when there is a need to maintain 
		traffic over a co-routed bidirectional LSP.</t>

		<t>The scope of this draft is to present a protocol for the Protection State 
		Coordination of Linear Protection.  The protocol addresses the protection of 
		LSPs in an MPLS-TP network as required by <xref target="RFC5654" /> (in 
		particular requirements 63-65 and 74-79) and described in <xref target="SurvivFwk"
		/>.  The basic protocol is designed for use in conjunction with the 1:1 protection 
		architecture bidirectional protection and for 1+1 protection of a bidirectional 
		path (for both unidirectional and bidirectional protection switching).  Applicability
		of the protocol for 1:1 unidirectional protection and for 1:n protection schemes 
		may be documented in a future document.	The applicability of this protocol to 
		additional MPLS-TP constructs and topologies may be documented in future documents.</t>
		
		<t>While the unidirectional 1+1 protection architecture does not require the
		use of a coordination protocol, the protocol may be used by the ingress node
		of the path to notify the far-side end point that a switching condition has 
		occurred and verify the consistency of the end point configuration.  This use may 
		be especially useful for point-to-multipoint transport paths, that are 
		unidirectional by definition of <xref target="RFC5654" />.
		</t>
	  </section>

      <section title="Contributing authors">
        <t>Hao Long (Huawei), Dan Frost (Cisco), Davide Chiara 
		(Ericsson), Francesco Fondelli (Ericsson), </t>
      </section>
    </section>

    <section title="Conventions used in this document">
      <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <xref
      target="RFC2119"></xref>.</t>

      <section title="Acronyms">
        <texttable align="left" style="none">
          <preamble>This draft uses the following acronyms:</preamble>

          <ttcol align="left"></ttcol>

          <ttcol align="left"></ttcol>

          <c>DNR</c>

          <c>Do not revert</c>

          <c>FS</c>

          <c>Forced Switch</c>

          <c>G-ACh</c>

          <c>Generic Associated Channel Header</c>

          <c>LER</c>

          <c>Label Edge Router</c>
		  
		  <c>LO</c>
		  
		  <c>Lockout of protection</c>

          <c>MPLS-TP</c>

          <c>Transport Profile for MPLS</c>

          <c>MS</c>

          <c>Manual Switch</c>
		  
		  <c>NR</c>
		  
		  <c>No Request</c>

          <c>P2P</c>

          <c>Point-to-point</c>

          <c>P2MP</c>

          <c>Point-to-multipoint</c>

          <c>PSC</c>

          <c>Protection State Coordination Protocol</c>

          <c>SD</c>

          <c>Signal Degrade</c>

          <c>SF</c>

          <c>Signal Fail</c>

          <c>SLA</c>

          <c>Service Level Agreement</c>

          <c>WTR</c>

          <c>Wait-to-Restore</c>
        </texttable>
      </section>

      <section title="Definitions and Terminology">
        <t>The terminology used in this document is based on the terminology
        defined in <xref target="RFC4427"></xref> and further adapted for
        MPLS-TP in <xref target="SurvivFwk"></xref>. In addition, we use the
        term LER to refer to a MPLS-TP Network Element, whether it is a LSR,
        LER, T-PE, or S-PE.</t>
      </section>
    </section>

    <section title="Protection switching control logic">

        <t>Protection switching processes the local triggers described in 
		requirements 74-79 of <xref target="RFC5654" /> together with inputs
		received from the far-end LER. Based on these inputs the LER will take certain 
		protection switching actions, e.g. switching the Selector Bridge to select 
		the working or protection path, and transmit different protocol messages.</t>
		
		<t>The following figure shows the logical decomposition of the Protection
		Switching Control Logic into different logical processing units.  These processing 
		units are presented in subsequent subsections of this document.  This logical 
		decomposition is only intended for descriptive purposes, any implementation that 
		produces the external behavior described in section 4 is acceptable.</t>

        <figure anchor="figure1" title="Protection switching control logic">
          <artwork><![CDATA[
               Server Indication     Control Plane Indication
               -----------------+  +-------------
             Operator Command   |  |   OAM Indication
             ----------------+  |  |  +---------------
                             |  |  |  |
                             V  V  V  V            
                          +---------------+         +-------+ 
                          | Local Request |<--------|  WTR  | 
                          |    logic      |WTR Exps | Timer | 
                          +---------------+         +-------+ 
                                 |                      ^ 
                    Highest local|request               | 
                                 V                      | Start/Stop 
                         +-----------------+            |
             Remote PSC  |  PSC  Control   |------------+                 
            ------------>|      logic      |                 
               Request   +-----------------+                 
                                 |                          
                                 |  Action         +------------+
                                 +---------------->|  Message   |
                                                   | Generator  |
                                                   +------------+
                                                         |
                                              Output PSC | Message
                                                         V

		  ]]></artwork>
        </figure>

        <t><xref target="figure1"></xref> describes the logical architecture
        of the protection switching control. The Local Request logic unit
        accepts the triggers from the OAM, external operator commands, from the 
		local control plane (when present), and the Wait-to-Restore timer.  By
		considering all of these local request sources it determines the highest
        priority local request. This high-priority request is passed to the PSC
		Control logic, that will cross-check this local request with the information 
		received from the far-end LER. The PSC Control logic uses this input to
        determine what actions need to be taken, e.g. local actions at the LER, or 
		what message should be sent to the far-end LER, and the current status of 
		the protection domain.</t>

	  <section title="Local Request Logic">
        <t>The Local Request logic processes input triggers from five sources:</t>

        <t><list style="symbols">
            <t>Operator command &ndash; the network operator may issue local 
			administrative commands on the LER that trigger protection switching. 
			The supported commands are Forced Switch, Manual Switch, Clear, Lockout 
			of Protection, (see definitions in <xref target="RFC4427">	</xref>).</t>

            <t>Server layer alarm indication &ndash; the underlying server 
			layer of the network detects failure conditions at the underlying 
			layer and may issue an indication to the MPLS-TP layer.  The server 
			layer may employ its own protection switching mechanism, and 
			therefore this input MAY be controlled by a holdoff-timer that 
			SHOULD be configurable by the network operator.</t>

            <t>Control plane &ndash; if there is a control plane active in the
            network (either signaling or routing), it MAY trigger protection
            switching based on conditions detected by the control plane. If
            the control plane is based on GMPLS <xref target="RFC3945"></xref>
            then the recovery process SHALL comply with the process described
            in <xref target="RFC4872"></xref>.</t>

            <t>OAM indication &ndash; OAM fault management or performance 
			measurement tools may detect a failure or degrade condition on either the 
			working or protection transport path and this SHOULD input an indication 
			to the Local Request Logic.</t>

			<t>WTR expires &ndash; The Wait-to-Restore timer is used in conjunction 
			with recovery from failure conditions on the working path in revertive 
			mode.  The timer SHALL signal the PSC control process when it expires 
			and the end point SHOULD revert to the normal transmission of the user 
			data traffic.</t>
          </list></t>
		  
		  <t>The Local request logic SHALL process these different input sources and, 
		  based on the priorities between them (see section 4.3.2), shall produce a 
		  current local request.  If more than one local input source generates an 
		  indicator, then the Local request logic shall select the higher priority
		  indicator and block any lower priority indicator.  As a result, there is a
		  single current local request that is passed to the PSC Control logic.  The 
		  different local requests that may be output from the Local Request Logic are:</t>
		  
		  <t><list style="symbols">
		    <t>Clear &ndash; if the operator cancels an active local administrative 
			command, i.e. LO/FS/MS.</t>
			<t>Lockout of Protection (LO) &ndash; if the operator requested to prevent 
			switching data traffic to the protection path, for any purpose.</t>
			<t>Signal Fail (SF) &ndash; if any of the Server Layer, Control plane, or 
			OAM indications signaled a failure condition on either the protection path or 
			one of the working paths.</t>
		    <t>Signal Degrade (SD) &ndash; if any of the Server Layer, Control plane, or 
			OAM indications signaled a degraded transmission condition on either the 
			protection path or one of the working paths.  The determination and actions for
			SD are for further study and may appear in a separate document.  All references
			to SD input are place-holders for this extension.</t>
			<t>Clear Signal Fail &ndash; if all of the Server Layer, Control plane, or OAM
			indications are no longer indicating a failure condition on a path that was
			previously indicating a failure condition.</t>
			<t>Forced Switch (FS) &ndash; if the operator requested that traffic be 
			switched from one of the working paths to the protection path.</t>
			<t>Manual Switch (MS) &ndash; if the operator requested that traffic be 
			switched from the working path to the protection path.  This is only relevant 
			if there is no currently active fault condition or Operator command.</t>
			<t>WTR Expires &ndash; generated by the WTR timer completing its period.</t>
			</list></t>
			
		  <t>If none of the input sources have generated any input then the Local 
		  request logic should generate a No Request (NR) request as the current local 
		  request .</t>
      </section>

	    <section title="Remote Requests">
		<t>In addition to the local requests, generated as a result of the local 
		triggers, indicated in the previous subsection, the PSC Control Logic SHALL 
		accept PSC messages from the far-end LER of the transport path.   These 
		remote messages indicate the status of the transport path from the viewpoint 
		of the far-end LER, and may indicate if the local MEP SHOULD initiate a 
		protection switch operation.</t>
		
		<t>The following remote requests may be received by the PSC process:</t>
		  <t><list style="symbols">
			<t>Remote LO &ndash; indicates that the remote end point is in Unavailable 
			state due to a Lockout of Protection operator command.</t>
			<t>Remote SF &ndash; indicates that the remote end point has detected a 
			Signal Fail condition on one of the transport paths in the protection 
			domain.  This remote message SHALL include an indication of which transport 
			path is affected by the SF condition.  In addition, it should be noted 
			that the SF condition may be either a unidirectional or a bidirectional 
			failure, even if  the transport path is bidirectional.</t>
			<t>Remote SD &ndash; indicates that the remote end point has detected a 
			Signal Degrade condition on one of the transport paths in the protection 
			domain.  This remote message SHALL include an indication of which transport 
			path is affected by the SD condition.  In addition, it should be noted that 
			the SD condition may be either a unidirectional or a bidirectional failure, 
			even if the transport path is bidirectional.</t>
			<t>Remote FS &ndash; indicates that the remote end point is operating under 
			an operator command to switch the traffic to the protection path.</t>
			<t>Remote MS &ndash; indicates that the remote end point is operating under 
			an operator command to switch the traffic to the path that was not being 
			used previously.</t>
			<t>Remote WTR &ndash; indicates that the remote end point has determined 
			that the failure condition has recovered and has started its WTR timer in 
			preparation for reverting to the Normal state.</t>
			<t>Remote DNR &ndash; indicates that the remote end point has determined 
			that the failure condition has recovered and will continue transporting 
			traffic on the protection path due to operator configuration that prevents 
			automatic reversion to the Normal state.</t>
			<t>Remote NR &ndash; indicates that the remote end point has no abnormal 
			condition to report.</t>
		  </list></t>
		</section>

		<section title="PSC Control Logic">
		  <t>The PSC Control Logic SHALL accept as input &ndash; 
		  <list style="letters">
		  <t>the current local request output from the Local Request Logic (see section
		  3.1),</t> 
		  <t>the remote request message from the remote end point of the transport 
		  path (see section 3.2), and</t>
		  <t>the current state of the PSC Control Logic (maintained internally by 
		  the PSC Control Logic).</t>
		  </list></t>
		  <t>Based on the priorities between the different inputs, the PSC Control 
		  Logic SHALL determine the new state of the PSC Control Logic and what 
		  actions need to be taken.</t>
		  
		  <t>The new state information SHALL be retained by the PSC Control Logic, 
		  while the requested action should be sent to the PSC Message Generator (see 
		  subsection 3.4) to generate and transmit the proper PSC message to be 
		  transmitted to the remote end point of the protection domain.</t>
		</section>

		<section title="PSC Message Generator">
		  <t>Based on the action output from the PSC Control Logic this unit formats the 
		  PSC protocol message that is transmitted to the remote end point of the 
		  protection domain.  When the PSC control state (see section 3.6) has changed, 
		  three PSC messages SHOULD be transmitted in quick succession, and subsequent 
		  messages should be transmitted continually at a lower frequency.</t>
		  
		  <t>The transmission of three rapid packets allows for fast protection switching 
		  even if one or two PSC messages are lost or corrupted.  For protection 
		  switching within 50ms, it is RECOMMENDED that the default interval of the first 
		  three PSC messages SHOULD be no larger than 3.3ms.  The subsequent messages 
		  SHOULD be transmitted with an interval of 5 sec, to avoid traffic congestion.</t>
		</section>
		
		<section title="Wait-to-Restore (WTR) timer">
		  <t>The WTR timer is used to delay reversion to Normal state when recovering 
		  from a failure condition on the working path and the protection domain is 
		  configured for revertive behavior.  The length of the timer may be provisioned
		  by the operator.  The WTR may be in one of two states &ndash; either Running or 
		  Stopped.  The control of the WTR timer is managed by the PSC Control Logic, by use
		  of internal signals to start and stop, i.e. reset, the WTR timer.</t>
		  
		  <t>If the WTR timer expires prior to being stopped it shall generate a WTR 
		  Expires local signal that shall be processed by the Local Request Logic.  If 
		  the WTR timer is running, sending a Stop command shall reset the timer, and put 
		  the WTR timer into Stopped state, but shall not generate a WTR Expires local 
		  signal.  If the WTR timer is stopped, a Stop command shall be ignored.</t>
		  </section>
		
        <section title="PSC Control States">
          <t>The PSC Control Logic SHOULD maintain information on the current state 
		  of the protection domain.  Information on the state of the domain is maintained
		  by each LER within the protection domain.  The state information SHALL include 
		  information of the current state of the protection domain, an indication of 
		  the cause for the current state (e.g. unavailable due to local LO command, 
		  protecting due to remote FS), and, for each LER, SHOULD include an indication if 
		  the state is related to a remote or local condition.  If there are both a local
		  indicator and remote indicator for the state then the state shall be 
		  considered a local state. For example, if the protection domain enters into 
		  a Protecting failure state and the LER identifies this due to a remote SF input, 
		  and then a local SF indication is received then even though this was initially a 
		  remote Protecting failure state, by receiving the local SF input the LER is 
		  considered to be in local Protecting failure state.</t>
		  
		  <t>It should be noted that when referring to the &quot;transport&quot; of 
		  the data traffic, in the following descriptions and later in the document 
		  that the data will be transmitted on both the working and the protection 
		  paths when using 1+1 protection, and on either the working or the protection 
		  path exclusively when using 1:1 protection.  When using 1+1 protection, the
		  receiving LER should select the proper transmission, according to the state
		  of the protection domain.</t>
		  
		  <t>The protection domain states that are supported by the PSC Control Logic are:
		    <list style="symbols">
			<t>Normal state &ndash; Both the protection and working paths are fully 
			allocated and active, data traffic is being transported over (or selected
			from) the working path, and no trigger events are reported within the 
			domain.</t>
			<t>Unavailable state &ndash; The protection path is unavailable &ndash;
			either as a result of an operator Lockout command or a failure condition 
			detected on the protection path.</t>
			<t>Protecting failure state &ndash; The working path has reported a 
			failure/degrade condition and the user traffic is being transported (or
			selected) on the protection path.</t>
			<t>Protecting administrative state &ndash; The operator has issued a 
			command switching the user traffic to the protection path.</t>
			<t>Wait-to-restore state &ndash; The protection domain is recovering from 
			a SF/SD condition on the working path that is being controlled by the 
			Wait-to-Restore (WTR) timer.</t>
			<t>Do-not-revert state &ndash; The protection domain is recovering from a 
			Protecting state, but the operator has configured the protection domain to 
			not automatically revert to the Normal state upon recovery.  The protection
			domain SHALL remain in this state until the operator issues a command to 
			revert to the Normal state or there is a new trigger to switch to a
			different state.</t>
            </list></t>

			<t>See section 4.3.3 for details on what actions are taken by the 
			PSC Process	Logic for each state and the relevant input.</t>
			
			<section title="Local and Remote state">
			  <t>An end-point may be in a given state as a result of either a local 
			  input indicator, e.g. OAM, WTR timer, or as a result of receiving a 
			  PSC message from the far-end LER.  If the state is entered as a result
			  of a local input indicator, then the state SHOULD be considered a 
			  local state.  If the state is entered as a result of a PSC message,
			  in the absence of a local input, then the state SHOULD be considered
			  a remote state.  This differentiation affects how the LER should react 
			  to different inputs, as described in section 4.3.3.  The PSC Control 
			  logic should maintain, together with the current protection domain state, 
			  an indication of whether this is a local or remote state, for this LER.</t>
			  
			  <t>In any instance where the LER has both a local and remote indicators
			  that cause the protection domain to enter a particular state, then the
			  state SHOULD be considered a local state, regardless of the order in 
			  which the indicators were processed.  If, however, the LER has local and
			  remote indicators that would cause the protection domain to enter 
			  different states, e.g. a Local SF on working and a Remote Lockout message,
			  then the input with the higher priority (see section 4.3.2) will be the 
			  deciding factor and the source of that indicator will determine whether 
			  it is local or remote.  In the given example the result would be a Remote 
			  Unavailable state transmitting SF(1,0) messages.</t>
			</section>
        </section>
      
    </section>

    <section title="Protection state coordination (PSC) protocol">
      <t>Bidirectional protection switching, as well as unidirectional 1:1
      protection, requires coordination between the two end points in
      determining which of the two possible paths, the working or protection
      path, is transmitting the data traffic in any given situation. When
      protection switching is triggered as described in section 3, the
      end points must inform each other of the switch-over from one path to
      the other in a coordinated fashion.</t>

      <t>There are different possibilities for the type of coordinating
      protocol. One possibility is a two-phased coordination in which the LER
      that is initiating the protection switching sends a protocol message
      indicating the switch but the actual switch-over is performed only after
      receiving an 'Ack' from the far-end LER. The other possibility is a
      single-phased coordination, in which the initiating LER performs the 
	  protection switchover to the alternate path and informs the far-end LER 
	  of the switch, and the far-end LER MUST complete the switchover.</t>

      <t>This protocol is a single-phased protocol, as described above.  In the
	  following subsections we describe the protocol messages that SHALL be
	  used between the two end points of the protection domain.</t>

      <section title="Transmission and acceptance of PSC control packets">
        <t>The PSC control packets SHALL be transmitted over the protection
        path only. This allows the transmission of the messages without
        affecting the normal data traffic in the most prevalent case, i.e. the Normal
        state. In addition, limiting the transmission to a single path avoids
        possible conflicts and race conditions that could develop if the PSC
        messages were sent on both paths.</t>

        <t>When the protection domain state is changed due to a local input, three 
		PSC messages SHOULD be transmitted as quickly as possible, to allow for rapid 
		protection switching.  This set of three rapid messages allows for fast 
		protection switching even if one or two of these packets are lost or corrupted.  
		When the protection domain state changes due to a remote message there is no 
		need for the aforementioned rapid transmission of three messages.  The exception 
		(e.g. when the rapid transmission is still required) is when going from WTR state 
		to Normal state as a result of a remote NR message.</t>

		<t>The frequency of the three rapid messages and the separate frequency of the 
		continual transmission SHOULD be configurable by the operator.  For protection 
		switching within 50ms, it is RECOMMENDED that the default interval of the first 
		three PSC messages SHOULD be no larger than 3.3ms.  The subsequent messages SHOULD 
		be continuously transmitted with an interval of 5 seconds.</t>

        <t>If no valid PSC message is received, the last valid received message remains 
		applicable.</t>
      </section>

      <section title="Protocol format">
        <t>The protocol messages SHALL be sent over the G-ACh as described in
        <xref target="RFC5586"></xref>. There is a single channel type for the 
		set of PSC messages [to be assigned by IANA].  The actual message function 
		SHALL be identified by the Request field of the ACH payload as described 
		below.  The following figure shows the format for the complete PSC message:.</t>

        <figure anchor="figure 2"
                title="Format of PSC packet with a G-ACh header">
          <artwork><![CDATA[
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |0 0 0 1|Version|  Reserved     |   Channel Type = MPLS-TP PSC  |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                          ACH TLV Header                       |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    ~                         Optional TLVs                         ~
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |Ver|Request|PT |R|  Reserved   |     FPath     |     Path      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
		  ]]></artwork>
        </figure>

        <t>Where: <list style="symbols">
            <t>MPLS-TP PSC Channel Code is the G-ACh channel number assigned to
            the PSC = TBD</t>

            <t>The ACH TLV Header is described in <xref target="RFC5586"></xref></t>

            <t>The following subsections describe the fields of the PSC payload.</t>
          </list></t>

		  <section title="PSC Ver field">
			<t>The Ver field identifies the version of the protocol.  For this 
			version the value SHALL be 0.</t>
			</section>
		
		  <section title="PSC Request field">
          <t>The PSC protocol SHALL support transmission of the following requests 
		  between the two end points of the protection domain:</t>
		  <t><list style="symbols">
			<t>(1110) Lockout of protection &ndash; indicates that the end point has 
			disabled the protection path as a result of an administrative command.  
			Both the FPath and Path fields SHALL be set to 0.</t>
			<t>(1101) Forced switch &ndash; indicates that the transmitting end point has 
			switched traffic to the protection path as a result of an administrative 
			command.  The Fpath field SHALL indicate that the working path is being 
			blocked (i.e. Fpath set to 1), and the Path field SHALL indicate that user 
			data traffic is being transported on the protection path (i.e. Path set to 1).</t>
			<t>(0110) Signal Fail &ndash; indicates that the transmitting end point has 
			identified a signal fail condition on either the working or protection 
			path.  The Fpath field SHALL identify the path that is reporting the failure 
			condition (i.e. if protection path then Fpath is set to 0 and if working path
			then Fpath is set to 1), and the Path field SHALL indicate where the data 
			traffic is being transported (i.e. if protection path is blocked then Path 
			is set to 0 and if working path is blocked then Path is set to 1).</t>
			<t>(0101) Signal Degrade &ndash; indicates that that the transmitting end point
			has identified a degradation of the signal, or integrity of the packet 
			transmission on either the working or protection path.  This request is presented
			here only as a place-holder.  The specifics for the method of identifying this 
			degradation is out-of-scope for this document.	The details of the actions to 
			be taken for this situation is left for	future specification.</t>
			<t>(0100) Manual switch &ndash; indicates that the transmitting end point has 
			switched traffic to the protection path as a result of an administrative Manual 
			Switch command.  The Fpath field SHALL indicate that the working path is being 
			blocked (i.e. Fpath set to 1), and the Path field SHALL indicate that user data 
			traffic is being transported on the protection path (i.e. Path set to 1).</t>
			<t>(0011) Wait to restore &ndash; indicates that the transmitting end point 
			is recovering from a failure condition of the working path and has started 
			the Wait-to-Restore timer.  Fpath SHALL be set to 0 and ignored upon 
			receipt.  Path SHALL indicate the working path that is currently being
			protected (i.e. Path set to 1).</t>
			<t>(0010) Do not revert &ndash; indicates that the transmitting end point is 
			recovering from a failure/blocked condition, but due to the local settings 
			is requesting that the protection domain continues to transmit data over 
			the protection path, rather than revert to the Normal state.  Fpath SHALL 
			be set to 0 and ignored upon receipt.  Path SHALL indicate the working 
			path that is currently being protected (i.e. Path set to 1).</t>
			<t>(0000) No request &ndash; indicates that the transmitting end point has 
			nothing to report, Fpath and Path fields SHALL be set to according to the 
			state of the end point, see section 4.3.3 for detailed scenarios.</t>
		  </list></t>
        </section>

        <section title="Protection Type (PT)">
          <t>The PT field indicates the currently configured protection architecture 
		  type, this SHOULD be validated to be consistent for both ends of the 
		  protection domain. If an inconsistency is detected then an alarm SHALL be 
		  sent to the management system. The following are the possible values:</t>

          <t><list style="symbols">
              <t>11: bidirectional switching using a permanent bridge</t>

              <t>10: bidirectional switching using a selector bridge</t>

              <t>01: unidirectional switching using a permanent bridge</t>

              <t>00: for future extensions</t>
            </list></t>
			
		  <t>As described in the introduction (section 1.1) a 1+1 protection architecture
		  is characterized by the use of a permanent bridge at the source node, whereas 
		  the 1:1 and 1:n protection architectures are characterized by the use of a 
		  selector bridge at the source node.</t>
        </section>

		<section title="Revertive (R) field">
		  <t>This field indicates that the transmitting end point is configured to work 
		  in revertive mode.  If there is an inconsistency between the two end points, 
		  i.e. one end point is configured for revertive action and the second end point 
		  is in non-revertive mode, then the management system SHOULD be notified.  
		  Possible values are:</t>
		  
		  <t><list style="symbols">
			<t>0 &ndash; non-revertive mode</t>
			<t>1 &ndash; revertive mode</t>
		  </list></t>
		  </section>
		  
        <section title="Fault path (FPath) field">
          <t>The Fpath field indicates which path (i.e. working or protection) is 
		  identified to be in a fault condition or affected by an administrative 
		  command.  The following are the possible values:</t>

          <t><list style="symbols">
              <t>0: indicates that the anomaly condition is on the protection
              path</t>

              <t>1: indicates that the anomaly condition is on the working path</t>

              <t>2-255: for future extensions</t>
            </list></t>
        </section>

        <section title="Data path (Path) field">
          <t>The Path field indicates which data is being transmitted on the 
		  protection path.  Under normal conditions, the protection path 
		  (especially in 1:1 or 1:n architecture) does not need to carry any 
		  user data traffic.  If there is a failure/degrade condition on one of 
		  the working paths, then that working path's data traffic will be 
		  transmitted over the protection path.  The following are the 
		  possible values:</t>

          <t><list style="symbols">
              <t>0: indicates that the protection path is not transporting user 
			  data traffic (in 1:n architecture) or transporting redundant user 
			  data traffic (in 1+1 architecture).</t>

              <t>1: indicates that the protection path is transmitting user 
			  traffic replacing the use of the working path.</t>

              <t>2-255: for future extensions</t>
            </list></t>
        </section>
      </section>

      <section title="Principles of Operation">
        <t>In all of the following subsections, assume a protection domain
        between LER-A and LER-Z, using paths W (working) and P (protection) as
        shown in figure 3.</t>

        <figure anchor="figure 3" title="Protection domain">
          <artwork><![CDATA[
              +-----+ //=======================\\ +-----+
              |LER-A|//     Working Path        \\|LER-Z|
              |    /|                             |\    |
              |  ?< |                             | >?  |
              |    \|\\    Protection Path      //|/    |
              +-----+ \\=======================// +-----+

                  |--------Protection Domain--------|

   		  ]]></artwork>
        </figure>

		<section title="Basic operation">
		  <t>The purpose of the PSC protocol is to allow an end point of the protection 
		  domain to notify its peer of the status of the domain that is known at the end
		  point and coordinate the transmission of the data traffic.  The current state
		  of the end point is expressed in the values of the Request field [reflecting
		  the local requests at that end point] and the Fpath field [reflecting knowledge 
		  of a blocked path].  The coordination between the end points is expressed by 
		  the value of the Path field [indicating where the user data traffic is being 
		  transmitted].  The value of the Path field SHOULD be identical for both end 
		  points at any particular time.  The values of the Request and Fpath fields may 
		  not be identical between the two end points.  In particular it should be noted 
		  that a remote message MAY not cause the end point to change the Request field 
		  that is being transmitted while it does affect the Path field (see details in 
		  the following subsections).</t>
		  
		  <t>The protocol is a single-phased protocol.  Single-phased implies that each end 
		  point notifies its peer of a change in the operation (switching to or from the 
		  protection path) and makes the switch without waiting for acknowledgement.</t>

		  <t>The following subsections will identify the messages that SHALL be transmitted 
		  by the end point in different scenarios.  The messages are described as 
		  REQ(FP, P) &ndash; where REQ is the value of the Request field,  FP is the 
		  value of the Fpath field, and P is the value of the Path field.  All examples 
		  assume a protection domain between LER-A and LER-Z with a single working path 
		  and single protection path (as shown in figure 3).  Again it should be noted that
		  when using 1:1 protection the data traffic will be transmitted exclusively on
		  either the protection or working path, while when using 1+1 protection the 
		  traffic will be transmitted on both paths and the receiving LER should select
		  the appropriate signal based on the state.  The text will refer to this 
		  transmission/selection as &quot;transport&quot; of the data traffic.</t>
		</section>
		
		<section title="Priority of inputs">
		  <t>As noted above (in section 3.1) the PSC Control Process 
		  accepts input from five local input sources.  There is a definition of 
		  priority between the different inputs that may be triggered locally.  The 
		  list of local requests in order of priority are (from highest to lowest 
		  priority):</t>
		  <t><list style="numbers">
			<t>Clear (Operator command)</t>
			<t>Lockout of protection (Operator command)</t>
			<t>Signal Fail on protection (OAM/Control Plane/Server Indication)</t>
			<t>Forced switch (Operator command)</t>
			<t>Signal Fail on working (OAM/Control Plane/Server Indication)</t>
			<t>Signal Degrade on working (OAM/Control Plane/Server Indication)</t>
			<t>Clear Signal Fail/Degrade (OAM/Control Plane/Server Indication)</t>
			<t>Manual switch (Operator command)</t>
			<t>WTR expires (WTR Timer)</t>
			<t>No request (default)</t>
		  </list></t>

		  <t>As was noted above, the Local request logic SHALL always select the local
		  input indicator with the highest priority as the current local request, i.e.
		  only the highest priority local input will be used to affect the control 
		  logic.  All local inputs with lower priority than this current local request 
		  will be ignored.</t>
		  
		  <t>The remote message from the far-end LER is assigned a priority just below the 
		  similar local input.  For example, a remote Signal Fail on protection would have a
		  priority just below a local Signal Fail on protection but above a local Forced 
		  Switch input.  As mentioned in section 3.6.1, the state transition is determined
		  by the higher priority input between the highest priority local input and the remote 
		  message.  This also determines the classification of the state as local or remote. 
		  The following subsections detail the transition based on the current state and the 
		  higher priority of these two inputs.</t>
		</section>
		
        <section title="Operation of PSC States">
		  <t>The following sub-sections present the operation of the different states
		  defined in section 3.6.  For each state we define the reaction, i.e. the new
		  state and the message to transmit, to each possible input &ndash; either the 
		  highest priority local input or the PSC message from the remote LER.  It should
		  be noted that the new state of the protection domain is described from the 
		  point of view of the LER that is reporting the state, therefore, the language
		  of "the LER goes into a state" is referring to the LER reporting that the 
		  protection domain is now in this new state.  If the definition states to 
		  &quot;ignore&quot; the message, the intention is that the protection domain 
		  should remain in its current state and the LER should continue transmitting 
		  (as presented in section 4.1) the current PSC message.</t>
		  
          <section title="Normal State">
            <t>When the protection domain has no special condition in effect, the 
			ingress LER SHALL forward the user data along the working path, and, in 
			the case of 1+1 protection, the Permanent Bridge will bridge the data to 
			the protection path as well. The receiving LER SHALL read the data from the 
			working path.</t>

		    <t>When the protection domain is in Normal State the end-point SHALL transmit 
			a NR(0,0) message, indicating &ndash; Nothing to report and data traffic is 
			being transported on the working path.</t>

			<t>When the protection domain is in Normal State the following transitions 
			are relevant in reaction to a local input (new state SHOULD be marked as 
			local) to the LER:
			<list style="symbols">
			  <t>A local Lockout of protection input SHALL cause the LER to go into 
			  local Unavailable State and begin transmission of a LO(0,0) message.</t>
			  <t>A local Forced switch input SHALL cause the LER to go into local 
			  Protecting administrative state and begin transmission of a FS(1,1) 
			  message.</t>
			  <t>A local Signal Fail indication on the protection path SHALL cause the 
			  LER to go into local Unavailable state and begin transmission of a SF(0,0) 
			  message.</t>
			  <t>A local Signal Fail indication on the working path SHALL cause the LER 
			  to go into local Protecting failure state and begin transmission of a SF(1,1) 
			  message.</t>
			  <t>A local Manual switch input SHALL cause the LER to go into local 
			  Protecting administrative state and begin transmission of a MS(1,1) message.</t>
			  <t>All other local inputs SHALL be ignored.</t>
			  </list></t>

			<t>In Normal state, remote messages would cause the following reaction from 
			the LER (new state SHOULD be marked as remote):
			  <list style="symbols">
			  <t>A remote Lockout of protection message SHALL cause the LER to go into 
			  remote Unavailable state, while continuing to transmit the NR(0,0) message.</t>
			  <t>A remote Forced switch message SHALL cause the LER to go into remote 
			  Protecting administrative state, and begin transmitting a NR(0,1) message.</t>
			  <t>A remote Signal Fail message that indicates that the failure is on the 
			  protection path SHALL cause the LER (LER-A) to go into remote Unavailable 
			  state, while continuing to transmit the NR(0,0) message.</t>
			  <t>A remote Signal Fail message that indicates that the failure is on the 
			  working path SHALL cause the LER to go into remote Protecting failure state, 
			  and transmit a NR(0,1) message.</t>
			  <t>A remote Manual switch message SHALL cause the LER to go into remote
			  Protecting administrative state, and transmit a NR(0,1) message.</t>
			  <t>All other remote messages SHALL be ignored.</t>
			  </list></t>

          </section>

          <section title="Unavailable State">
            <t>When the protection path is unavailable &ndash; either as a result of a 
			Lockout operator command, or as a result of a SF detected on the protection 
			path &ndash; then the protection domain is in the unavailable state. In 
			this state, the data traffic is transported on the working path and is not
			protected.  When the domain is in unavailable state the PSC messages may 
			not get through and therefore the protection is more dependent on the local 
			inputs rather than the remote messages (that may not be received).</t>

            <t>The protection domain will exit the unavailable state and revert to the 
			normal state when, either the operator clears the Lockout command or the 
			protection path recovers from the signal fail or degraded situation. Both 
			ends will continue to send the PSC messages over the protection path, as a 
			result of this recovery.</t>

			<t>When the LER (assume LER-A) is in Unavailable State the following 
			transitions are relevant in reaction to a local input (new state SHOULD 
			be marked as local):
			<list style="symbols">
			  <t>A local Clear input SHOULD be ignored if the LER is in remote 
			  Unavailable state.  If in local Unavailable state due to a Lockout 
			  command, then the input SHALL cause the LER to go to Normal state and 
			  begin transmitting a NR(0,0) message.</t>
			  <t>A local Lockout of protection input SHALL cause the LER to remain in 
			  local Unavailable State and transmit a LO(0,0) message to the far-end 
			  LER (LER-Z).</t>
			  <t>A local Clear SF of the protection path in local Unavailable state 
			  that is due to a SF on the protection path SHALL cause the LER to go to 
			  Normal state and begin transmitting a NR(0,0) message.  If the LER is 
			  in remote Unavailable state but has an active local SF condition, then 
			  the local Clear SF SHALL clear the SF local condition and the LER SHALL 
			  remain in remote Unavailable state and begin transmitting NR(0,0) 
			  messages.  In all other cases the local Clear SF SHOULD be ignored.</t>
			  <t>A local Forced switch SHALL be ignored by the PSC Control Logic.</t>
			  <t>A local Signal Fail on the protection path input when in local 
			  Unavailable state [by implication this is due to a local SF on protection]
			  SHALL cause the LER to remain in local Unavailable state and transmit a 
			  SF(0,0) message.</t>
			  <t>A local Signal Fail on the working path input when in remote Unavailable
			  state SHALL cause the LER to remain in remote Unavailable state and 
			  transmit a SF(1,0) message.</t>
			  <t>All other local inputs SHALL be ignored.</t>
			  </list></t>

			<t>If remote messages are being received over the protection path then they 
			would have the following affect:
			<list style="symbols">
			  <t>A remote Lockout of protection message SHALL cause the LER to remain in 
			  Unavailable state, (note that if the LER was previously in local Unavailable
			  state due to a Signal Fail on the protection path, then it will now be in 
			  remote Unavailable state) and continue transmission of the current message 
			  (either NR(0,0) or LO(0,0) or SF(0,0))</t>
			  <t>A remote Signal Fail message that indicates that the failure is on the 
			  protection path SHALL cause the LER to remain in Unavailable state and 
			  continue transmission of the current message (either NR(0,0) or SF(0,0) or
			  LO(0,0)).</t>
			  <t>A remote No Request, when the LER is in remote Unavailable state SHALL 
			  cause the LER to go into Normal state and continue transmission of the 
			  current message (either NR(0,0) or SF(0,0)).  If there is a local SF
			  indicator this may cause an immediate state change after switching into
			  Normal state.  When in local Unavailable state, the remote message SHALL 
			  be ignored.</t>
			  <t>All other remote messages SHALL be ignored.</t>
			  </list></t>

          </section>

          <section title="Protecting administrative state">
			<t>In the protecting state the user data traffic is being transported on 
			the protection path, while the working path is blocked due to an operator 
			command, i.e. Forced Switch or Manual Switch.  The difference between a
			local FS and local MS affects what local indicators may be received - the
			Local request logic will block any local SF when under the influence of a
			local FS, whereas the SF would override a local MS.  In general, a MS will
			be canceled in case of either a local or remote SF or LO condition.</t>

			<t>The following describe the reaction to local input:
			<list style="symbols">
			  <t>A local Clear SHOULD be ignored if in remote Protecting administrative
			  state.  If in local Protecting administrative state then this input SHALL 
			  cause the LER to go into Normal state and begin transmitting a NR(0,0) 
			  message.</t>
			  <t>A local Lockout of protection input SHALL cause the LER to go into 
			  local Unavailable state and begin transmission of a LO(0,0) message.</t>
			  <t>A local Forced switch input SHALL cause the LER to remain in local 
			  Protecting administrative state and transmit a FS(1,1) message.</t>
			  <t>A local Signal Fail indication on the protection path SHALL cause the 
			  LER to go into local Unavailable state (i.e. overriding the MS or FS related 
			  Protection administrative state) and begin transmission of a SF(0,0) 
			  message.</t>
			  <t>A local Signal Fail indication on the working path SHALL cause the LER 
			  to go into local Protecting failure state and begin transmitting a SF(1,1) 
			  message, if the current state is due to a (local or remote) Manual switch 
			  operator command.  If the LER is in remote Protecting administrative state
			  due to a remote Forced Switch command, then this local indication SHALL 
			  cause the LER to remain in remote Protecting administrative state and 
			  transmit a SF(1,1) message. If the LER is in local Protecting administrative
			  state due to a local Forced Switch command then this indication SHALL be 
			  ignored (i.e. the indication should have been blocked by the Local request
			  logic).</t>
			  <t>A local Clear SF when in remote Protecting administrative state SHOULD
			  clear any local SF condition that may exist.  The LER SHALL stop 
			  transmitting the SF(x,1) message and begin transmitting an NR(0,1) message.</t>
			  <t>A local Manual switch input SHALL be ignored if in remote Protecting 
			  administrative state is due to a remote Forced switch command.  If the 
			  current state is due to a (local or remote) Manual switch operator command, 
			  it SHALL cause the LER to remain in local Protecting administrative state 
			  and transmit a MS(1,1) message.</t>
			  <t>All other local inputs SHALL be ignored.</t>
			  </list></t>

			  <t>While in Protecting administrative state the LER may receive and react 
			  as follows to remote PSC messages:
			  <list style="symbols">
				<t>A remote Lockout of protection message SHALL cause the LER to go into 
				remote Unavailable state and begin transmitting a NR(0,0) message.  It 
				should be noted that this automatically cancels the current Forced switch 
				or Manual switch command and data traffic is reverted to the working path.</t>
				<t>A remote Forced switch message SHOULD be ignored by the PSC Process 
				Logic if there is an active local Forced switch operator command.  If the 
				Protecting administrative state is due to a remote Forced switch message 
				then the LER SHALL remain in remote Protecting administrative state and 
				continue transmitting the last message.  If the Protecting administrative 
				state is due to either a local or remote Manual switch then the LER SHALL 
				remain in remote Protecting administrative state (updating the state 
				information with the proper relevant information) and begin transmitting 
				a NR(0,1) message.</t>
				<t>A remote Signal Fail message indicating a failure on the protection path 
				SHALL cause the LER to go into remote Unavailable state and begin 
				transmitting a NR(0,0) message.  It should be noted that this automatically 
				cancels the current Forced switch or Manual switch command and data traffic 
				is reverted to the working path.</t>
				<t>A remote Signal Fail message indicating a failure on the working path 
				SHALL be ignored if there is an active local Forced switch command.  If 
				the Protecting state is due to a local or remote Manual switch then the 
				LER SHALL go to remote Protecting failure state and begin transmitting a 
				NR(0,1) message.</t>
				<t>A remote Manual switch message SHALL be ignored by the PSC Control Logic 
				if in Protecting administrative state due to a local or remote Forced switch.  
				If in Protecting administrative state due to a remote Manual switch then 
				the LER SHALL remain in remote Protecting administrative state and continue 
				transmitting the current message.  If in local Protecting administrative state 
				due to an active Manual switch then the LER SHALL remain in local Protecting 
				administrative state and continue transmission of the MS(1,1) message.</t>
				<t>A remote DNR(0,1) message SHALL be ignored if in local Protecting 
				administrative state.  If in remote Protecting administrative state then the 
				LER SHALL go to Do-not-revert state and continue transmitting the current
				message.</t>
				<t>A remote NR(0,0) message SHALL be ignored if in local Protecting 
				administrative state.  If in remote Protecting administrative state then 
				the LER SHALL go to Normal state and begin transmitting a NR(0,0) message.</t>
				<t>All other remote messages SHOULD be ignored.</t>
				</list></t>

		  </section>
		  
          <section title="Protecting failure state">
            <t>When the protection mechanism has been triggered and the protection 
			domain has performed a protection switch, the domain is in the protecting 
			failure state. In this state the normal data traffic is transported on the 
			protection path.  When an LER is in this state it implies that there was 
			either a local SF condition or received a remote SF PSC message.  The SF
			condition or message indicated that the failure is on the working path.</t>
			
			<t>This state may be overridden by the Unavailable state triggers, i.e. 
			Lockout of Protection or SF on the protection path, or by issuing a FS
			operator command.  This state will be cleared when the SF condition is 
			cleared.  In order to prevent flapping due to an intermittent fault, the 
			LER SHOULD employ a Wait-to-restore timer to delay return to Normal state
			until the network has stabilized (see section 3.5)</t>

			<t>The following describe the reaction to local input:
			<list style="symbols">
			  <t>A local Clear SF SHALL be ignored if in remote Protecting failure state.  
			  If in local Protecting failure state and the LER is configured for revertive 
			  behavior then this input SHALL cause the LER to go into Wait-to-restore 
			  state, start the WTR timer, and begin transmitting a WTR(0,1) message.  If 
			  in local Protecting failure state and the LER is configured for non-revertive 
			  behavior then this input SHALL cause the LER to go into Do-not-revert state 
			  and begin transmitting a DNR(0,1) message.</t>
			  <t>A local Lockout of protection input SHALL cause the LER to go into 
			  Unavailable state and begin transmission of a LO(0,0) message.</t>
			  <t>A local Forced switch input SHALL cause the LER to go into Protecting 
			  administrative state and begin transmission of a FS(1,1) message.</t>
			  <t>A local Signal Fail indication on the protection path SHALL cause the LER 
			  to go into Unavailable state and begin transmission of a SF(0,0) message.</t>
			  <t>A local Signal Fail indication on the working path SHALL cause the LER to 
			  remain in local Protecting failure state and transmit a SF(1,1) message.</t>
			  <t>All other local inputs SHOULD be ignored.</t>
			  </list></t>

			<t>While in Protecting failure state the LER may receive and react as follows to 
			remote PSC messages:
			<list style="symbols">
			  <t>A remote Lockout of protection message SHALL cause the LER to go into 
			  remote Unavailable state and if in local Protecting failure state then the 
			  LER SHALL transmit a SF(1,0) message, otherwise it SHALL transmit a NR(0,0) 
			  message.  It should be noted that this may cause loss of user data since the 
			  working path is still in a failure condition.</t>
			  <t>A remote Forced switch message SHALL cause the LER go into remote 
			  Protecting administrative state and if in local Protecting failure state the 
			  LER SHALL transmit the SF(1,1) message, otherwise it SHALL transmit NR(0,1).</t>
			  <t>A remote Signal Fail message indicating a failure on the protection path 
			  SHALL cause the LER to go into remote Unavailable state and if in local 
			  Protecting failure state then the LER SHALL transmit a SF(1,0) message, 
			  otherwise it SHALL transmitting NR(0,0) message.  It should be noted that 
			  this may cause loss of user data since the working path is still in a 
			  failure condition.</t>
			  <t>If in remote Protecting failure state, a remote Wait-to-Restore message 
			  SHALL cause the LER to go into remote Wait-to-Restore state and continue 
			  transmission of the current message.</t>
			  <t>If in remote Protecting failure state, a remote Do-not-revert message 
			  SHALL cause the LER to go into remote Do-not-revert state and continue 
			  transmission of the current message.</t>
			  <t>If in remote Protecting failure state, a remote NR(0,0) SHALL cause the 
			  LER to go to Normal state and transmit an NR(0,0) message.</t>
			  <t>All other remote messages SHOULD be ignored.</t>
			  </list></t>

          </section>
		  
		  <section title="Wait-to-restore state">
			<t>The Wait-to-Restore state is used by the PSC protocol to delay reverting to 
			the normal state, when recovering from a failure condition on the working path, 
			for the period of the WTR timer to allow the recovering failure to stabilize.  
			While in the Wait-to-Restore state the data traffic SHALL continue to be 
			transported on the protection path.  The natural transition from the 
			Wait-to-Restore state to Normal state will occur when the WTR timer expires.</t>

			<t>When in Wait-to-Restore state the following describe the reaction to local 
			inputs:
			<list style="symbols">
			  <t>A local Lockout of protection command SHALL cause the LER to Stop the WTR 
			  timer, go into local Unavailable state, and begin transmitting a LO(0,0) message.</t>
			  <t>A local Forced switch command SHALL cause the LER to Stop the WTR timer, go 
			  into local Protecting administrative state, and begin transmission of a FS(1,1) 
			  message.</t>
			  <t>A local Signal Fail indication on the protection path SHALL cause the LER 
			  to Stop the WTR timer, go into local Unavailable state, and begin transmission 
			  of a SF(0,0) message.</t>
			  <t>A local Signal Fail indication on the working path SHALL cause the LER to 
			  Stop the WTR timer, go into local Protecting failure state, and begin transmission 
			  of a SF(1,1) message.</t>
			  <t>A local Manual switch input SHALL cause the LER to Stop the WTR timer, go 
			  into local Protecting administrative state and begin transmission of a MS(1,1) 
			  message.</t>
			  <t>A local WTR expires input SHALL cause the LER to remain in Wait-to-Restore 
			  state and begin transmitting a NR(0,1) message.</t>
			  <t>All other local inputs SHOULD be ignored.</t>
			  </list></t>

			<t>When in Wait-to-Restore state the following describe the reaction to remote 
			messages:
			<list style="symbols">
			  <t>A remote Lockout of protection message SHALL cause the LER to Stop the WTR 
			  timer, go into remote Unavailable state, and begin transmitting a NR(0,0) 
			  message.</t>
			  <t>A remote Forced switch message SHALL cause the LER to Stop the WTR timer, 
			  go into remote Protecting administrative state, and begin transmission of a 
			  NR(0,1) message.</t>
			  <t>A remote Signal Fail message for the protection path SHALL cause the LER 
			  to Stop the WTR timer, go into remote Unavailable state, and begin 
			  transmission of a NR(0,0) message.</t>
			  <t>A remote Signal Fail message for the working path SHALL cause the LER to 
			  Stop the WTR timer, go into remote Protecting failure state, and begin 
			  transmission of a NR(0,1) message.</t>
			  <t>A remote Manual switch message SHALL cause the LER to Stop the WTR timer, 
			  go into remote Protecting administrative state and begin transmission of a 
			  NR(0,1) message.</t>
			  <t>If the WTR timer is running then a remote NR message SHALL be ignored.  
			  If the WTR timer is stopped then a remote NR message SHALL cause 
			  the LER to go into Normal state and begin transmitting a NR(0,0) message.</t>
			  <t>All other remote messages SHOULD be ignored.</t>
			  </list></t>
		  
		  </section>
		  
		  <section title="Do-not-revert state">
			<t>Do-not-revert state is a continuation of the Protecting failure state.  
			When the protection domain is configured for non-revertive behavior.  While 
			in Do-not-revert state, data traffic continues to be transported on the 
			protection path until the administrator sends a command to revert to the 
			Normal state.  It should be noted that there is a fundamental difference 
			between this state and Normal &ndash; whereas Forced Switch in Normal state 
			actually causes a switch in the transport path used, in Do-not-revert state 
			the Forced switch just switches the state (to Protecting administrative state) 
			but the traffic would continue to be transported on the protection path!  To 
			revert back to Normal state the administrator SHALL issue a Lockout of 
			protection command followed by a Clear command.</t>

			<t>When in Do-not-revert state the following describe the reaction to local 
			input:
			<list style="symbols">
			  <t>A local Lockout of protection command SHALL cause the LER to go into 
			  local Unavailable state and begin transmitting a LO(0,0) message.</t>
			  <t>A local Forced switch command SHALL cause the LER to go into local 
			  Protecting administrative state and begin transmission of a FS(1,1) 
			  message.</t>
			  <t>A local Signal Fail indication on the protection path SHALL cause the 
			  LER to go into local Unavailable state and begin transmission of a SF(0,0) 
			  message.</t>
			  <t>A local Signal Fail indication on the working path SHALL cause the LER 
			  to go into local Protecting failure state and begin transmission of a SF(1,1) 
			  message.</t>
			  <t>A local Manual switch input SHALL cause the LER to go into local Protecting 
			  administrative state and begin transmission of a MS(1,1) message.</t>
			  <t>All other local inputs SHOULD be ignored.</t>
			  </list></t>

			<t>When in Do-not-revert state the following describe the reaction to remote 
			messages:
			<list style="symbols">
			  <t>A remote Lockout of protection message SHALL cause the LER to go into 
			  remote Unavailable state and begin transmitting a NR(0,0) message.</t>
			  <t>A remote Forced switch message SHALL cause the LER to go into remote 
			  Protecting administrative state and begin transmission of a NR(0,1) message.</t>
			  <t>A remote Signal Fail message for the protection path SHALL cause the LER 
			  to go into remote Unavailable state and begin transmission of a NR(0,0) 
			  message.</t>
			  <t>A remote Signal Fail message for the working path SHALL cause the LER to 
			  go into remote Protecting failure state, and begin transmission of a NR(0,1) 
			  message.</t>
			  <t>A remote Manual switch message SHALL cause the LER to go into remote 
			  Protecting administrative state and begin transmission of a NR(0,1) message.</t>
			  <t>All other remote messages SHOULD be ignored.</t>
			  </list></t>

		  </section>
        </section>
      </section>
    </section>

    <section anchor="IANA" title="IANA Considerations">
      <t>This draft requires the allocation of a Channel Code from the G-ACh repository.</t>
    </section>

    <section anchor="Security" title="Security Considerations">
      <t>To be added in future version.</t>
    </section>

    <section anchor="Acknowledgements" title="Acknowledgements">
      <t>The authors would like to thank all members of the teams (the Joint
      Working Team, the MPLS Interoperability Design Team in IETF and the
      T-MPLS Ad Hoc Group in ITU-T) involved in the definition and
      specification of MPLS Transport Profile.</t>
    </section>
	<appendix anchor="StateMachine" title="PSC state machine tables">
	  <t>The PSC state machine is described in section 4.3.3.  This appendix 
	  provides the same information but in tabular format.  In the event of 
	  a mismatch between these tables and the text in section 4.3.3, the text 
	  is authoritative.  Note that this appendix is intended to be a functional 
	  description, not an implementation specification.</t>

      <t>For the sake of clarity of the table the six states listed in the text 
	  are split into thirteen states.  The logic of the split is to differentiate 
	  between the different cases given in the conditional statements in the 
	  descriptions of each state in the text.  In addition, the remote and local 
	  states were split for the Unavailable, Protecting failure, and Protecting 
	  administrative states.</t>
   
      <t>There is only one table for the PSC state machine, but it is broken into 
	  two parts for space reasons.  The first part lists the thirteen possible 
	  states, the eight possible local inputs (that is, inputs which are generated 
	  by the node in question) and the action taken when a given input is received 
	  when the node is in a particular state.  The second part of the table lists 
	  the thirteen possible states and the eight remote inputs (inputs which come 
	  from a node other than the one executing the state machine).</t>

      <t>There are thirteen rows in the table, headers notwithstanding. These rows 
	  are the thirteen possible extended states in the state machine.</t>
   
      <t>The text in the first column is the current state.  Those states which have 
	  both source and cause are formatted as State:Cause:Source.  For example, the 
	  string UA:LO:L indicates that the current state is &apos;Unavailable&apos;, 
	  that the cause of the current state is a Lockoutof protection that was a 
	  Local input.  In contrast, the state N simply is Normal; there is no need to 
	  track the cause for entry into Normal state.</t>
	  
	  <texttable align="left" style="none">
          <preamble>The thirteen extended states, as they appear in the table, are:</preamble>

          <ttcol align="left"></ttcol>
          <ttcol align="left"></ttcol>

          <c>N</c>
          <c>Normal state</c>
		  
		  <c>UA:LO:L</c>
		  <c>Unavailable state due to local Lockout</c>
		  
		  <c>UA:P:L</c>
		  <c>Unavailable state due to local SF on protection path</c>
		  
		  <c>UA:LO:R</c>
		  <c>Unavailable state due to remote Lockout message</c>
		  
		  <c>UA:P:R</c>
		  <c>Unavailable state due to remote SF message on protection path</c>
		  
		  <c>PF:W:L</c>
		  <c>Protecting failure state due to local SF on working path</c>
		  
		  <c>PF:W:R</c>
		  <c>Protecting failure state due to remote SF message on working path</c>
		  
		  <c>PA:F:L</c>
		  <c>Protecting administrative state due to local FS operator command</c>
		  
		  <c>PA:M:L</c>
		  <c>Protecting administrative state due to local MS operator command</c>
		  
		  <c>PA:F:R</c>
		  <c>Protecting administrative state due to remote FS message</c>
		  
		  <c>PA:M:R</c>
		  <c>Protecting administrative state due to remote MS message</c>
		  
		  <c>WTR</c>
		  <c>Wait-to-restore state</c>
		  
		  <c>DNR</c>
		  <c>Do-not-revert state</c>
		  </texttable>
		  
		  <t>Each state corresponds to the transmission of a particular set of 
		  Request, FPath and Path bits.  The table below lists the message that 
		  is generally sent in each particular state.  If the message to be sent 
		  in a particular state deviates from the table below, it is noted in 
		  the footnotes to the state-machine table.</t>
		  
		  <texttable align="left" style="headers">
		    <ttcol align="left">State</ttcol>
			<ttcol align="left">REQ(FP,P)</ttcol>
			
			<c>N</c>
			<c>NR(0,0)</c>
			
			<c>UA:LO:L</c>
			<c>LO(0,0)</c>
			
			<c>UA:P:L</c>
			<c>SF(0,0)</c>
			
			<c>UA:LO:R</c>
			<c>NR(0,0)</c>
			
			<c>UA:P:R</c>
			<c>NR(0,0)</c>
			
			<c>PF:W:L</c>
			<c>SF(1,1)</c>
			
			<c>PF:W:R</c>
			<c>NR(0,1)</c>
			
			<c>PA:F:L</c>
			<c>FS(1,1)</c>
			
			<c>PA:M:L</c>
			<c>MS(1,1)</c>
			
			<c>PA:F:R</c>
			<c>NR(0,1)</c>
			
			<c>PA:M:R</c>
			<c>NR(0,1)</c>
			
			<c>WTR</c>
			<c>WTR(0,1)</c>
			
			<c>DNR</c>
			<c>DNR(0,1)</c>
			</texttable>
			
		  <texttable align="left" style="none">
			<preamble>The top row in each table is the list of possible inputs.  
			The local inputs are:</preamble>
			  
			<ttcol align="left"> </ttcol>
			<ttcol align="left"> </ttcol>
			  
			<c>NR</c>
			<c>No Request</c>
			
			<c>OC</c>
			<c>Operator Clear</c>
			
			<c>LO</c>
			<c>Lockout of protection</c>
			
			<c>SF-P</c>
			<c>Signal Fail on protection path</c>
			
			<c>SF-W</c>
			<c>Signal Fail on working path</c>
			
			<c>FS</c>
			<c>Forced Switch</c>
			
			<c>SFc</c>
			<c>Clear Signal Fail</c>
			
			<c>MS</c>
			<c>Manual Switch</c>
			
			<c>WTRExp</c>
			<c>WTR Expired</c>
			</texttable>
		  
		  <texttable align="left" style="none">
		    <preamble>and the remote inputs are:</preamble>
			
			<ttcol align="left"></ttcol>
			<ttcol align="left"></ttcol>
			
			<c>LO</c>
			<c>remote LO message</c>
			
			<c>SF-P</c>
			<c>remote SF message indicating protection path</c>
			
			<c>SF-W</c>
			<c>remote SF message indicating working path</c>
			
			<c>FS</c>
			<c>remote FS message</c>
			
			<c>MS</c>
			<c>remote MS message</c>
			
			<c>WTR</c>
			<c>remote WTR message</c>
			
			<c>DNR</c>
			<c>remote DNR message</c>
			
			<c>NR</c>
			<c>remote NR message</c>
			</texttable>
			
		  <t>Section 4.3.3 refers to some states as &apos;remote&apos; and 
		  some as &apos;local&apos;.  By definition, all states listed in 
		  the table of local sources are local states, and all states listed 
		  in the table of remote sources are remote states.  For example, 
		  section 4.3.3.1 says &quot;A local Lockout of protection input SHALL 
		  cause the LER to go into local Unavailable State&quot;.  As the 
		  trigger for this state change is a local one, &apos;local Unavailable 
		  State&apos; is by definition displayed in the table of local sources.  
		  Similarly, &quot;A remote Lockout of protection message SHALL cause 
		  the LER to go into remote Unavailable state&quot; means that the state 
		  represented in the Unavailable rows in the table of remote sources is 
		  by definition a remote Unavailable state.</t>

		  <t>Each cell in the table below contains either a state, a footnote, 
		  or the letter &apos;i&apos;.  &apos;i&apos; stands for Ignore, and is 
		  an indication to continue with the current behavior.  See section 4.3.3. 
		  The footnotes are listed below the table.</t>
		  
        <figure anchor="FSM1"
                suppress-title="true">
		  <preamble>Part 1: Local input state machine</preamble>
          <artwork align="center"><![CDATA[
           | OC  | LO    | SF-P | FS   | SF-W | SFc  | MS   | WTRExp
   --------+-----+-------+------+------+------+------+------+-------
   N       | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |PA:M:L| i
   UA:LO:L | N   | i     | i    | i    | i    | i    | i    | i
   UA:P:L  | i   |UA:LO:L| i    | i    | i    | [5]  | i    | i
   UA:LO:R | i   |UA:LO:L| [1]  | i    | [2]  | [6]  | i    | i
   UA:P:R  | i   |UA:LO:L|UA:P:L| i    | [3]  | [6]  | i    | i
   PF:W:L  | i   |UA:LO:L|UA:P:L|PA:F:L| i    | [7]  | i    | i
   PF:W:R  | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    | i    | i
   PA:F:L  | N   |UA:LO:L|UA:P:L| i    | i    | i    | i    | i
   PA:M:L  | N   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    | i    | i
   PA:F:R  | i   |UA:LO:L|UA:P:L|PA:F:L| [4]  | [8]  | i    | i
   PA:M:R  | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |PA:M:L| i
   WTR     | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |PA:M:L| [9]
   DNR     | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |PA:M:L| i
		  ]]></artwork>
        </figure>

        <figure anchor="FSM2"
                suppress-title="true">
		  <preamble>Part 2: Remote messages state machine</preamble>
          <artwork align="center"><![CDATA[
           | LO    | SF-P | FS   | SF-W | MS   | WTR  | DNR  | NR
   --------+-------+------+------+------+------+------+------+------
   N       |UA:LO:R|UA:P:R|PA:F:R|PF:W:R|PA:M:R| i    | i    | i
   UA:LO:L | i     | i    | i    | i    | i    | i    | i    | i
   UA:P:L  | [10]  | i    | i    | i    | i    | i    | i    | i
   UA:LO:R | i     | i    | i    | i    | i    | i    | i    | [16]
   UA:P:R  |UA:LO:R| i    | i    | i    | i    | i    | i    | [16]
   PF:W:L  | [11]  | [12] |PA:F:R| i    | i    | i    | i    | i
   PF:W:R  |UA:LO:R|UA:P:R|PA:F:R| i    | i    | [14] | [15] | N 
   PA:F:L  |UA:LO:R|UA:P:R| i    | i    | i    | i    | i    | i 
   PA:M:L  |UA:LO:R|UA:P:R|PA:F:R| [13] | i    | i    | i    | i 
   PA:F:R  |UA:LO:R|UA:P:R| i    | i    | i    | i    | i    | N 
   PA:M:R  |UA:LO:R|UA:P:R|PA:F:R| [13] | i    | i    | i    | N 
   WTR     |UA:LO:R|UA:P:R|PA:F:R|PF:W:R|PA:M:R| i    | i    | [17]
   DNR     |UA:LO:R|UA:P:R|PA:F:R|PF:W:R|PA:M:R| i    | i    | i 
		  ]]></artwork>
        </figure>
		  

			
		  <t>The following are the footnotes for the table:</t>
		  <t>[1]  Remain in the current state (UA:LO:R) and transmit SF(0,0)</t>
		  <t>[2]  Remain in the current state (UA:LO:R) and transmit SF(1,0)</t>
		  <t>[3]  Remain in the current state (UA:P:R) and transmit SF(1,0)</t>
		  <t>[4]  Remain in the current state (PA:F:R) and transmit SF(1,1)</t>
		  <t>[5]  If the SF being cleared is SF-P, Transition to N.  If it's SF-W, 
		  ignore the clear.</t>
		  <t>[6]  Remain in current state (UA:x:R), if the SFc corresponds to a previous 
		  SF then begin transmitting NR(0,0).</t>
		  <t>[7]  If domain configured for revertive behavior transition to WTR, else
		  transition to DNR</t>
		  <t>[8]  Remain in PA:F:R and transmit NR(0,1)</t>
		  <t>[9]  Remain in WTR, send NR(0,1)</t>
		  <t>[10]  Transition to UA:LO:R continue sending SF(0,0)</t>
		  <t>[11] Transition to UA:LO:R and send SF(1,0)</t>
		  <t>[12] Transition to UA and send SF(1,0)</t>
		  <t>[13] Transition to PF:W:R and send NR(0,1)</t>
		  <t>[14] Transition to WTR state and continue to send the current message.</t>
		  <t>[15] Transition to DNR state and continue to send the current message.</t>
		  <t>[16] Transition to N state and continue to send the current message.</t>
		  <t>[17] If the receiving node's WTR timer is running, maintain current state 
		  and message. If the WTR timer is stopped, transition to N.</t>

		</appendix>
  </middle>

  <back>
  
    <references title="Normative References">
      <!-- Begin inclusion reference.RFC.2119.xml. -->

      <reference anchor="RFC2119">
        <front>
          <title abbrev="KeyW">Key words for use in RFCs to Indicate
          Requirement Levels</title>

          <author fullname="S. Bradner" initials="S." surname="Bradner">
            <organization></organization>
          </author>

          <date month="March" year="1997" />

          <abstract>
            <t>Defines the normative terms used in RFCs.</t>
          </abstract>
        </front>

        <seriesInfo name="BCP" value="14" />

        <seriesInfo name="RFC" value="2119" />
      </reference>

      <!-- End inclusion reference.RFC.2116.xml. -->
	  
      <!-- Begin inclusion reference.RFC.5654 -->

      <reference anchor="RFC5654">
        <front>
          <title>Requirements of an MPLS Transport Profile</title>

          <author fullname="Ben Niven-Jenkins" initials="B." surname="Niven-Jenkins">
            <organization></organization>
          </author>

          <author fullname="Deborah Brungard" initials="D." surname="Brungard">
            <organization></organization>
          </author>

          <author fullname="Malcolm Betts" initials="M." surname="Betts">
            <organization></organization>
          </author>

          <author fullname="Nurit Sprecher" initials="N." surname="Sprecher">
            <organization></organization>
          </author>

          <author fullname="S. Ueno" initials="S." surname="Ueno">
            <organization></organization>
          </author>

          <date month="September" year="2009" />

          <abstract>
            <t>This document specifies the requirements of an MPLS Transport Profile
   (MPLS-TP).  This document is a product of a joint effort of the
   International Telecommunications Union (ITU) and IETF to include an
   MPLS Transport Profile within the IETF MPLS and PWE3 architectures to
   support the capabilities and functionalities of a packet transport
   network as defined by International Telecommunications Union -
   Telecommunications Standardization Sector (ITU-T).</t>

   <t>This work is based on two sources of requirements: MPLS and PWE3
   architectures as defined by IETF, and packet transport networks as
   defined by ITU-T.</t>

   <t>The requirements expressed in this document are for the behavior of
   the protocol mechanisms and procedures that constitute building
   blocks out of which the MPLS Transport Profile is constructed.  The
   requirements are not implementation requirements.</t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="5654" />

      </reference>

      <!-- End inclusion reference.RFC.5654 -->

	  
    </references>

    <references title="Informative References">
      <!-- Begin inclusion reference.RFC.3031.xml. -->

      <reference anchor="RFC3031">
        <front>
          <title abbrev="MPLS-Arch">Multiprotocol Label Switching
          Architecture</title>

          <author fullname="E. Rosen" initials="E." surname="Rosen">
            <organization></organization>
          </author>

          <author fullname="A. Viswanathan" initials="A."
                  surname="Viswanathan">
            <organization></organization>
          </author>

          <author fullname="Ross Callon" initials="R." surname="Callon">
            <organization></organization>
          </author>

          <date month="Jan" year="2001" />

          <abstract>
            <t>Describes the architecture of MPLS and the use of LSP
            tunnels.</t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="3031" />
      </reference>

      <!-- End inclusion reference.RFC.3031.xml. -->

      <!-- Begin inclusion reference.RFC.3031.xml. -->

      <reference anchor="RFC3032">
        <front>
          <title abbrev="MPLS-Arch">MPLS Label Stack Encoding</title>

          <author fullname="E. Rosen" initials="E." surname="Rosen">
            <organization></organization>
          </author>

          <author fullname="D. Tappan" initials="D." surname="Tappan">
            <organization></organization>
          </author>

          <author fullname="G. Fedorkow" initials="G." surname="Fedorkow">
            <organization></organization>
          </author>

          <author fullname="Yakov Rekhter" initials="Y." surname="Rekhter">
            <organization></organization>
          </author>

          <author fullname="D. Farinacci" initials="D." surname="Farinacci">
            <organization></organization>
          </author>

          <author fullname="T. Li" initials="T." surname="Li">
            <organization></organization>
          </author>

          <author fullname="A. Conta" initials="A." surname="Conta">
            <organization></organization>
          </author>

          <date month="Jan" year="2001" />

          <abstract>
            <t>Multi-Protocol Label Switching (MPLS) requires a set of
   procedures for augmenting network layer packets with label stacks,
   thereby turning them into labeled packets.  Routers which support
   MPLS are known as Label Switching Routers, or LSRs.  In order to
   transmit a labeled packet on a particular data link, an LSR must
   support an encoding technique which, given a label stack and a
   network layer packet, produces a labeled packet.  This document
   specifies the encoding to be used by an LSR in order to transmit
   labeled packets on Point-to-Point Protocol (PPP) data links, on LAN
   data links, and possibly on other data links as well.  On some data
   links, the label at the top of the stack may be encoded in a
   different manner, but the techniques described here MUST be used to
   encode the remainder of the label stack.  This document also
   specifies rules and procedures for processing the various fields of
   the label stack encoding.</t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="3032" />
      </reference>

      <!-- End inclusion reference.RFC.3032.xml. -->

      <!-- Begin inclusion reference.RFC.5659 -->

      <reference anchor="RFC5659">
        <front>
          <title>An Architecture for Multi-Segment Pseudowire Emulation 
		  Edge-to-Edge</title>

          <author fullname="Matthew Bocci" initials="M." surname="Bocci">
            <organization></organization>
          </author>

          <author fullname="Stewart Bryant" initials="S." surname="Bryant">
            <organization></organization>
          </author>

          <date month="October" year="2009" />

          <abstract>
            <t>This document describes an architecture for extending pseudowire
   emulation across multiple packet switched network (PSN) segments.
   Scenarios are discussed where each segment of a given edge-to-edge
   emulated service spans a different provider's PSN, as are other
   scenarios where the emulated service originates and terminates on the
   same provider's PSN, but may pass through several PSN tunnel segments
   in that PSN.  It presents an architectural framework for such multi-
   segment pseudowires, defines terminology, and specifies the various
   protocol elements and their functions.</t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="5659" />

      </reference>

      <!-- End inclusion reference.RFC.5659 -->

      <!-- Begin inclusion reference.RFC.3985 -->

      <reference anchor="RFC3985">
        <front>
          <title>Pseudowire Emulation Edge-to-Edge (PWE3) Architecture</title>

          <author fullname="S. Bryant" initials="S." surname="Bryant">
            <organization></organization>
          </author>

          <author fullname="P. Pate" initials="P." surname="Pate">
            <organization></organization>
          </author>

          <date month="March" year="2005" />

          <abstract>
            <t>This document describes an architecture for Pseudo Wire
            Emulation Edge-to- Edge (PWE3). It discusses the emulation of
            services such as Frame Relay, ATM, Ethernet, TDM, and SONET/SDH
            over packet switched networks (PSNs) using IP or MPLS. It presents
            the architectural framework for pseudo wires (PWs), defines
            terminology, and specifies the various protocol elements and their
            functions.</t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="3985" />

        <format octets="22440" target="ftp://ftp.isi.edu/in-notes/rfc3985.txt"
                type="TXT" />
      </reference>

      <!-- End inclusion reference.RFC.3985 -->

      <!-- Begin inclusion reference.RFC.5085 -->

      <reference anchor="RFC5085">
        <front>
          <title>Pseudowire Virtual Circuit Connectivity Verification (VCCV):
          A Control Channel for Pseudowires</title>

          <author fullname="T. Nadeau" initials="T." surname="Nadeau">
            <organization></organization>
          </author>

          <author fullname="C. Pignataro" initials="C." surname="Pignataro">
            <organization></organization>
          </author>

          <date month="December" year="2007" />

          <abstract>
            <t>This document describes Virtual Circuit Connectivity
            Verification (VCCV), which provides a control channel that is
            associated with a pseudowire (PW), as well as the corresponding
            operations and management functions (such as connectivity
            verification) to be used over that control channel. VCCV applies
            to all supported access circuit and transport types currently
            defined for PWs.</t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="5085" />

        <format octets="67847" target="ftp://ftp.isi.edu/in-notes/rfc5085.txt"
                type="TXT" />
      </reference>

      <!-- End inclusion reference.RFC.5085 -->

      <!-- Begin inclusion reference.draft.MPLS-TP.FWK -->

      <reference anchor="TPFwk">
        <front>
          <title>A Framework for MPLS in Transport Networks</title>

          <author fullname="Matthew Bocci" initials="M." surname="Bocci">
            <organization></organization>
          </author>

          <author fullname="Stewart Bryant" initials="S." surname="Bryant">
            <organization>Cisco</organization>
          </author>

          <author fullname="Lieven Levrau" initials="L." surname="Levrau">
            <organization>Cisco</organization>
          </author>

          <date month="July" year="2009" />

          <abstract>
            <t>This document specifies an architectural framework for the
            application of MPLS in transport networks. It describes a profile
            of MPLS that enables operational models typical in transport
            networks , while providing additional OAM, survivability and other
            maintenance functions not currently supported by MPLS.</t>
          </abstract>
        </front>

        <seriesInfo name="ID" value="draft-ietf-mpls-tp-framework-06.txt" />
      </reference>

      <!-- End inclusion reference.draft.MPLS-TP.FWK -->

      <!-- Begin inclusion reference.draft.MPLS.G-ACh -->

      <reference anchor="RFC5586">
        <front>
          <title>MPLS Generic Associated Channel</title>

          <author fullname="Martin Vigoureux," initials="M."
                  surname="Vigoureux,">
            <organization></organization>
          </author>

          <author fullname="Matthew Bocci" initials="M." surname="Bocci">
            <organization></organization>
          </author>

          <author fullname="George Swallow" initials="G." surname="Swallow">
            <organization></organization>
          </author>

          <author fullname="Rahul Aggarwal" initials="R." surname="Aggarwal">
            <organization></organization>
          </author>

          <author fullname="David Ward" initials="D." surname="Ward">
            <organization></organization>
          </author>

          <date month="May" year="2009" />

          <abstract>
            <t>This document generalizes the applicability of the pseudowire
            (PW) Associated Channel Header (ACH), enabling the realization of
            a control channel associated to MPLS Label Switched Paths (LSPs)
            and MPLS Sections in addition to MPLS pseudowires. In order to
            identify the presence of this Associated Channel Header in the
            label stack, this document also assigns one of the reserved MPLS
            label values to the Generic Associated Channel Label (GAL), to be
            used as a label based exception mechanism.</t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="5586" />
      </reference>

      <!-- End inclusion reference.draft.MPLS.BFD -->

      <!-- Begin inclusion reference.rfc.4427 -->

      <reference anchor="RFC4427">
        <front>
          <title>Recovery Terminology for Generalized Multi-Protocol Label
          Switching</title>

          <author fullname="E. Mannie" initials="E." surname="Mannie">
            <organization></organization>
          </author>

          <author fullname="D. Papadimitriou" initials="D."
                  surname="Papadimitriou">
            <organization></organization>
          </author>

          <date month="Mar" year="2006" />

          <abstract>
            <t>This document defines a common terminology for Generalized
            Multi-Protocol Label Switching (GMPLS)-based recovery mechanisms
            (i.e.,protection and restoration). The terminology is independent
            of the underlying transport technologies covered by GMPLS</t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="4427" />
      </reference>

      <!-- End inclusion reference.rfc.4427 -->

      <!-- Begin inclusion reference.draft.survive.fwk -->

      <reference anchor="SurvivFwk">
        <front>
          <title>Multi-protocol Label Switching Transport Profile
          Survivability Framework</title>

          <author fullname="Nurit Sprecher" initials="N." surname="Sprecher">
            <organization></organization>
          </author>

          <author fullname="Adrian Farrel" initials="A." surname="Farrel">
            <organization></organization>
          </author>

          <author fullname="Himanshu Shah" initials="H." surname="Shah">
            <organization></organization>
          </author>

          <date month="Feb" year="2009" />

          <abstract>
            <t>Network survivability is the network's ability to restore
            traffic following failure or attack; it plays a critical factor in
            the delivery of reliable services in transport networks.
            Guaranteed services in the form of Service Level Agreements (SLAs)
            require a resilient network that detects facility or node failures
            very rapidly, and immediately starts to restore network operations
            in accordance with the terms of the SLA. The Transport Profile of
            Multiprotocol Label Switching (MPLS-TP) is a packet transport
            technology that combines the packet experience of MPLS with the
            operational experience of transport networks like SONET/SDH. It
            provides survivability mechanisms such as protection and
            restoration, with similar function levels to those found in
            established transport networks such as in SONET/SDH networks. Some
            of the MPLS-TP survivability mechanisms are data plane-driven and
            are based on MPLS-TP OAM fault management functions which are used
            to trigger protection switching in the absence of a control plane.
            Other survivability mechanisms utilize the MPLS-TP control plane.
            This document provides a framework for MPLS-TP survivability.</t>
          </abstract>
        </front>

        <seriesInfo name="ID" value="draft-ietf-mpls-tp-survive-fwk-02.txt" />
      </reference>

      <!-- End inclusion reference.draft.survive.fwk -->

      <!-- Begin inclusion reference.draft.RFC.4872 -->

      <reference anchor="RFC4872">
        <front>
          <title>RSVP-TE Extensions in Support of End-to-End Generalized
          Multi-Protocol Label Switching (GMPLS) Recovery</title>

          <author fullname="J.P. Lang" initials="J.P." surname="Lang">
            <organization></organization>
          </author>

          <author fullname="D. Papadimitriou" initials="D."
                  surname="Papadimitriou">
            <organization></organization>
          </author>

          <author fullname="Yakov Rekhter" initials="Y." surname="Rekhter">
            <organization></organization>
          </author>

          <date month="May" year="2007" />

          <abstract>
            <t></t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="4872" />
      </reference>

      <!-- End inclusion reference.RFC.4872 -->

      <!-- Begin inclusion reference.RFC.3945 -->

      <reference anchor="RFC3945">
        <front>
          <title>Generalized Multi-Protocol Label Switching (GMPLS)
          Architecture</title>

          <author fullname="E. Mannie" initials="E." surname="Mannie">
            <organization></organization>
          </author>

          <date month="Oct" year="2004" />

          <abstract>
            <t></t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="3945" />
      </reference>

      <!-- End inclusion reference.RFC.3945 -->
    </references>
  </back>
</rfc>
