


Internet Engineering Task Force                            E. Jankiewicz
Internet-Draft                                         SRI International
Intended status: Informational                               J. Loughney
Expires: January 13, 2011                                          Nokia
                                                               T. Narten
                                                         IBM Corporation
                                                           July 12, 2010


                  IPv6 Node Requirements RFC 4294-bis
                  draft-ietf-6man-node-req-bis-05.txt

Abstract

   This document defines requirements for IPv6 nodes.  It is expected
   that IPv6 will be deployed in a wide range of devices and situations.
   Specifying the requirements for IPv6 nodes allows IPv6 to function
   well and interoperate in a large number of situations and
   deployments.

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 13, 2011.

Copyright Notice

   Copyright (c) 2010 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must



Jankiewicz, et al.      Expires January 13, 2011                [Page 1]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.


Table of Contents

   1.  Requirements Language  . . . . . . . . . . . . . . . . . . . .  4
   2.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4
     2.1.  Scope of This Document . . . . . . . . . . . . . . . . . .  4
     2.2.  Description of IPv6 Nodes  . . . . . . . . . . . . . . . .  4
   3.  Abbreviations Used in This Document  . . . . . . . . . . . . .  5
   4.  Sub-IP Layer . . . . . . . . . . . . . . . . . . . . . . . . .  5
   5.  IP Layer . . . . . . . . . . . . . . . . . . . . . . . . . . .  6
     5.1.  Internet Protocol Version 6 - RFC 2460 . . . . . . . . . .  6
     5.2.  Neighbor Discovery for IPv6 - RFC 4861 . . . . . . . . . .  7
     5.3.  SEcure Neighbor Discovery (SEND) - RFC 3971  . . . . . . .  8
     5.4.  IPv6 Router Advertisement Flags Option - RFC 5175  . . . .  8
     5.5.  Path MTU Discovery and Packet Size . . . . . . . . . . . .  8
       5.5.1.  Path MTU Discovery - RFC 1981  . . . . . . . . . . . .  8
     5.6.  IPv6 Jumbograms - RFC 2675 . . . . . . . . . . . . . . . .  9
     5.7.  ICMP for the Internet Protocol Version 6 (IPv6) - RFC
           4443 . . . . . . . . . . . . . . . . . . . . . . . . . . .  9
     5.8.  Addressing . . . . . . . . . . . . . . . . . . . . . . . .  9
       5.8.1.  IP Version 6 Addressing Architecture - RFC 4291  . . .  9
       5.8.2.  IPv6 Stateless Address Autoconfiguration - RFC 4862  .  9
       5.8.3.  Privacy Extensions for Address Configuration in
               IPv6 - RFC 4941  . . . . . . . . . . . . . . . . . . .  9
       5.8.4.  Default Address Selection for IPv6 - RFC 3484  . . . . 10
       5.8.5.  Stateful Address Autoconfiguration . . . . . . . . . . 10
     5.9.  Multicast Listener Discovery (MLD) for IPv6 - RFC 2710 . . 10
   6.  DHCP vs. Router Advertisement Options for Host
       Configuration  . . . . . . . . . . . . . . . . . . . . . . . . 11
   7.  DNS and DHCP . . . . . . . . . . . . . . . . . . . . . . . . . 12
     7.1.  DNS  . . . . . . . . . . . . . . . . . . . . . . . . . . . 12
     7.2.  Dynamic Host Configuration Protocol for IPv6 (DHCPv6)



Jankiewicz, et al.      Expires January 13, 2011                [Page 2]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


           - RFC 3315 . . . . . . . . . . . . . . . . . . . . . . . . 12
       7.2.1.  Managed Address Configuration  . . . . . . . . . . . . 12
       7.2.2.  Other Configuration Information  . . . . . . . . . . . 12
       7.2.3.  Use of Router Advertisements in Managed
               Environments . . . . . . . . . . . . . . . . . . . . . 13
     7.3.  IPv6 Router Advertisement Options for DNS
           Configuration - RFC XXXX . . . . . . . . . . . . . . . . . 13
   8.  IPv4 Support and Transition  . . . . . . . . . . . . . . . . . 13
     8.1.  Transition Mechanisms  . . . . . . . . . . . . . . . . . . 13
       8.1.1.  Basic Transition Mechanisms for IPv6 Hosts and
               Routers - RFC 4213 . . . . . . . . . . . . . . . . . . 13
   9.  Mobility . . . . . . . . . . . . . . . . . . . . . . . . . . . 13
   10. Security . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
     10.1. Basic Architecture . . . . . . . . . . . . . . . . . . . . 14
     10.2. Security Protocols . . . . . . . . . . . . . . . . . . . . 14
     10.3. Transforms and Algorithms  . . . . . . . . . . . . . . . . 14
     10.4. Key Management Methods . . . . . . . . . . . . . . . . . . 15
   11. Router-Specific Functionality  . . . . . . . . . . . . . . . . 15
     11.1. General  . . . . . . . . . . . . . . . . . . . . . . . . . 15
       11.1.1. IPv6 Router Alert Option - RFC 2711  . . . . . . . . . 15
       11.1.2. Neighbor Discovery for IPv6 - RFC 4861 . . . . . . . . 15
   12. Network Management . . . . . . . . . . . . . . . . . . . . . . 15
     12.1. Management Information Base Modules (MIBs) . . . . . . . . 16
       12.1.1. IP Forwarding Table MIB  . . . . . . . . . . . . . . . 16
       12.1.2. Management Information Base for the Internet
               Protocol (IP)  . . . . . . . . . . . . . . . . . . . . 16
   13. Open Issues  . . . . . . . . . . . . . . . . . . . . . . . . . 16
   14. Security Considerations  . . . . . . . . . . . . . . . . . . . 16
   15. Authors and Acknowledgments  . . . . . . . . . . . . . . . . . 16
     15.1. Authors and Acknowledgments (Current Document) . . . . . . 16
     15.2. Authors and Acknowledgments From RFC 4279  . . . . . . . . 16
   16. Appendix: Changes from -04 to -05  . . . . . . . . . . . . . . 17
   17. Appendix: Changes from -03 to -04  . . . . . . . . . . . . . . 18
   18. Appendix: Changes from RFC 4294  . . . . . . . . . . . . . . . 18
   19. References . . . . . . . . . . . . . . . . . . . . . . . . . . 18
     19.1. Normative References . . . . . . . . . . . . . . . . . . . 18
     19.2. Informative References . . . . . . . . . . . . . . . . . . 21
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 22













Jankiewicz, et al.      Expires January 13, 2011                [Page 3]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].


2.  Introduction

   The goal of this document is to define the common functionality
   required from both IPv6 hosts and routers.  Many IPv6 nodes will
   implement optional or additional features, but this document collects
   and summarizes requirements from other published Standards Track
   documents in one place.

   This document tries to avoid discussion of protocol details, and
   references RFCs for this purpose.  This document is intended to be an
   Applicability Statement and provide guidance as to which IPv6
   specifications should be implemented in the general case.  This
   document does not update any individual protocol document RFCs.

   Although the document points to different specifications, it should
   be noted that in most cases, the granularity of requirements are
   smaller than a single specification, as many specifications define
   multiple, independent pieces, some of which may not be mandatory.

   As it is not always possible for an implementer to know the exact
   usage of IPv6 in a node, an overriding requirement for IPv6 nodes is
   that they should adhere to Jon Postel's Robustness Principle:

   Be conservative in what you do, be liberal in what you accept from
   others [RFC0793].

2.1.  Scope of This Document

   IPv6 covers many specifications.  It is intended that IPv6 will be
   deployed in many different situations and environments.  Therefore,
   it is important to develop the requirements for IPv6 nodes to ensure
   interoperability.

   This document assumes that all IPv6 nodes meet the minimum
   requirements specified here.

2.2.  Description of IPv6 Nodes

   From the Internet Protocol, Version 6 (IPv6) Specification [RFC2460],
   we have the following definitions:




Jankiewicz, et al.      Expires January 13, 2011                [Page 4]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


   Description of an IPv6 Node

   - a device that implements IPv6.

   Description of an IPv6 router

   - a node that forwards IPv6 packets not explicitly addressed to
   itself.

   Description of an IPv6 Host

   - any node that is not a router.


3.  Abbreviations Used in This Document

      ATM Asynchronous Transfer Mode
      AH Authentication Header
      DAD Duplicate Address Detection
      ESP Encapsulating Security Payload
      ICMP Internet Control Message Protocol
      IKE Internet Key Exchange
      MIB Management Information Base
      MLD Multicast Listener Discovery
      MTU Maximum Transfer Unit
      NA Neighbor Advertisement
      NBMA Non-Broadcast Multiple Access
      ND Neighbor Discovery
      NS Neighbor Solicitation
      NUD Neighbor Unreachability Detection
      PPP Point-to-Point Protocol
      PVC Permanent Virtual Circuit
      SVC Switched Virtual Circuit


4.  Sub-IP Layer

   An IPv6 node must include support for one or more IPv6 link-layer
   specifications.  Which link-layer specifications are included will
   depend upon what link-layers are supported by the hardware available
   on the system.  It is possible for a conformant IPv6 node to support
   IPv6 on some of its interfaces and not on others.

   As IPv6 is run over new layer 2 technologies, it is expected that new
   specifications will be issued.  In the following, we list some of the
   link-layers for which an IPv6 specification has been developed.  It
   is provided for information purposes only, and may not be complete.




Jankiewicz, et al.      Expires January 13, 2011                [Page 5]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


   -  Transmission of IPv6 Packets over Ethernet Networks [RFC2464]
   -  IPv6 over ATM Networks [RFC2492]
   -  Transmission of IPv6 Packets over Frame Relay Networks
      Specification [RFC2590]
   -  Transmission of IPv6 Packets over IEEE 1394 Networks [RFC3146]
   -  Transmission of IPv6, IPv4, and Address Resolution Protocol (ARP)
      Packets over Fibre Channel [RFC4338]
   -  Transmission of IPv6 Packets over IEEE 802.15.4 Networks [RFC4944]
   -  Transmission of IPv6 via the IPv6 Convergence Sublayer over IEEE
      802.16 Networks [RFC5121]
   -  IP version 6 over PPP [RFC5072]

   In addition to traditional physical link-layers, it is also possible
   to tunnel IPv6 over other protocols.  Examples include:

   -  Teredo: Tunneling IPv6 over UDP through Network Address
      Translations (NATs) [RFC4380]
   -  Transmission of IPv6 over IPv4 Domains without Explicit Tunnels
      [RFC2529]


5.  IP Layer

5.1.  Internet Protocol Version 6 - RFC 2460

   The Internet Protocol Version 6 is specified in [RFC2460].  This
   specification MUST be supported.

   Unrecognized options in Hop-by-Hop Options or Destination Options
   extensions MUST be processed as described in RFC 2460.

   The node MUST follow the packet transmission rules in RFC 2460.

   Nodes MUST always be able to send, receive, and process fragment
   headers.  All conformant IPv6 implementations MUST be capable of
   sending and receiving IPv6 packets; the forwarding functionality MAY
   be supported.

   RFC 2460 specifies extension headers and the processing for these
   headers.

   A full implementation of IPv6 includes implementation of the
   following extension headers: Hop-by-Hop Options, Routing (Type 0),
   Fragment, Destination Options, Authentication and Encapsulating
   Security Payload [RFC2460].

   An IPv6 node MUST be able to process these headers.  An exception is
   Routing Header type 0 (RH0) which was deprecated by [RFC5095] due to



Jankiewicz, et al.      Expires January 13, 2011                [Page 6]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


   security concerns, and which MUST be treated as an unrecognized
   routing type.

5.2.  Neighbor Discovery for IPv6 - RFC 4861

   Neighbor Discovery SHOULD be supported.  [RFC4861] states:

      Unless specified otherwise (in a document that covers operating IP
      over a particular link type) this document applies to all link
      types.  However, because ND uses link-layer multicast for some of
      its services, it is possible that on some link types (e.g., NBMA
      links) alternative protocols or mechanisms to implement those
      services will be specified (in the appropriate document covering
      the operation of IP over a particular link type).  The services
      described in this document that are not directly dependent on
      multicast, such as Redirects, Next-hop determination, Neighbor
      Unreachability Detection, etc., are expected to be provided as
      specified in this document.  The details of how one uses ND on
      NBMA links is an area for further study.

   Some detailed analysis of Neighbor Discovery follows:

   Router Discovery is how hosts locate routers that reside on an
   attached link.  Router Discovery MUST be supported for
   implementations.

   Prefix Discovery is how hosts discover the set of address prefixes
   that define which destinations are on-link for an attached link.
   Prefix discovery MUST be supported for implementations.  Neighbor
   Unreachability Detection (NUD) MUST be supported for all paths
   between hosts and neighboring nodes.  It is not required for paths
   between routers.  However, when a node receives a unicast Neighbor
   Solicitation (NS) message (that may be a NUD's NS), the node MUST
   respond to it (i.e., send a unicast Neighbor Advertisement).

   Duplicate Address Detection MUST be supported on all links supporting
   link-layer multicast (RFC 4862, Section 5.4, specifies DAD MUST take
   place on all unicast addresses).

   A host implementation MUST support sending Router Solicitations.

   Receiving and processing Router Advertisements MUST be supported for
   host implementations.  The ability to understand specific Router
   Advertisement options is dependent on supporting the specification
   where the RA is specified.

   Sending and Receiving Neighbor Solicitation (NS) and Neighbor
   Advertisement (NA) MUST be supported.  NS and NA messages are



Jankiewicz, et al.      Expires January 13, 2011                [Page 7]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


   required for Duplicate Address Detection (DAD).

   Redirect functionality SHOULD be supported.  If the node is a router,
   Redirect functionality MUST be supported.

5.3.  SEcure Neighbor Discovery (SEND) - RFC 3971

   SEND [RFC3971] and Cryptographically Generated Address (CGA)
   [RFC3972] provide a way to secure the message exchanges of Neighbor
   Discovery.  SEND is a new technology, in that it has no IPv4
   counterpart but it has significant potential to address certain
   classes of spoofing attacks.  While there have been some
   implementations of SEND, there has been only limited deployment
   experience to date in using the technology.  In addition, the IETF
   working group Cga & Send maIntenance (csi) is currently working on
   additional extensions intended to make SEND more attractive for
   deployment.

   At this time, SEND is considered optional and IPv6 nodes MAY provide
   SEND functionality.

5.4.  IPv6 Router Advertisement Flags Option - RFC 5175

   Router Advertisements include an 8-bit field of single-bit Router
   Advertisement flags.  The Router Advertisement Flags Option extends
   the number of available flag bits by 48 bits.  At the time of this
   writing, 6 of the original 8 bit flags have been assigned, while 2
   remain available for future assignment.  No flags have been defined
   that make use of the new option, and thus strictly speaking, there is
   no requirement to implement the option today.  However,
   implementations that are able to pass unrecognized options to a
   higher level entity that may be able to understand them (e.g., a
   user-level process using a "raw socket" facility), MAY take steps to
   handle the option in anticipation of a future usage.

5.5.  Path MTU Discovery and Packet Size

5.5.1.  Path MTU Discovery - RFC 1981

   From [RFC2460]:

      It is strongly recommended that IPv6 nodes implement Path MTU
      Discovery [RFC1981], in order to discover and take advantage of
      path MTUs greater than 1280 octets.  However, a minimal IPv6
      implementation (e.g., in a boot ROM) may simply restrict itself to
      sending packets no larger than 1280 octets, and omit
      implementation of Path MTU Discovery.




Jankiewicz, et al.      Expires January 13, 2011                [Page 8]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


   The rules in RFC 2460 MUST be followed for packet fragmentation and
   reassembly.

5.6.  IPv6 Jumbograms - RFC 2675

   IPv6 Jumbograms [RFC2675] MAY be supported.

5.7.  ICMP for the Internet Protocol Version 6 (IPv6) - RFC 4443

   ICMPv6 [RFC4443] MUST be supported.

5.8.  Addressing

5.8.1.  IP Version 6 Addressing Architecture - RFC 4291

   The IPv6 Addressing Architecture [RFC4291] MUST be supported.

5.8.2.  IPv6 Stateless Address Autoconfiguration - RFC 4862

   IPv6 Stateless Address Autoconfiguration is defined in [RFC4862].
   This specification MUST be supported for nodes that are hosts.
   Static address can be supported as well.

   Nodes that are routers MUST be able to generate link local addresses
   as described in RFC 4862 [RFC4862].

   From 4862:

      The autoconfiguration process specified in this document applies
      only to hosts and not routers.  Since host autoconfiguration uses
      information advertised by routers, routers will need to be
      configured by some other means.  However, it is expected that
      routers will generate link-local addresses using the mechanism
      described in this document.  In addition, routers are expected to
      successfully pass the Duplicate Address Detection procedure
      described in this document on all addresses prior to assigning
      them to an interface.

   Duplicate Address Detection (DAD) MUST be supported.

5.8.3.  Privacy Extensions for Address Configuration in IPv6 - RFC 4941

   Privacy Extensions for Stateless Address Autoconfiguration [RFC4941]
   addresses a specific problem involving a client device whose user is
   concerned about its activity or location being tracked.  The problem
   arises both for a static client and for one that regularly changes
   its point of attachment to the Internet.  When using Stateless
   Address Autoconfiguration [RFC4862], the Interface Identifier portion



Jankiewicz, et al.      Expires January 13, 2011                [Page 9]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


   of formed addresses stays constant and is globally unique.  Thus,
   although a node's global IPv6 address will change if it changes its
   point of attachment, the Interface Identifier portion of those
   addresses remain the same, making it possible for servers to track
   the location of an individual device as it moves around, or its
   pattern of activity if it remains in one place.  This may raise
   privacy concerns as described in [RFC4862].

   In such situations, RFC4941 SHOULD be implemented.  In other cases,
   such as with dedicated servers in a data center, RFC4941 provides
   limited or no benefit.

5.8.4.  Default Address Selection for IPv6 - RFC 3484

   The rules specified in the Default Address Selection for IPv6
   [RFC3484] document MUST be implemented.  It is expected that IPv6
   nodes will need to deal with multiple addresses.

5.8.5.  Stateful Address Autoconfiguration

   Stateful Address Autoconfiguration MAY be supported.  DHCPv6
   [RFC3315] is the standard stateful address configuration protocol;
   see Section 6.2 for DHCPv6 support.

   Nodes which do not support Stateful Address Autoconfiguration may be
   unable to obtain any IPv6 addresses, aside from link-local addresses,
   when it receives a router advertisement with the 'M' flag (Managed
   address configuration) set and that contains no prefixes advertised
   for Stateless Address Autoconfiguration (see Section 4.5.2).
   Additionally, such nodes will be unable to obtain other configuration
   information, such as the addresses of DNS servers when it is
   connected to a link over which the node receives a router
   advertisement in which the 'O' flag (Other stateful configuration) is
   set.

5.9.  Multicast Listener Discovery (MLD) for IPv6 - RFC 2710

   Nodes that need to join multicast groups MUST support MLDv1
   [RFC3590].  MLDv1 is needed by any node that is expected to receive
   and process multicast traffic.  Note that Neighbor Discovery (as used
   on most link types -- see Section 5.2) depends on multicast and
   requires that nodes join Solicited Node multicast addresses.

   Nodes that need to join multicast groups SHOULD implement MLDv2
   [RFC3810].  However, if the node has applications that only need
   support for Any-Source Multicast [RFC3569], the node MAY implement
   MLDv1 [RFC2710] instead.  If the node has applications that need
   support for Source-Specific Multicast [RFC3569], [RFC4607], the node



Jankiewicz, et al.      Expires January 13, 2011               [Page 10]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


   MUST support MLDv2 [RFC3810].  In all cases, nodes are strongly
   encouraged to implement MLDv2 rather than MLDv1, as the presence of a
   single MLDv1 participant on a link requires that all other nodes on
   the link operate in version 1 compatibility mode.

   When MLDv1 is used, the rules in the Source Address Selection for the
   Multicast Listener Discovery (MLD) Protocol [RFC3590] MUST be
   followed.


6.  DHCP vs. Router Advertisement Options for Host Configuration

   In IPv6, there are two main protocol mechanisms for propagating
   configuration information to hosts: Router Advertisements and DHCP.
   Historically, RA options have been restricted to those deemed
   essential for basic network functioning and for which all nodes are
   configured with exactly the same information.  Examples include the
   Prefix Information Options, the MTU option, etc.  On the other hand,
   DHCP has generally been preferred for configuration of more general
   parameters and for parameters that may be client-specific.  That
   said, identifying the exact line on when whether a particular option
   should be configured via DHCP vs an RA option has not always been
   easy.  Generally speaking, however, there has been a desire to define
   only one mechanism for configuring a given option, rather than
   defining multiple (different) ways of configurating the same
   information.

   One issue with having multiple ways of configuring the same
   information is that if a host choses one mechanism, but the network
   operator chooses a different mechanism, interoperability suffers.
   For "closed" environments, where the network operator has significant
   influence over what devices connect to the network and thus what
   configuration mechanisms they support, the operator may be able to
   ensure that a particular mechanism is supported by all connected
   hosts.  In more open environments, however, where arbitrary devices
   may connect (e.g., a WIFI hotspot), problems can arise.  To maximize
   interoperability in such environments hosts may need to implement
   multiple configuration mechanisms to ensure interoperability.

   Originally in IPv6, configuring information about DNS servers was
   performed exclusively via DHCP.  In 2007, an RA option was defined,
   but was published as Experimental [RFC5006].  In 2010, "IPv6 Router
   Advertisement Options for DNS Configuration" was placed on the
   Standards Track.  Consequently, DNS configuration information can now
   be learned either through DHCP or through RAs.  Hosts will need to
   decide which mechanism (or whether both) should be implemented.





Jankiewicz, et al.      Expires January 13, 2011               [Page 11]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


7.  DNS and DHCP

7.1.  DNS

   DNS is described in [RFC1034], [RFC1035], [RFC3363], and [RFC3596].
   Not all nodes will need to resolve names; those that will never need
   to resolve DNS names do not need to implement resolver functionality.
   However, the ability to resolve names is a basic infrastructure
   capability that applications rely on and generally needs to be
   supported.  All nodes that need to resolve names SHOULD implement
   stub-resolver [RFC1034] functionality, as in RFC 1034, Section 5.3.1,
   with support for:

      - AAAA type Resource Records [RFC3596];
      - reverse addressing in ip6.arpa using PTR records [RFC3596];
      - EDNS0 [RFC2671] to allow for DNS packet sizes larger than 512
      octets.

   Those nodes are RECOMMENDED to support DNS security extensions
   [RFC4033], [RFC4034], and [RFC4035].

   Those nodes are NOT RECOMMENDED to support the experimental A6
   Resource Records [RFC3363].

7.2.  Dynamic Host Configuration Protocol for IPv6 (DHCPv6) - RFC 3315

7.2.1.  Managed Address Configuration

   DHCP can be used to obtain and configure addresses.  In general, a
   network may provide for the configuration of addresses through RAs,
   DHCP or both.  At the present time, the configuration of stateless
   address autoconfiguraiton is more widely implemented in hosts than
   address configuration through DHCP.  However, some environments may
   require the use of DHCP and may not support the configuration of
   addresses via RAs.  Implementations should be aware of what operating
   environment their devices will be deployed.  Hosts MAY implement
   address configuration via DHCP.

   In the absence of a router, IPv6 nodes using DHCP for address
   assignment MAY initiate DHCP to obtain IPv6 addresses and other
   configuration information, as described in Section 5.5.2 of
   [RFC4862].

7.2.2.  Other Configuration Information

   IPv6 nodes use DHCP to obtain additional (non-address) configuration.
   If a host implementation will support applications or other protocols
   that require configuration that is only available via DHCP, hosts



Jankiewicz, et al.      Expires January 13, 2011               [Page 12]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


   SHOULD implement DHCP.  For specialized devices on which no such
   configuration need is present, DHCP is not necessary.

   An IPv6 node can use the subset of DHCP (described in [RFC3736]) to
   obtain other configuration information.

7.2.3.  Use of Router Advertisements in Managed Environments

   Nodes using the Dynamic Host Configuration Protocol for IPv6 (DHCPv6)
   are expected to determine their default router information and on-
   link prefix information from received Router Advertisements.

7.3.  IPv6 Router Advertisement Options for DNS Configuration - RFC XXXX

   Router Advertisements have historically limited options to those that
   are critical to basic IPv6 functioning.  Originally, DNS
   configuration was not included as an RA option and DHCP was the
   recommended way to obtain DNS configuration information.  Over time,
   the thinking surrounding such an option has evolved.  It is now
   generally recognized that few nodes can function adequately without
   having access to a working DNS resolver.  RFC 5006 was published as
   an experimental document in 2007, and recently, a revised version was
   placed on the Standards Track [I-D.I-D.ietf-6man-dns-options-bis].

   Implementations SHOULD implement the DNS RA option.


8.  IPv4 Support and Transition

   IPv6 nodes MAY support IPv4.

8.1.  Transition Mechanisms

8.1.1.  Basic Transition Mechanisms for IPv6 Hosts and Routers - RFC
        4213

   If an IPv6 node implements dual stack and tunneling, then [RFC4213]
   MUST be supported.


9.  Mobility

   Mobile IPv6 [RFC3775] and associated specifications [RFC3776]
   [RFC4877] allow a node to change its point of attachment within the
   Internet, while maintaining (and using) a permanent address.  All
   communication using the permanent address continues to proceed as
   expected even as the node moves around.  The definition of Mobile IP
   includes requirements for the following types of nodes:



Jankiewicz, et al.      Expires January 13, 2011               [Page 13]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


      - mobile nodes
      - correspondent nodes with support for route optimization
      - home agents
      - all IPv6 routers

   At the present time, Mobile IP has seen only limited implementation
   and no significant deployment, partly because it originally assumed
   an IPv6-only environment, rather than a mixed IPv4/IPv6 Internet.
   Recently, additional work has been done to support mobility in mixed-
   mode IPv4 and IPv6 networks[RFC5555].

   More usage and deployment experience is needed with mobility before
   any one can be recommended for broad implementation in all hosts and
   routers.  Consequently, [RFC3775], [RFC5555], and associated
   standards such as [RFC4877] are considered a MAY at this time.


10.  Security

   This section describes the specification of IPsec for the IPv6 node.

   Note: This section needs a rethink.  According to RFC4301, IKEv2 MUST
   be supported.  This section cites RFC 4301 as a MUST, yet the
   remainder of this section only makes IKEv2 a SHOULD.  The IPv6 WG has
   discussed the topic of mandating key management in the past, but has
   not been willing to make IKE (v1 or v2) a MUST.  Is it time to
   revisit this recommendation?  Does it make sense to leave key
   management as a SHOULD?  And what about how that contradicts RFC
   4301?

10.1.  Basic Architecture

   Security Architecture for the Internet Protocol [RFC4301] MUST be
   supported.

10.2.  Security Protocols

   ESP [RFC4303] MUST be supported.  AH [RFC4302] MAY be supported.

10.3.  Transforms and Algorithms

   The current set of mandatory-to-implement algorithms for ESP and AH
   are defined in 'Cryptographic Algorithm Implementation Requirements
   For ESP and AH' [RFC4835].  IPv6 nodes SHOULD conform to the
   requirements in [RFC4835].






Jankiewicz, et al.      Expires January 13, 2011               [Page 14]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


10.4.  Key Management Methods

   An implementation MUST support the manual configuration of the
   security key and SPI.  The SPI configuration is needed in order to
   delineate between multiple keys.

   Key management SHOULD be supported.  Examples of key management
   systems include IKEv2 [RFC4306] and Kerberos; S/MIME and TLS include
   key management functions.

   Where key refresh, anti-replay features of AH and ESP, or on-demand
   creation of Security Associations (SAs) is required, automated keying
   MUST be supported.

   Key management methods for multicast traffic are also being worked on
   by the MSEC WG.


11.  Router-Specific Functionality

   This section defines general host considerations for IPv6 nodes that
   act as routers.  Currently, this section does not discuss routing-
   specific requirements.

11.1.  General

11.1.1.  IPv6 Router Alert Option - RFC 2711

   The IPv6 Router Alert Option [RFC2711] is an optional IPv6 Hop-by-Hop
   Header that is used in conjunction with some protocols (e.g., RSVP
   [RFC2205] or MLD [RFC2710]).  The Router Alert option will need to be
   implemented whenever protocols that mandate its usage are
   implemented.  See Section 4.6.

11.1.2.  Neighbor Discovery for IPv6 - RFC 4861

   Sending Router Advertisements and processing Router Solicitation MUST
   be supported.


12.  Network Management

   Network Management MAY be supported by IPv6 nodes.  However, for IPv6
   nodes that are embedded devices, network management may be the only
   possible way of controlling these nodes.






Jankiewicz, et al.      Expires January 13, 2011               [Page 15]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


12.1.  Management Information Base Modules (MIBs)

   The following two MIBs SHOULD be supported by nodes that support an
   SNMP agent.

12.1.1.  IP Forwarding Table MIB

   IP Forwarding Table MIB [RFC4292] SHOULD be supported by nodes that
   support an SNMP agent.

12.1.2.  Management Information Base for the Internet Protocol (IP)

   IP MIB [RFC4293] SHOULD be supported by nodes that support an SNMP
   agent.


13.  Open Issues

   1.  The recommendations regarding when to invoke DHCP are
       problematical with out being able to reference the M&0 bits.
   2.  Security Recommendations needs updating.  See note in that
       Section.


14.  Security Considerations

   This document does not directly affect the security of the Internet,
   but implementations of IPv6 are expected to support a minimum set of
   security features to ensure security on the Internet.

   Security is also discussed in Section XXX above.


15.  Authors and Acknowledgments

15.1.  Authors and Acknowledgments (Current Document)

15.2.  Authors and Acknowledgments From RFC 4279

   The original version of this document (RFC 4279) was written by the
   IPv6 Node Requirements design team:

      Jari Arkko
      jari.arkko@ericsson.com







Jankiewicz, et al.      Expires January 13, 2011               [Page 16]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


      Marc Blanchet
      marc.blanchet@viagenie.qc.ca
      Samita Chakrabarti
      samita.chakrabarti@eng.sun.com
      Alain Durand
      alain.durand@sun.com
      Gerard Gastaud
      gerard.gastaud@alcatel.fr
      Jun-ichiro itojun Hagino
      itojun@iijlab.net
      Atsushi Inoue
      inoue@isl.rdc.toshiba.co.jp
      Masahiro Ishiyama
      masahiro@isl.rdc.toshiba.co.jp
      John Loughney
      john.loughney@nokia.com
      Rajiv Raghunarayan
      raraghun@cisco.com
      Shoichi Sakane
      shouichi.sakane@jp.yokogawa.com
      Dave Thaler
      dthaler@windows.microsoft.com
      Juha Wiljakka
      juha.wiljakka@Nokia.com

   The authors would like to thank Ran Atkinson, Jim Bound, Brian
   Carpenter, Ralph Droms, Christian Huitema, Adam Machalek, Thomas
   Narten, Juha Ollila, and Pekka Savola for their comments.  Thanks to
   Mark Andrews for comments and corrections on DNS text.  Thanks to
   Alfred Hoenes for tracking the updates to various RFCs.


16.  Appendix: Changes from -04 to -05

   1.  Cleaned up IPsec section, but key questions (MUST vs. SHOULD)
   still open.

   2.  Added background section on DHCP vs. RA options.

   3.  Added SHOULD recomendation for DNS configuration vi RAs
   (RFC5006bis).

   4.  Cleaned up DHCP section, as it was referring to the M&O bits.

   5.  Cleaned up the Security Considerations Section.






Jankiewicz, et al.      Expires January 13, 2011               [Page 17]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


17.  Appendix: Changes from -03 to -04

   1.  Updated the Introduction to indicate document is an applicabity
   statement

   2.  Updated the section on Mobility protocols

   3.  Changed Sub-IP Layer Section to just list relevant RFCs, and
   added some more RFCs.

   4.  Added Section on SEND (make it a MAY)

   5.  Redid Section on Privacy Extensions (RFC4941) to add more nuance
   to recommendation

   6.  Redid section on Mobility, and added additional RFCs [


18.  Appendix: Changes from RFC 4294

   This appendix keeps track of the chances from RFC 4294

   1.  Section 5.1, removed "and DNAME" from the discussion about RFC-
   3363.

   2.  RFC 2463 references updated to RFC 4443.

   3.  RFC 3513 references updated to RFC 4291.

   4.  RFC 3152 references updated to RFC 3596.

   5.  RFC 2893 references updated to RFC 4213.

   6.  AH [RFC4302] support chanced from MUST to MAY.

   7.  The reference for RFC 3152 has been deleted, as the RFC has been
   obsoleted, and has been incorporated into RFC 3596.

   8.  The reference for RFC 3879 has been removed as the material from
   RFC 3879 has been incorporated into RFC 4291.


19.  References

19.1.  Normative References

   [RFC1035]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, RFC 1035, November 1987.



Jankiewicz, et al.      Expires January 13, 2011               [Page 18]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


   [RFC1981]  McCann, J., Deering, S., and J. Mogul, "Path MTU Discovery
              for IP version 6", RFC 1981, August 1996.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2460]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", RFC 2460, December 1998.

   [RFC2671]  Vixie, P., "Extension Mechanisms for DNS (EDNS0)",
              RFC 2671, August 1999.

   [RFC2710]  Deering, S., Fenner, W., and B. Haberman, "Multicast
              Listener Discovery (MLD) for IPv6", RFC 2710,
              October 1999.

   [RFC2711]  Partridge, C. and A. Jackson, "IPv6 Router Alert Option",
              RFC 2711, October 1999.

   [RFC3315]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,
              and M. Carney, "Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", RFC 3315, July 2003.

   [RFC3363]  Bush, R., Durand, A., Fink, B., Gudmundsson, O., and T.
              Hain, "Representing Internet Protocol version 6 (IPv6)
              Addresses in the Domain Name System (DNS)", RFC 3363,
              August 2002.

   [RFC3484]  Draves, R., "Default Address Selection for Internet
              Protocol version 6 (IPv6)", RFC 3484, February 2003.

   [RFC3590]  Haberman, B., "Source Address Selection for the Multicast
              Listener Discovery (MLD) Protocol", RFC 3590,
              September 2003.

   [RFC3596]  Thomson, S., Huitema, C., Ksinant, V., and M. Souissi,
              "DNS Extensions to Support IP Version 6", RFC 3596,
              October 2003.

   [RFC3775]  Johnson, D., Perkins, C., and J. Arkko, "Mobility Support
              in IPv6", RFC 3775, June 2004.

   [RFC3776]  Arkko, J., Devarapalli, V., and F. Dupont, "Using IPsec to
              Protect Mobile IPv6 Signaling Between Mobile Nodes and
              Home Agents", RFC 3776, June 2004.

   [RFC3810]  Vida, R. and L. Costa, "Multicast Listener Discovery
              Version 2 (MLDv2) for IPv6", RFC 3810, June 2004.



Jankiewicz, et al.      Expires January 13, 2011               [Page 19]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


   [RFC4291]  Hinden, R. and S. Deering, "IP Version 6 Addressing
              Architecture", RFC 4291, February 2006.

   [RFC4292]  Haberman, B., "IP Forwarding Table MIB", RFC 4292,
              April 2006.

   [RFC4293]  Routhier, S., "Management Information Base for the
              Internet Protocol (IP)", RFC 4293, April 2006.

   [RFC4301]  Kent, S. and K. Seo, "Security Architecture for the
              Internet Protocol", RFC 4301, December 2005.

   [RFC4302]  Kent, S., "IP Authentication Header", RFC 4302,
              December 2005.

   [RFC4303]  Kent, S., "IP Encapsulating Security Payload (ESP)",
              RFC 4303, December 2005.

   [RFC4443]  Conta, A., Deering, S., and M. Gupta, "Internet Control
              Message Protocol (ICMPv6) for the Internet Protocol
              Version 6 (IPv6) Specification", RFC 4443, March 2006.

   [RFC4607]  Holbrook, H. and B. Cain, "Source-Specific Multicast for
              IP", RFC 4607, August 2006.

   [RFC4835]  Manral, V., "Cryptographic Algorithm Implementation
              Requirements for Encapsulating Security Payload (ESP) and
              Authentication Header (AH)", RFC 4835, April 2007.

   [RFC4861]  Narten, T., Nordmark, E., Simpson, W., and H. Soliman,
              "Neighbor Discovery for IP version 6 (IPv6)", RFC 4861,
              September 2007.

   [RFC4862]  Thomson, S., Narten, T., and T. Jinmei, "IPv6 Stateless
              Address Autoconfiguration", RFC 4862, September 2007.

   [RFC4941]  Narten, T., Draves, R., and S. Krishnan, "Privacy
              Extensions for Stateless Address Autoconfiguration in
              IPv6", RFC 4941, September 2007.

   [RFC5006]  Jeong, J., Park, S., Beloeil, L., and S. Madanapalli,
              "IPv6 Router Advertisement Option for DNS Configuration",
              RFC 5006, September 2007.

   [RFC5072]  S.Varada, Haskins, D., and E. Allen, "IP Version 6 over
              PPP", RFC 5072, September 2007.

   [RFC5095]  Abley, J., Savola, P., and G. Neville-Neil, "Deprecation



Jankiewicz, et al.      Expires January 13, 2011               [Page 20]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


              of Type 0 Routing Headers in IPv6", RFC 5095,
              December 2007.

19.2.  Informative References

   [RFC0793]  Postel, J., "Transmission Control Protocol", STD 7,
              RFC 793, September 1981.

   [RFC1034]  Mockapetris, P., "Domain names - concepts and facilities",
              STD 13, RFC 1034, November 1987.

   [RFC2205]  Braden, B., Zhang, L., Berson, S., Herzog, S., and S.
              Jamin, "Resource ReSerVation Protocol (RSVP) -- Version 1
              Functional Specification", RFC 2205, September 1997.

   [RFC2464]  Crawford, M., "Transmission of IPv6 Packets over Ethernet
              Networks", RFC 2464, December 1998.

   [RFC2492]  Armitage, G., Schulter, P., and M. Jork, "IPv6 over ATM
              Networks", RFC 2492, January 1999.

   [RFC2529]  Carpenter, B. and C. Jung, "Transmission of IPv6 over IPv4
              Domains without Explicit Tunnels", RFC 2529, March 1999.

   [RFC2590]  Conta, A., Malis, A., and M. Mueller, "Transmission of
              IPv6 Packets over Frame Relay Networks Specification",
              RFC 2590, May 1999.

   [RFC2675]  Borman, D., Deering, S., and R. Hinden, "IPv6 Jumbograms",
              RFC 2675, August 1999.

   [RFC3146]  Fujisawa, K. and A. Onoe, "Transmission of IPv6 Packets
              over IEEE 1394 Networks", RFC 3146, October 2001.

   [RFC3569]  Bhattacharyya, S., "An Overview of Source-Specific
              Multicast (SSM)", RFC 3569, July 2003.

   [RFC3736]  Droms, R., "Stateless Dynamic Host Configuration Protocol
              (DHCP) Service for IPv6", RFC 3736, April 2004.

   [RFC3971]  Arkko, J., Kempf, J., Zill, B., and P. Nikander, "SEcure
              Neighbor Discovery (SEND)", RFC 3971, March 2005.

   [RFC3972]  Aura, T., "Cryptographically Generated Addresses (CGA)",
              RFC 3972, March 2005.

   [RFC4033]  Arends, R., Austein, R., Larson, M., Massey, D., and S.
              Rose, "DNS Security Introduction and Requirements",



Jankiewicz, et al.      Expires January 13, 2011               [Page 21]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


              RFC 4033, March 2005.

   [RFC4034]  Arends, R., Austein, R., Larson, M., Massey, D., and S.
              Rose, "Resource Records for the DNS Security Extensions",
              RFC 4034, March 2005.

   [RFC4035]  Arends, R., Austein, R., Larson, M., Massey, D., and S.
              Rose, "Protocol Modifications for the DNS Security
              Extensions", RFC 4035, March 2005.

   [RFC4213]  Nordmark, E. and R. Gilligan, "Basic Transition Mechanisms
              for IPv6 Hosts and Routers", RFC 4213, October 2005.

   [RFC4306]  Kaufman, C., "Internet Key Exchange (IKEv2) Protocol",
              RFC 4306, December 2005.

   [RFC4338]  DeSanti, C., Carlson, C., and R. Nixon, "Transmission of
              IPv6, IPv4, and Address Resolution Protocol (ARP) Packets
              over Fibre Channel", RFC 4338, January 2006.

   [RFC4380]  Huitema, C., "Teredo: Tunneling IPv6 over UDP through
              Network Address Translations (NATs)", RFC 4380,
              February 2006.

   [RFC4877]  Devarapalli, V. and F. Dupont, "Mobile IPv6 Operation with
              IKEv2 and the Revised IPsec Architecture", RFC 4877,
              April 2007.

   [RFC4944]  Montenegro, G., Kushalnagar, N., Hui, J., and D. Culler,
              "Transmission of IPv6 Packets over IEEE 802.15.4
              Networks", RFC 4944, September 2007.

   [RFC5121]  Patil, B., Xia, F., Sarikaya, B., Choi, JH., and S.
              Madanapalli, "Transmission of IPv6 via the IPv6
              Convergence Sublayer over IEEE 802.16 Networks", RFC 5121,
              February 2008.

   [RFC5555]  Soliman, H., "Mobile IPv6 Support for Dual Stack Hosts and
              Routers", RFC 5555, June 2009.












Jankiewicz, et al.      Expires January 13, 2011               [Page 22]

Internet-Draft     IPv6 Node Requirements RFC 4294-bis         July 2010


Authors' Addresses

   Ed Jankiewicz
   SRI International
   Fort Monmouth Branch Office - IPv6 Research
   USA

   Phone:
   Email: ed.jankiewicz@sri.com


   John Loughney
   Nokia
   955 Page Mill Road
   Palo Alto  94303
   USA

   Phone: +1 650 283 8068
   Email: john.loughney@nokia.com


   Thomas Narten
   IBM Corporation
   3039 Cornwallis Ave.
   PO Box 12195
   Research Triangle Park, NC  27709-2195
   USA

   Phone: +1 919 254 7798
   Email: narten@us.ibm.com





















Jankiewicz, et al.      Expires January 13, 2011               [Page 23]

