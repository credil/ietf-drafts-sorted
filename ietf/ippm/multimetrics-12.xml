<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes"?>
<?rfc tocompact="yes"?>
<?rfc tocdepth="1"?>
<?rfc tocindent="yes"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>
<?rfc compact="yes"?>
<?rfc subcompact="yes"?>
<rfc category="std" docName="draft-ietf-ippm-multimetrics-12"
     ipr="pre5378Trust200902">
  <front>
    <title abbrev="Spatial and Multicast Metrics">IP Performance Metrics
    (IPPM) for spatial and multicast</title>

    <author fullname="Stephan Emile" initials="E." surname="Stephan">
      <organization abbrev="France Telecom">France Telecom Division
      R&amp;D</organization>

      <address>
        <postal>
          <street>2 avenue Pierre Marzin</street>

          <city>Lannion</city>

          <region></region>

          <code>F-22307</code>
        </postal>

        <facsimile>+33 2 96 05 18 52</facsimile>

        <email>emile.stephan@orange-ftgroup.com</email>
      </address>
    </author>

    <author fullname="Lei Liang" initials="L." surname="Liang">
      <organization abbrev="University of Surrey">CCSR, University of
      Surrey</organization>

      <address>
        <postal>
          <street>Guildford</street>

          <city>Surrey</city>

          <region></region>

          <code>GU2 7XH</code>
        </postal>

        <facsimile>+44 1483 683641</facsimile>

        <email>L.Liang@surrey.ac.uk</email>
      </address>
    </author>

    <author fullname="Al Morton" initials="A." surname="Morton">
      <organization abbrev="AT&amp;T Labs"></organization>

      <address>
        <postal>
          <street>200 Laurel Ave. South</street>

          <city>Middletown</city>

          <region>NJ</region>

          <code>07748</code>

          <country>USA</country>
        </postal>

        <phone>+1 732 420 1571</phone>

        <email>acmorton@att.com</email>
      </address>
    </author>

    <date day="1" month="September" year="2009" />

    <abstract>
      <t>The IETF has standardized IP Performance Metrics (IPPM) for measuring
      end-to-end performance between two points. This memo defines two new
      categories of metrics that extend the coverage to multiple measurement
      points. It defines spatial metrics for measuring the performance of
      segments of a source to destination path, and metrics for measuring the
      performance between a source and many destinations in multiparty
      communications (e.g., a multicast tree).</t>
    </abstract>

    <note title="Requirements Language">
      <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <xref
      target="RFC2119">RFC 2119</xref>.</t>
    </note>
  </front>

  <middle>
    <section title="Introduction and Scope">
      <t>IETF has standardized IP Performance Metrics (IPPM) for measuring
      end-to-end performance between two points. This memo defines two new
      categories of metrics that extend the coverage to multiple measurement
      points. It defines spatial metrics for measuring the performance of
      segments of a source to destination path, and metrics for measuring the
      performance between a source and many destinations in multiparty
      communications (e.g., a multicast tree).</t>

      <t>The purpose of the memo is to define metrics to fulfill the new
      requirements of measurement involving multiple measurement points.
      Spatial metrics measure the performance of each segment along a path.
      One-to-group metrics measure the performance for a group of users. These
      metrics are derived from one-way end-to-end metrics, all of which follow
      the IPPM framework <xref target="RFC2330"></xref>.</t>

      <t>This memo is organized as follows: Section 2 introduces new terms
      that extend the original IPPM framework <xref target="RFC2330"></xref>.
      Section 3 motivates each metric category and briefly introduces the new
      metrics. Sections 4 through 7 develop each category of metrics with
      definitions and statistics. Then the memo discusses the impact of the
      measurement methods on the scalability and proposes an information model
      for reporting the measurements. Finally, the memo discusses security
      aspects related to measurement and registers the metrics in the IANA IP
      Performance Metrics Registry <xref target="RFC4148"></xref>.</t>

      <t>The scope of this memo is limited to metrics using a single source
      packet or stream, and observations of corresponding packets along the
      path (spatial), at one or more destinations (one-to-group), or both.
      Note that all the metrics defined herein are based on observations of
      packets dedicated to testing, a process which is called active
      measurement. Passive measurement (for example, a spatial metric based on
      the observation of user traffic) is beyond the scope of this memo.</t>
    </section>

    <section title="Terminology">
      <section title="Naming of the metrics">
        <t>The names of the metrics, including capitalization letters, are as
        close as possible of the names of the one-way end-to-end metrics they
        are derived from.</t>
      </section>

      <section title="Terms Defined Elsewhere">
        <t>host: section 5 of RFC 2330</t>

        <t>router: section 5 of RFC 2330</t>

        <t>loss threshold: section 2.8.2 of RFC 2680</t>

        <t>path: section 5 of RFC 2330</t>

        <t>sample: section 11 of RFC 2330</t>

        <t>singleton: section 11 of RFC 2330</t>
      </section>

      <section title="Routers Digest">
        <t>The list of the routers on the path from the source to the
        destination which act as points of interest, also referred to as the
        routers digest.</t>
      </section>

      <section title="Multiparty metric">
        <t>A metric is said to be multiparty if the topology involves more
        than one measurement collection point. All multiparty metrics
        designate a set of hosts as "points of interest", where one host is
        the source and other hosts are the measurement collection points. For
        example, if the set of points of interest is &lt; ha, hb, hc, ..., hn
        &gt;, where ha is the source and &lt; hb, hc, ..., hn &gt; are the
        destinations, then measurements may be conducted between &lt; ha,
        hb&gt;, &lt; ha, hc&gt;, ..., &lt;ha, hn &gt;.</t>

        <t>For the purposes of this memo (reflecting the scope of a single
        source), the only multiparty metrics are one-to-group metrics.</t>
      </section>

      <section title="Spatial metric">
        <t>A metric is said to be spatial if one of the hosts (measurement
        collection points) involved is neither the source nor a destination of
        the measured packet(s). Such measurement hosts will usually be routers
        member of the routers digest.</t>
      </section>

      <section title="One-to-group metric">
        <t>A metric is said to be one-to-group if the measured packet is sent
        by one source and (potentially) received by more than one destination.
        Thus, the topology of the communication group can be viewed as a
        center-distributed or server-client topology with the source as the
        center/server in the topology.</t>
      </section>

      <section title="Points of interest">
        <t>Points of interest are the hosts (as per the RFC 2330 definition,
        "hosts" include routing nodes) that are measurement collection points,
        a sub-set of the set of hosts involved in the delivery of the packets
        (in addition to the source itself).</t>

        <t>For spatial metrics, points of interest are a (possibly arbitrary)
        sub-set of all the routers involved in the path.</t>

        <t>Points of interest of one-to-group metrics are the intended
        destination hosts for packets from the source (in addition to the
        source itself).</t>

        <t><figure anchor="FigPointO2g"
            title="One-to-group points of interest">
            <artwork align="center"><![CDATA[Src                   Dst
`.          ,-.      
  `.      ,'   `...... 1
    `.   ;       :
      `. ;       :
        ;         :... 2
        |         |
        :         ;
         :       ;.... 3
         :       ;
          `.   ,'
            `-'....... I

]]></artwork>
          </figure></t>

        <t></t>

        <t>A candidate point of interest for spatial metrics is a router from
        the set of routers involved in the delivery of the packets from source
        to destination.</t>

        <figure anchor="FigPointSpatial" title="Spatial points of interest">
          <artwork align="center"><![CDATA[

                Src ------.           Hosts
                           \
                            `---X   --- 1
                                \
                                 x
                                /
                     .---------X   ---- 2
                   /
                  x 
                   ...
                   `---X           ---- ...
                          \
                           \
                            \
                             X     ---- J
                              \
                               \
                                \
                                 `---- Dst
                                  

       Note: 'X' are nodes which are points of interest, 
             'x' are nodes which are not points of interest
]]></artwork>
        </figure>

        <t></t>
      </section>

      <section title="Reference point">
        <t>A reference point is defined as the server where the statistical
        calculations will be carried out. It is usually a centralized server
        in the measurement architecture that is controlled by a network
        operator, where measurement data can be collected for further
        processing. The reference point is distinctly different from hosts at
        measurement collection points, where the actual measurements are
        carried out (e.g., points of interest).</t>
      </section>

      <section title="Vector ">
        <t>A vector is a set of singletons (single atomic results) comprised
        of observations corresponding to a single source packet at different
        hosts in a network. For instance, if the one-way delay singletons
        observed at N receivers for Packet P sent by the source Src are dT1,
        dT2,..., dTN, then a vector V with N elements can be organized as
        {dT1, dT2,&hellip;, dTN}. The element dT1 is distinct from all others
        as the singleton at receiver 1 in response to a packet sent from the
        source at a specific time. The complete vector gives information over
        the dimension of space; a set of N receivers in this example.</t>

        <t>The singleton elements of any vector are distinctly different from
        each other in terms of their measurement collection point. Different
        vectors for common measurement points of interest are distinguished by
        the source packet sending time.</t>
      </section>

      <section title="Matrix">
        <t>Several vectors form a matrix, which contains results observed over
        a sampling interval at different places in a network at different
        times. For example, the One-way delay vectors V1={dT11, dT12,...,
        dT1N}, V2={dT21, dT22,&hellip;, dT2N},&hellip;, Vm={dTm1,
        dTm2,&hellip;, dTmN} for Packet P1, P2,&hellip;,Pm, form a One-way
        delay Matrix {V1, V2,&hellip;,Vm}. The matrix organizes the vector
        information to present network performance in both space and time.</t>

        <t>A one-dimensional matrix (row) corresponds to a sample in simple
        point-to-point measurement.</t>

        <t>The relationship among singleton, sample, vector and matrix is
        illustrated in the following <xref target="Figmatrix"></xref>.</t>

        <t><figure anchor="Figmatrix"
            title="Relationship between singletons, samples, vectors and matrix">
            <artwork align="center"><![CDATA[              points of        singleton
              interest           /       samples(time)
               ,----.    ^      /
              /   R1.....|  / R1dT1   R1dT2   R1dT3 ... R3dTk \
             /         \ | |                                   |
            ;  R2........| |  R2dT1   R2dT2   R2dT3 ... R3dTk  |
       Src  |           || |                                   |
            |      R3....| |  R3dT1   R3dT2   R3dT3 ... R3dTk  |
            |           || |                                   |
            :           ;| |                                   |
             \         / | |                                   |
              \  Rn......|  \ RndT1   RndT2   RndT3 ... RndTk /
               `-----'   +-------------------------------------> time
                              
                             vector           matrix
                            (space)      (time and space)
]]></artwork>
          </figure></t>
      </section>
    </section>

    <section title="Brief Metric Descriptions">
      <t>The metrics for spatial and one-to-group measurement are based on the
      source-to-destination, or end-to-end metrics defined by IETF in <xref
      target="RFC2679"></xref>, <xref target="RFC2680"></xref>, <xref
      target="RFC3393"></xref>, <xref target="RFC3432"></xref>.</t>

      <t>This memo defines seven new spatial metrics using the <xref
      target="RFC2330"></xref> framework of parameters, units of measure, and
      measurement methodologies. Each definition includes a section that
      describes measurements constraints and issues, and provides guidance to
      increase the accuracy of the results.</t>

      <t>The spatial metrics are:<list style="symbols">
          <t>Type-P-Spatial-One-way-Delay-Vector divides the end-to-end
          Type-P-One-way-Delay <xref target="RFC2679"></xref> into a spatial
          vector of one-way delay singletons.</t>

          <t>Type-P-Spatial-One-way-Packet-Loss-Vector divides an end-to-end
          Type-P-One-way-Packet-Loss <xref target="RFC2680"></xref> into a
          spatial vector of packet loss singletons.</t>

          <t>Type-P-Spatial-One-way-ipdv-Vector divides an end-to-end
          Type-P-One-way-ipdv into a spatial vector of ipdv (IP Packet Delay
          Variation) singletons.</t>

          <t>Using elements of the Type-P-Spatial-One-way-Delay-Vector metric,
          a sample called Type-P-Segment-One-way-Delay-Stream collects one-way
          delay metrics between two points of interest on the path over
          time.</t>

          <t>Likewise, using elements of the Type-P-Spatial-Packet-Loss-Vector
          metric, a sample called Type-P-Segment-Packet-Loss-Stream collects
          one-way delay metrics between two points of interest on the path
          over time.</t>

          <t>Using the Type-P-Spatial-One-way-Delay-Vector metric, a sample
          called Type-P-Segment-ipdv-prev-Stream, will be introduced to
          compute ipdv metrics (using the previous packet selection function)
          between two points of interest on the path over time.</t>

          <t>Again using the Type-P-Spatial-One-way-Delay-Vector metric, a
          sample called Type-P-Segment-ipdv-min-Stream will define another set
          of ipdv metrics (using the minimum delay packet selection function)
          between two points of interest on the path over time.</t>
        </list></t>

      <t>The memo also defines three one-to-group metrics to measure the
      one-way performance between a source and a group of receivers. They are:
      <list style="symbols">
          <t>Type-P-One-to-group-Delay-Vector collects the set of
          Type-P-one-way-delay singletons between one sender and N
          receivers.</t>

          <t>Type-P-One-to-group-Packet-Loss-Vector collects the set of
          Type-P-One-way-Packet-Loss singletons between one sender and N
          receivers.</t>

          <t>Type-P-One-to-group-ipdv-Vector collects the set of
          Type-P-One-way-ipdv singletons between one sender and N
          receivers.</t>
        </list></t>

      <t>Finally, based on the one-to-group vector metrics listed above,
      statistics are defined to capture single receiver performance, group
      performance and the relative performance for a multiparty
      communication:<list style="symbols">
          <t>Using the Type-P-One-to-group-Delay-Vector, a metric called
          Type-P-One-to-group-Receiver-n-Mean-Delay or RnMD, presents the mean
          of delays between one sender and a single receiver 'n'. From this
          metric, 3 additional metrics are defined to characterize the mean
          delay over the entire group of receivers during the same time
          interval:<list>
              <t>Type-P-One-to-group-Mean-Delay or GMD, presents the mean of
              delays;</t>

              <t>Type-P-One-to-group-Range-Mean-Delay or GRMD, presents the
              range of mean delays;</t>

              <t>Type-P-One-to-group-Max-Mean-Delay or GMMD, presents the
              maximum of mean delays.</t>
            </list></t>

          <t>Using the Type-P-One-to-group-Packet-Loss-Vector, a metric called
          Type-P-One-to-group-Receiver-n-Loss-Ratio or RnLR, captures the
          packet loss ratio between one sender and a single receiver 'n'.
          Based on this definition, 2 more metrics are defined to characterize
          packet loss over the entire group during the same time
          interval:<list>
              <t>Type-P-One-to-group-Loss-Ratio or GLR, captures the overall
              packet loss ratio for the entire group of receivers;</t>

              <t>Type-P-One-to-group-Range-Loss-Ratio, or GRLR, presents the
              comparative packet loss ratio during the test interval between
              one sender and N receivers.</t>
            </list></t>

          <t>Using the Type-P-One-to-group-Packet-Loss-Vector, a metric called
          Type-P-One-to-group-Receiver-n-Comp-Loss-Ratio, or RnCLR, computes a
          packet loss ratio using the maximum number of packets received at
          any receiver.</t>

          <t>Using Type-P-One-to-group-ipdv-Vector, a metric called
          Type-P-One-to-group-Range-Delay-Variation, or GRDV, presents the
          range of delay variation between one sender and a group of
          receivers.</t>
        </list></t>
    </section>

    <section title="Motivations">
      <t>All existing IPPM metrics are defined for end-to-end (source to
      destination) measurement of point-to-point paths. It is logical to
      extend them to multiparty situations such as one to one trajectory
      metrics and one to multipoint metrics.</t>

      <section title="Motivations for spatial metrics">
        <t>Spatial metrics are needed for: <list style="symbols">
            <t>Decomposing the performance of an inter-domain path to quantify
            the per-AS contribution to the end-to-end performance.</t>

            <t>Traffic engineering and troubleshooting, which benefit from
            spatial views of one-way delay and ipdv consumption, or
            identification of the path segment where packets were lost.</t>

            <t>Monitoring the decomposed performance of a multicast tree based
            on MPLS point-to-multipoint communications.</t>

            <t>Dividing end-to-end metrics, so that some segment measurements
            can be re-used and help measurement systems reach large-scale
            coverage. Spatial measures could characterize the performance of
            an intra-domain segment and provide an elementary piece of
            information needed to estimate inter-domain performance to another
            destination using Spatial Composition metrics <xref
            target="I-D.ietf-ippm-spatial-composition"></xref>.</t>
          </list></t>
      </section>

      <section title="Motivations for One-to-group metrics">
        <t>While the node-to-node based spatial measures can provide very
        useful data in the view of each connection, we also need measures to
        present the performance of a multiparty communication topology. A
        simple point-to-point metric cannot completely describe the multiparty
        situation. New one-to-group metrics assess performance of the multiple
        paths for further statistical analysis. The new metrics are named
        one-to-group performance metrics, and they are based on the unicast
        metrics defined in IPPM RFCs. One-to-group metrics are one-way metrics
        from one source to a group of destinations, or receivers. The metrics
        are helpful for judging the overall performance of a multiparty
        communications network, and for describing the performance variation
        across a group of destinations.</t>

        <t>One-to-group performance metrics are needed for:</t>

        <t><list style="symbols">
            <t>Designing and engineering multicast trees and MPLS
            point-to-multipoint LSPs.</t>

            <t>Evaluating and controlling the quality of multicast services,
            including inter-domain multicast.</t>

            <t>Presenting and evaluating the performance requirements for
            multiparty communications and overlay multicast.</t>
          </list>To understand the packet transfer performance between one
        source and any one receiver in the multiparty communication group, we
        need to collect instantaneous end-to-end metrics, or singletons. This
        gives a very detailed view into the performance of each branch of the
        multicast tree, and can provide clear and helpful information for
        engineers to identify the branch with problems in a complex multiparty
        routing tree.</t>

        <t>The one-to-group metrics described in this memo introduce the
        multiparty topology into the IPPM framework, and describe the
        performance delivered to a group receiving packets from the same
        source. The concept extends the "path" of the point-to-point
        measurement to "path tree" to cover one-to-many topologies. If applied
        to one-to-one topology, the one-to-group metrics provide exactly the
        same results as the corresponding one-to-one metrics.</t>
      </section>

      <t></t>

      <section title="Discussion on Group-to-one and Group-to-group metrics">
        <t>We note that points of interest can also be selected to define
        measurements on group-to-one and group-to-group topologies. These
        topologies are beyond the scope of this memo, because they would
        involve multiple packets launched from different sources. However,
        this section gives some insights on these two cases.</t>

        <t>The measurements for group-to-one topology can be easily derived
        from the one-to-group measurement. The measurement point is the host
        that is acting as a receiver while all other hosts act as sources in
        this case.</t>

        <t>The group-to-group communication topology has no obvious focal
        point: the sources and the measurement collection points can be
        anywhere. However, it is possible to organize the problem by applying
        measurements in one-to-group or group-to-one topologies for each host
        in a uniform way (without taking account of how the real communication
        might be carried out). For example, one group of hosts &lt; ha, hb,
        hc, ..., hn &gt; might act as sources to send data to another group of
        hosts &lt; Ha, Hb, Hc, ..., Hm &gt;, and they can be organized into n
        sets of points of interest for one-to-group communications:</t>

        <t>&lt; ha, Ha, Hb, Hc, ..., Hm &gt;, &lt; hb, Ha, Hb, Hc, ..., Hm
        &gt;, &lt;hc, Ha, Hb, Hc, ..., Hm &gt;, ..., &lt; hn, Ha, Hb, Hc, ...,
        Hm &gt;.</t>
      </section>
    </section>

    <section title="Spatial vector metrics definitions">
      <t>This section defines vectors for the spatial decomposition of
      end-to-end singleton metrics over a path.</t>

      <t>Spatial vector metrics are based on the decomposition of standard
      end-to-end metrics defined by the IPPM WG in <xref
      target="RFC2679"></xref>, <xref target="RFC2680"></xref>, <xref
      target="RFC3393"></xref> and <xref target="RFC3432"></xref>.</t>

      <t>The spatial vector definitions are coupled with the corresponding
      end-to-end metrics. Measurement methodology aspects are common to all
      the vectors defined and are consequently discussed in a common
      section.</t>

      <section title="A Definition for Spatial One-way Delay Vector">
        <t>This section is coupled with the definition of Type-P-One-way-Delay
        of the section 3 of <xref target="RFC2679"></xref>. When a parameter
        from the definition in <xref target="RFC2679"></xref> is re-used in
        this section, the first instance will be tagged with a trailing
        asterisk.</t>

        <t>Sections 3.5 to 3.8 of <xref target="RFC2679"></xref> give
        requirements and applicability statements for end-to-end one-way-delay
        measurements. They are applicable to each point of interest, Hi,
        involved in the measure. Spatial one-way-delay measurement MUST
        respect them, especially those related to methodology, clock,
        uncertainties and reporting.</t>

        <section title="Metric Name">
          <t>Type-P-Spatial-One-way-Delay-Vector</t>
        </section>

        <section title="Metric Parameters">
          <t><list style="symbols">
              <t>Src*, the IP address of the sender.</t>

              <t>Dst*, the IP address of the receiver.</t>

              <t>i, an integer in the ordered list &lt;1,2,...,n&gt; of
              routers in the path.</t>

              <t>Hi, a router of the routers digest.</t>

              <t>T*, a time, the sending (or initial observation) time for a
              measured packet.</t>

              <t>dT*, a delay, the one-way delay for a measured packet.</t>

              <t>dTi, a delay, the one-way delay for a measured packet from
              the source to router Hi.</t>

              <t>&lt;dT1,... dTi,... dTn&gt; a list of n delay singletons.</t>

              <t>Type-P*, the specification of the packet type.</t>

              <t>&lt;H1, H2,..., Hn&gt; the routers digest.</t>
            </list></t>
        </section>

        <section title="Metric Units">
          <t>The value of Type-P-Spatial-One-way-Delay-Vector is a sequence of
          times (a real number in the dimension of seconds with sufficient
          resolution to convey the results).</t>
        </section>

        <section title="Definition">
          <t>Given a Type-P packet sent by the Src at wire-time (first bit) T
          to the receiver Dst on the path &lt;H1, H2,..., Hn&gt;. There is a
          sequence of values &lt;T+dT1,T+dT2,...,T+dTn,T+dT&gt; such that dT
          is the Type-P-One-way-Delay from Src to Dst, and for each Hi of the
          path, T+dTi is either a real number corresponding to the wire-time
          the packet passes (last bit received) Hi, or undefined if the packet
          does not pass Hi within a specified loss threshold* time.</t>

          <t>Type-P-Spatial-One-way-Delay-Vector metric is defined for the
          path &lt;Src, H1, H2,..., Hn, Dst&gt; as the sequence of values
          &lt;T,dT1,dT2,...,dTn,dT&gt;.</t>
        </section>

        <section title="Discussion">
          <t>Some specific issues that may occur are as follows: <list
              style="symbols">
              <t>the delay singletons "appear" to decrease: dTi &gt; dTi+1.
              This may occur despite being physically impossible with the
              definition used.<list style="symbols">
                  <t>This is frequently due to a measurement clock
                  synchronization issue. This point is discussed in the
                  section 3.7.1. "Errors or uncertainties related to Clocks"
                  of <xref target="RFC2679"></xref>. Consequently, the values
                  of delays measured at multiple routers may not match the
                  order of those routers on the path.</t>

                  <t>The actual order of routers on the path may change due to
                  reconvergence (e.g., recovery from a link failure).</t>

                  <t>The location of the measurement collection point in the
                  device influences the result. If the packet is not observed
                  directly on the input interface the delay includes buffering
                  time and consequently an uncertainty due to the difference
                  between 'wire time' and 'host time'.</t>
                </list></t>
            </list></t>
        </section>
      </section>

      <section title="A Definition for Spatial Packet Loss Vector">
        <t>This section is coupled with the definition of
        Type-P-One-way-Packet-Loss. When a parameter from section 2 of <xref
        target="RFC2680"></xref> is used in this section, the first instance
        will be tagged with a trailing asterisk.</t>

        <t>Sections 2.5 to 2.8 of <xref target="RFC2680"></xref> give
        requirements and applicability statements for end-to-end one-way
        packet loss measurements. They are applicable to each point of
        interest, Hi, involved in the measure. Spatial packet loss measurement
        MUST respect them, especially those related to methodology, clock,
        uncertainties and reporting.</t>

        <t>The following sections define the spatial loss vector, adapt some
        of the points above, and introduce points specific to spatial loss
        measurement.</t>

        <section title="Metric Name">
          <t>Type-P-Spatial-Packet-Loss-Vector</t>
        </section>

        <section title="Metric Parameters">
          <t><list style="symbols">
              <t>Src*, the IP address of the sender.</t>

              <t>Dst*, the IP address of the receiver.</t>

              <t>i, an integer in the ordered list &lt;1,2,...,n&gt; of
              routers in the path.</t>

              <t>Hi, a router of the routers digest.</t>

              <t>T*, a time, the sending time for a measured packet.</t>

              <t>dTi, a delay, the one-way delay for a measured packet from
              the source to host Hi.</t>

              <t>&lt;dT1,..., dTn&gt;, list of n delay singletons.</t>

              <t>Type-P*, the specification of packet type.</t>

              <t>&lt;H1, H2,..., Hn&gt;, the routers digest.</t>

              <t>&lt;L1, L2, ...,Ln&gt;, a list of Boolean values.</t>
            </list></t>
        </section>

        <section title="Metric Units">
          <t>The value of Type-P-Spatial-Packet-Loss-Vector is a sequence of
          Boolean values.</t>
        </section>

        <section title="Definition">
          <t>Given a Type-P packet sent by the Src at time T to the receiver
          Dst on the path &lt;H1, H2, ..., Hn&gt;. For the sequence of times
          &lt;T+dT1,T+dT2,..., T+dTi, ...,T+dTn&gt; the packet passes in
          &lt;H1, H2, ..., Hi, ..., Hn&gt;, define the
          Type-P-Packet-Loss-Vector metric as the sequence of values &lt;T,
          L1, L2, ..., Ln&gt; such that for each Hi of the path, a value of 0
          for Li means that dTi is a finite value, and a value of 1 means that
          dTi is undefined.</t>
        </section>

        <section title="Discussion">
          <t>Some specific issues that may occur are as follows: <list
              style="symbols">
              <t>The result might include the sequence of values 1,0. Although
              this appears physically impossible (a packet is lost, then
              re-appears later on the path):<list style="symbols">
                  <t>The actual routers on the path may change due to
                  reconvergence (e.g., recovery from a link failure).</t>

                  <t>The order of routers on the path may change due to
                  reconvergence.</t>

                  <t>A packet may not be observed in a router due to some
                  buffer or CPU overflow at the measurement collection
                  point.</t>
                </list></t>
            </list></t>
        </section>
      </section>

      <section title="A Definition for Spatial One-way Ipdv Vector">
        <t>When a parameter from section 2 of <xref target="RFC3393"></xref>
        (the definition of Type-P-One-way-ipdv) is used in this section, the
        first instance will be tagged with a trailing asterisk.</t>

        <t>The following sections define the spatial ipdv vector, adapt some
        of the points above, and introduce points specific to spatial ipdv
        measurement.</t>

        <section title="Metric Name">
          <t>Type-P-Spatial-One-way-ipdv-Vector</t>
        </section>

        <section title="Metric Parameters">
          <t></t>

          <t><list style="symbols">
              <t>Src*, the IP address of the sender.</t>

              <t>Dst*, the IP address of the receiver.</t>

              <t>i, an integer in the ordered list &lt;1,2,...,n&gt; of
              routers in the path.</t>

              <t>Hi, a router of the routers digest.</t>

              <t>T1*, a time, the sending time for a first measured
              packet.</t>

              <t>T2*, a time, the sending time for a second measured
              packet.</t>

              <t>dT*, a delay, the one-way delay for a measured packet.</t>

              <t>dTi, a delay, the one-way delay for a measured packet from
              the source to router Hi.</t>

              <t>Type-P*, the specification of the packets type.</t>

              <t>P1, the first packet sent at time T1.</t>

              <t>P2, the second packet sent at time T2.</t>

              <t>&lt;H1, H2,..., Hn&gt;, the routers digest.</t>

              <t>&lt;T1,dT1.1, dT1.2,..., dT1.n,dT1&gt;, the
              Type-P-Spatial-One-way-Delay-Vector for packet sent at time
              T1.</t>

              <t>&lt;T2,dT2.1, dT2.2,..., dT2.n,dT2&gt;, the
              Type-P-Spatial-One-way-Delay-Vector for packet sent at time
              T2.</t>

              <t>L*, a packet length in bits. The packets of a Type P packet
              stream from which the Type-P-Spatial-One-way-Delay-Vector metric
              is taken MUST all be of the same length.</t>
            </list></t>
        </section>

        <section title="Metric Units">
          <t>The value of Type-P-Spatial-One-way-ipdv-Vector is a sequence of
          times (a real number in the dimension of seconds with sufficient
          resolution to convey the results).</t>
        </section>

        <section title="Definition">
          <t>Given P1 the Type-P packet sent by the sender Src at wire-time
          (first bit) T1 to the receiver Dst and &lt;T1, dT1.1, dT1.2,...,
          dT1.n, dT1&gt; its Type-P-Spatial-One-way-Delay-Vector over the
          sequence of routers &lt;H1, H2,..., Hn&gt;.</t>

          <t>Given P2 the Type-P packet sent by the sender Src at wire-time
          (first bit) T2 to the receiver Dst and &lt;T2, dT2.1, dT2.2,...,
          dT2.n, dT2&gt; its Type-P-Spatial-One-way-Delay-Vector over the same
          path.</t>

          <t>Type-P-Spatial-One-way-ipdv-Vector metric is defined as the
          sequence of values &lt;T1, T2, dT2.1-dT1.1, dT2.2-dT1.2 ,...,
          dT2.n-dT1.n, dT2-dT1&gt; such that for each Hi of the sequence of
          routers &lt;H1, H2,..., Hn&gt;, dT2.i-dT1.i is either a real number
          if the packets P1 and P2 pass Hi at wire-time (last bit) dT1.i and
          dT2.i respectively, or undefined if at least one of them never
          passes Hi (and the respective one-way delay is undefined). The
          T1,T2* pair indicates the inter-packet emission interval and dT2-dT1
          is ddT* the Type-P-One-way-ipdv.</t>
        </section>
      </section>

      <section anchor="spatial_meth" title="Spatial Methodology ">
        <t>The methodology, reporting specifications, and uncertainties
        specified in section 3 of <xref target="RFC2679"></xref> apply to each
        point of interest (or measurement collection point), Hi, measuring an
        element of a spatial delay vector.</t>

        <t>Likewise, the methodology, reporting specifications, and
        uncertainties specified in section 2 of <xref target="RFC2680"></xref>
        apply to each point of interest, Hi, measuring an element of a spatial
        packet loss vector.</t>

        <t>Sections 3.5 to 3.7 of <xref target="RFC3393"></xref> give
        requirements and applicability statements for end-to-end One-way ipdv
        measurements. They are applicable to each point of interest, Hi,
        involved in the measure. Spatial One-way ipdv measurement MUST respect
        the methodology, clock, uncertainties and reporting aspects given
        there.</t>

        <t>Generally, for a given Type-P packet of length L at a specific Hi,
        the methodology for spatial vector metrics may proceed as
        follows:<list style="symbols">
            <t>At each Hi, points of interest/measurement collection points
            prepare to capture the packet sent at time T, record a timestamp
            Ti', and determine the internal delay correction dTi' (See section
            3.7.1. "Errors or uncertainties related to Clocks" of <xref
            target="RFC2679"></xref>);</t>

            <t>Each Hi extracts the path ordering information from the packet
            (e.g. time-to-live);</t>

            <t>Each Hi computes the corrected wiretime from Src to Hi: Ti =
            Ti' - dTi'. This arrival time is undefined if the packet is not
            detected after the 'loss threshold' duration;</t>

            <t>Each Hi extracts the timestamp T from the packet;</t>

            <t>Each Hi computes the one-way-delay from Src to Hi: dTi = Ti -
            T;</t>

            <t>The reference point gathers the result of each Hi and arranges
            them according to the path ordering information received to build
            the type-P spatial one-way vector (e.g.
            Type-P-Spatial-One-way-Delay-Vector metric &lt;T, dT1, dT2,...,
            dTn, dT&gt;) over the path &lt;Src, H1, H2,..., Hn, Dst&gt; at
            time T.</t>
          </list></t>

        <section title="Packet Loss Detection">
          <t>In a pure end-to-end measurement, packet losses are detected by
          the receiver only. A packet is lost when Type-P-One-way-Delay is
          undefined or very large (See section 2.4 ans 2.5 of <xref
          target="RFC2680"></xref> and section 3.5 of <xref
          target="RFC2680"></xref>). A packet is deemed lost by the receiver
          after a duration which starts at the time the packet is sent. This
          timeout value is chosen by a measurement process. It determines the
          threshold between recording a long packet transfer time as a finite
          value or an undefined value.</t>

          <t>In a spatial measurement, packet losses may be detected at
          several measurement collection points. Depending on the consistency
          of the packet loss detections among the points of interest, a packet
          may be considered as lost at one point despite having a finite delay
          at another one, or may be observed by the last measurement
          collection point of the path but considered lost by Dst.</t>

          <t>There is a risk of misinterpreting such results: Has the path
          changed? Did the packet arrive at the destination or was it lost on
          the very last link?</t>

          <t>The same concern applies to one-way-delay measures: a delay
          measured may be computed as infinite by one observation point but as
          a real value by another one, or may be measured as a real value by
          the last observation point of the path but designated as undefined
          by Dst.</t>

          <t>The observation/measurement collection points and the destination
          SHOULD use consistent methods to detect packets losses. The methods
          and parameters must be systematically reported to permit careful
          comparison and to avoid introducing any confounding factors in the
          analysis.</t>
        </section>

        <section title="Routers Digest ">
          <t>The methodology given above relies on knowing the order of the
          router/measurement collection points on the path <xref
          target="RFC2330"></xref>.</t>

          <t>Path instability might cause a test packet to be observed more
          than once by the same router, resulting in the repetition of one or
          more routers in the routers digest.</t>

          <t>For example, repeated observations may occur during rerouting
          phases which introduce temporary micro loops. During such an event
          the routers digest for a packet crossing Ha and Hb may include the
          pattern &lt;Hb, Ha, Hb, Ha, Hb&gt; meaning that Ha ended the
          computation of the new path before Hb and that the initial path was
          from Ha to Hb and that the new path is from Hb to Ha.</t>

          <t>Consequently, duplication of routers in the routers digest of a
          vector MUST be identified before computation of statistics to avoid
          producing corrupted information.</t>
        </section>
      </section>

      <t></t>
    </section>

    <section title="Spatial Segment Metrics Definitions">
      <t>This section defines samples to measure the performance of a segment
      of a path over time. The definitions rely on the matrix of the spatial
      vector metrics defined above.</t>

      <t>Firstly this section defines a sample of one-way delay,
      Type-P-Segment-One-way-Delay-Stream, and a sample of packet loss,
      Type-P-segment-Packet-Loss-Stream.</t>

      <t>Then it defines 2 different samples of ipdv:
      Type-P-Segment-ipdv-prev-Stream uses the current and previous packets as
      the selection function, and Type-P-Segment-ipdv-min-Stream, uses the
      minimum delay as one of the selected packets in every pair.</t>

      <section anchor="seg_delay"
               title="A Definition of a Sample of One-way Delay of a Segment of the Path">
        <t>This metric defines a sample of One-way delays over time between a
        pair of routers on a path. Since it is very close semantically to the
        metric Type-P-One-way-Delay-Poisson-Stream defined in section 4 of
        <xref target="RFC2679"></xref>, sections 4.5 to 4.8 of <xref
        target="RFC2679"></xref> are integral parts of the definition text
        below.</t>

        <section title="Metric Name">
          <t>Type-P-Segment-One-way-Delay-Stream</t>
        </section>

        <section title="Metric Parameters">
          <t><list style="symbols">
              <t>Src, the IP address of the sender.</t>

              <t>Dst, the IP address of the receiver.</t>

              <t>Type-P, the specification of the packet type.</t>

              <t>i, an integer in the ordered list &lt;1,2,...,n&gt; of
              routers in the path.</t>

              <t>k, an integer which orders the packets sent.</t>

              <t>a and b, two integers where b &gt; a.</t>

              <t>Hi, a router of the routers digest.</t>

              <t>&lt;H1,..., Ha, ..., Hb, ...., Hn&gt;, the routers
              digest.</t>

              <t>&lt;T1, T2, ..., Tm&gt;, a list of times.</t>
            </list></t>
        </section>

        <section title="Metric Units">
          <t>The value of a Type-P-Segment-One-way-Delay-Stream is a pair
          of:<list>
              <t>A list of times &lt;T1, T2, ..., Tm&gt;;</t>

              <t>A sequence of delays.</t>
            </list></t>
        </section>

        <section title="Definition">
          <t>Given two routers, Ha and Hb, of the the path &lt;H1, H2,..., Ha,
          ..., Hb, ..., Hn&gt;, and the matrix of
          Type-P-Spatial-One-way-Delay-Vector for the packets sent from Src to
          Dst at times &lt;T1, T2, ..., Tm-1, Tm&gt; :<list>
              <t>&lt;T1, dT1.1, dT1.2, ..., dT1.a, ..., dT1.b,..., dT1.n,
              dT1&gt;;</t>

              <t>&lt;T2, dT2.1, dT2.2, ..., dT2.a, ..., dT2.b,..., dT2.n,
              dT2&gt;;</t>

              <t>...</t>

              <t>&lt;Tm, dTm.1, dTm.2, ..., dTm.a, ..., dTm.b,..., dTm.n,
              dTm&gt;.</t>
            </list></t>

          <t>We define the sample Type-P-segment-One-way-Delay-Stream as the
          sequence &lt;dT1.ab, dT2.ab, ..., dTk.ab, ..., dTm.ab&gt; such that
          for each time Tk, 'dTk.ab' is either the real number 'dTk.b - dTk.a'
          if the packet sent at time Tk passes Ha and Hb or undefined if this
          packet never passes Ha or (inclusive) never passes Hb.</t>
        </section>

        <section title="Discussion">
          <t>Some specific issues that may occur are as follows: <list
              style="symbols">
              <t>the delay singletons "appear" to decrease: dTi &gt; DTi+1,
              and is discussed in section 5.1.5.<list>
                  <t>This could also occur when the clock resolution of one
                  measurement collection point is larger than the minimum
                  delay of a path. For example, the minimum delay of a 500 km
                  path through optical fiber facilities is 2.5ms, but the
                  measurement collection point has a clock resolution of
                  8ms.</t>
                </list></t>
            </list>The metric SHALL be invalid for times &lt; T1 , T2, ...,
          Tm-1, Tm&gt; if the following conditions occur: <list
              style="symbols">
              <t>Ha or Hb disappears from the path due to some routing
              change.</t>

              <t>The order of Ha and Hb changes in the path.</t>
            </list></t>
        </section>
      </section>

      <section anchor="seg_dl"
               title="A Definition of a Sample of Packet Loss of a Segment of the Path">
        <t>This metric defines a sample of packet loss over time between a
        pair of routers of a path. Since it is very close semantically to the
        metric Type-P-Packet-loss-Stream defined in section 3 of <xref
        target="RFC2680"></xref>, sections 3.5 to 3.8 of <xref
        target="RFC2680"></xref> are integral parts of the definition text
        below.</t>

        <section title="Metric Name">
          <t>Type-P-segment-Packet-Loss-Stream</t>
        </section>

        <section title="Metric Parameters">
          <t><list style="symbols">
              <t>Src, the IP address of the sender.</t>

              <t>Dst, the IP address of the receiver.</t>

              <t>Type-P, the specification of the packet type.</t>

              <t>k, an integer which orders the packets sent.</t>

              <t>n, an integer which orders the routers on the path.</t>

              <t>a and b, two integers where b &gt; a.</t>

              <t>&lt;H1, H2, ..., Ha, ..., Hb, ...,Hn&gt;, the routers
              digest.</t>

              <t>Hi, a router of the routers digest.</t>

              <t>&lt;T1, T2, ..., Tm&gt;, a list of times.</t>

              <t>&lt;L1, L2, ..., Ln&gt;, a list of Boolean values.</t>
            </list></t>
        </section>

        <section title="Metric Units">
          <t></t>

          <t>The value of a Type-P-segment-Packet-Loss-Stream is a pair
          of:<list>
              <t>A The list of times &lt;T1, T2, ..., Tm&gt;;</t>

              <t>A sequence of Boolean values.</t>
            </list></t>
        </section>

        <section title="Definition">
          <t>Given two routers, Ha and Hb, of the the path &lt;H1, H2,..., Ha,
          ..., Hb, ..., Hn&gt;, and the matrix of
          Type-P-Spatial-Packet-Loss-Vector for the packets sent from Src to
          Dst at times &lt;T1, T2, ..., Tm-1, Tm&gt; : <list>
              <t>&lt;T1, L1.1, L1.2,..., L1.a, ..., L1.b, ..., L1.n,
              L&gt;,</t>

              <t>&lt;T2, L2.1, L2.2,..., L2.a, ..., L2.b, ..., L2.n,
              L&gt;,</t>

              <t>...,</t>

              <t>&lt;Tm, Lm.1, Lm.2,..., Lma, ..., Lm.b, ..., Lm.n, L&gt;.</t>
            </list></t>

          <t>We define the value of the sample
          Type-P-segment-Packet-Loss-Stream from Ha to Hb as the sequence of
          Booleans &lt;L1.ab, L2.ab,..., Lk.ab, ..., Lm.ab&gt; such that for
          each Tk:<list style="symbols">
              <t>A value of Lk of 0 means that Ha and Hb observed the packet
              sent at time Tk (both Lk.a and Lk.b have a value of 0).</t>

              <t>A value of Lk of 1 means that Ha observed the packet sent at
              time Tk (Lk.a has a value of 0) and that Hb did not observe the
              packet sent at time Tk (Lk.b has a value of 1).</t>

              <t>The value of Lk is undefined when neither Ha nor Hb observed
              the packet (both Lk.a and Lk.b have a value of 1).</t>
            </list></t>
        </section>

        <section title="Discussion">
          <t>Unlike Type-P-Packet-loss-Stream,
          Type-P-Segment-Packet-Loss-Stream relies on the stability of the
          routers digest. The metric SHALL be invalid for times &lt; T1 , T2,
          ..., Tm-1, Tm&gt; if the following conditions occur: <list
              style="symbols">
              <t>Ha or Hb disappears from the path due to some routing
              change.</t>

              <t>The order of Ha and Hb changes in the path.</t>

              <t>Lk.a or Lk.b is undefined.</t>

              <t>Lk.a has the value 1 (not observed) and Lk.b has the value 0
              (observed);</t>

              <t>L has the value 0 (the packet was received by Dst) and Lk.ab
              has the value 1 (the packet was lost between Ha and Hb).</t>
            </list></t>
        </section>
      </section>

      <section anchor="seg_ipdv"
               title="A Definition of a Sample of ipdv of a Segment using the Previous Packet Selection Function">
        <t>This metric defines a sample of ipdv <xref target="RFC3393"></xref>
        over time between a pair of routers using the previous packet as the
        selection function.</t>

        <section title="Metric Name">
          <t>Type-P-Segment-ipdv-prev-Stream</t>
        </section>

        <section title="Metric Parameters"></section>

        <t><list style="symbols">
            <t>Src, the IP address of the sender.</t>

            <t>Dst, the IP address of the receiver.</t>

            <t>Type-P, the specification of the packet type.</t>

            <t>k, an integer which orders the packets sent.</t>

            <t>n, an integer which orders the routers on the path.</t>

            <t>a and b, two integers where b &gt; a.</t>

            <t>&lt;H1, H2, ..., Ha, ..., Hb, ...,Hn&gt;, the routers
            digest.</t>

            <t>&lt;T1, T2, ..., Tm-1, Tm&gt;, a list of times.</t>

            <t>&lt;Tk, dTk.1, dTk.2, ..., dTk.a, ..., dTk.b,..., dTk.n,
            dTk&gt;, a Type-P-Spatial-One-way-Delay-Vector.</t>
          </list></t>

        <section title="Metric Units">
          <t>The value of a Type-P-Segment-ipdv-prev-Stream is a pair of:<list>
              <t>The list of &lt;T1, T2, ..., Tm-1, Tm&gt;;</t>

              <t>A list of pairs of interval of times and delays;</t>
            </list></t>
        </section>

        <t></t>

        <section title="Definition">
          <t>Given two routers, Ha and Hb, of the path &lt;H1, H2,..., Ha,
          ..., Hb, ..., Hn&gt;, and the matrix of
          Type-P-Spatial-One-way-Delay-Vector for the packets sent from Src to
          Dst at times &lt;T1, T2, ..., Tm-1, Tm&gt; :<list>
              <t>&lt;T1, dT1.1, dT1.2, ..., dT1.a, ..., dT1.b,..., dT1.n,
              dT1&gt;,</t>

              <t>&lt;T2, dT2.1, dT2.2, ..., dT2.a, ..., dT2.b,..., dT2.n,
              dT2&gt;,</t>

              <t>...</t>

              <t>&lt;Tm, dTm.1, dTm.2, ..., dTm.a, ..., dTm.b,..., dTm.n,
              dTm&gt;.</t>
            </list></t>

          <t>We define the Type-P-Segment-ipdv-prev-Stream as the sequence of
          packet time pairs and delay variations</t>

          <t>&lt;(T1, T2 , dT2.ab - dT1.ab) ,...,</t>

          <t>(Tk-1, Tk, dTk.ab - dTk-1.ab), ...,</t>

          <t>(Tm-1, Tm, dTm.ab - dTm-1.ab)&gt;</t>

          <t>For any pair, Tk, Tk-1 in k=1 through m, the difference dTk.ab -
          dTk-1.ab is undefined if:<list style="symbols">
              <t>the delay dTk.a or the delay dTk-1.a is undefined, OR</t>

              <t>the delay dTk.b or the delay dTk-1.b is undefined.</t>
            </list></t>
        </section>

        <section title="Discussion">
          <t>This metric belongs to the family of inter packet delay variation
          metrics (IPDV in upper case) whose results are extremely sensitive
          to the inter-packet interval in practice.</t>

          <t>The inter-packet interval of an end-to-end IPDV metric is under
          the control of the source (ingress point of interest). In contrast,
          the inter-packet interval of a segment IPDV metric is not under the
          control the ingress point of interest of the measure, Ha. The
          interval will certainly vary if there is delay variation between the
          Source and Ha. Therefore, the ingress inter-packet interval must be
          known at Ha in order to fully comprehend the delay variation between
          Ha and Hb.</t>
        </section>
      </section>

      <section anchor="seg_pdv"
               title="A Definition of a Sample of ipdv of a Segment  using the Minimum Delay Selection Function">
        <t>This metric defines a sample of ipdv <xref target="RFC3393"></xref>
        over time between a pair of routers on a path using the minimum delay
        as one of the selected packets in every pair.</t>

        <section title="Metric Name">
          <t>Type-P-Segment-One-way-ipdv-min-Stream</t>
        </section>

        <section title="Metric Parameters"></section>

        <t><list style="symbols">
            <t>Src, the IP address of the sender.</t>

            <t>Dst, the IP address of the receiver.</t>

            <t>Type-P, the specification of the packet type.</t>

            <t>k, an integer which orders the packets sent.</t>

            <t>i, an integer which identifies a packet sent.</t>

            <t>n, an integer which orders the routers on the path.</t>

            <t>a and b, two integers where b &gt; a.</t>

            <t>&lt;H1, H2, ..., Ha, ..., Hb, ...,Hn&gt;, the routers
            digest.</t>

            <t>&lt;T1, T2, ..., Tm-1, Tm&gt;, a list of times.</t>

            <t>&lt;Tk, dTk.1, dTk.2, ..., dTk.a, ..., dTk.b,..., dTk.n,
            dTk&gt;, a Type-P-Spatial-One-way-Delay-Vector.</t>
          </list></t>

        <section title="Metric Units"></section>

        <t>The value of a Type-P-Segment-One-way-ipdv-min-Stream is a pair
        of:<list>
            <t>The list of &lt;T1, T2, ..., Tm-1, Tm&gt;;</t>

            <t>A list of times.</t>
          </list></t>

        <section title="Definition">
          <t>Given two routers, Ha and Hb, of the path &lt;H1, H2,..., Ha,
          ..., Hb, ..., Hn&gt;, and the matrix of
          Type-P-Spatial-One-way-Delay-Vector for the packets sent from Src to
          Dst at times &lt;T1, T2, ..., Tm-1, Tm&gt; :<list>
              <t>&lt;T1, dT1.1, dT1.2, ..., dT1.a, ..., dT1.b,..., dT1.n,
              dT1&gt;,</t>

              <t>&lt;T2, dT2.1, dT2.2, ..., dT2.a, ..., dT2.b,..., dT2.n,
              dT2&gt;,</t>

              <t>...</t>

              <t>&lt;Tm, dTm.1, dTm.2, ..., dTm.a, ..., dTm.b,..., dTm.n,
              dTm&gt;.</t>
            </list></t>

          <t>We define the Type-P-Segment-One-way-ipdv-min-Stream as the
          sequence of times &lt;dT1.ab - min(dTi.ab) ,..., dTk.ab -
          min(dTi.ab), ..., dTm.ab - min(dTi.ab)&gt; where:<list
              style="symbols">
              <t>min(dTi.ab) is the minimum value of the tuples (dTk.b -
              dTk.a);</t>

              <t>for each time Tk, dTk.ab is undefined if dTk.a or (inclusive)
              dTk.b is undefined, or the real number (dTk.b - dTk.a) is
              undefined.</t>
            </list></t>
        </section>

        <section title="Discussion">
          <t>This metric belongs to the family of packet delay variation
          metrics (PDV). PDV distributions have less sensitivity to
          inter-packet interval variations than IPDV values, as discussed
          above.</t>

          <t>In principle, the PDV distribution reflects the variation over
          many different inter-packet intervals, from the smallest
          inter-packet interval, up to the length of the evaluation interval,
          Tm - T1. Therefore, when delay variation occurs and disturbs the
          packet spacing observed at Ha, the PDV results will likely compare
          favorably to a PDV measurement where the source is Ha and the
          destination is Hb, because a wide range of spacings are reflected in
          any PDV distribution.</t>
        </section>
      </section>
    </section>

    <section title="One-to-group metrics definitions">
      <t>This section defines performance metrics between a source and a group
      of receivers.</t>

      <section title="A Definition for One-to-group Delay ">
        <t>This section defines a metric for one-way delay between a source
        and a group of receivers.</t>

        <section title="Metric Name">
          <t>Type-P-One-to-group-Delay-Vector</t>
        </section>

        <section title="Metric Parameters"></section>

        <t><list style="symbols">
            <t>Src, the IP address of a host acting as the source.</t>

            <t>Recv1,..., RecvN, the IP addresses of the N hosts acting as
            receivers.</t>

            <t>T, a time.</t>

            <t>dT1,...,dTn a list of times.</t>

            <t>Type-P, the specification of the packet type.</t>

            <t>Gr, the receiving group identifier. The parameter Gr is the
            multicast group address if the measured packets are transmitted
            over IP multicast. This parameter is to differentiate the measured
            traffic from other unicast and multicast traffic. It is OPTIONAL
            for this metric to avoid losing any generality, i.e. to make the
            metric also applicable to unicast measurement where there is only
            one receiver.</t>
          </list></t>

        <section title="Metric Units">
          <t>The value of a Type-P-One-to-group-Delay-Vector is a set of
          Type-P-One-way-Delay singletons <xref target="RFC2679"></xref>,
          which is a sequence of times (a real number in the dimension of
          seconds with sufficient resolution to convey the results).</t>
        </section>

        <section title="Definition">
          <t>Given a Type-P packet sent by the source Src at time T, and the N
          hosts { Recv1,...,RecvN } which receive the packet at the time {
          T+dT1,...,T+dTn }, or the packet does not pass a receiver within a
          specified loss threshold time, then the
          Type-P-One-to-group-Delay-Vector is defined as the set of the
          Type-P-One-way-Delay singletons between Src and each receiver with
          value of { dT1, dT2,...,dTn }, where any of the singletons may be
          undefined if the packet did not pass the corresponding receiver
          within a specified loss threshold time.</t>
        </section>
      </section>

      <section title="A Definition for One-to-group Packet Loss">
        <section title="Metric Name">
          <t>Type-P-One-to-group-Packet-Loss-Vector</t>
        </section>

        <section title="Metric Parameters">
          <t><list style="symbols">
              <t>Src, the IP address of a host acting as the source.</t>

              <t>Recv1,..., RecvN, the IP addresses of the N hosts acting as
              receivers.</t>

              <t>T, a time.</t>

              <t>Type-P, the specification of the packet type.</t>

              <t>Gr, the receiving group identifier, OPTIONAL.</t>
            </list></t>
        </section>

        <section title="Metric Units">
          <t>The value of a Type-P-One-to-group-Packet-Loss-Vector is a set of
          Type-P-One-way-Packet-Loss singletons <xref
          target="RFC2680"></xref>.</t>

          <t><list style="symbols">
              <t>T, time the source packet was sent</t>

              <t>L1,...,LN a list of boolean values</t>
            </list></t>
        </section>

        <section title="Definition">
          <t>Given a Type P packet sent by the source Src at T and the N
          hosts, Recv1,...,RecvN, the Type-P-One-to-group-Packet-Loss-Vector
          is defined as a set of the Type-P-One-way-Packet-Loss singletons
          between Src and each of the receivers</t>

          <t>{T, &lt;L1=0|1&gt;,&lt;L2=0|1&gt;,..., &lt;LN=0|1&gt;},</t>

          <t>where the boolean value 0|1 depends on receiving the packet at a
          particular receiver within a loss threshold time.</t>
        </section>
      </section>

      <section title="A Definition for One-to-group ipdv">
        <section title="Metric Name">
          <t>Type-P-One-to-group-ipdv-Vector</t>
        </section>

        <section title="Metric Parameters">
          <t><list style="symbols">
              <t>Src, the IP address of a host acting as the source.</t>

              <t>Recv1,..., RecvN, the IP addresses of the N hosts acting as
              receivers.</t>

              <t>T1, a time.</t>

              <t>T2, a time.</t>

              <t>ddT1, ...,ddTn, a list of times.</t>

              <t>Type-P, the specification of the packet type.</t>

              <t>F, a selection function non-ambiguously defining the two
              packets from the stream selected for the metric.</t>

              <t>Gr, the receiving group identifier. The parameter Gr is the
              multicast group address if the measured packets are transmitted
              over IP multicast. This parameter is to differentiate the
              measured traffic from other unicast and multicast traffic. It is
              OPTIONAL in the metric to avoid losing any generality, i.e. to
              make the metric also applicable to unicast measurement where
              there is only one receiver.</t>
            </list></t>
        </section>

        <section title="Metric Units">
          <t>The value of a Type-P-One-to-group-ipdv-Vector is a set of
          Type-P-One-way-ipdv singletons <xref target="RFC3393"></xref>.</t>
        </section>

        <section title="Definition">
          <t>Given a Type-P packet stream, Type-P-One-to-group-ipdv-Vector is
          defined for two packets transferred from the source Src to the N
          hosts {Recv1,...,RecvN }, which are selected by the selection
          function F as the difference between the value of the
          Type-P-One-to-group-Delay-Vector from Src to { Recv1,..., RecvN } at
          time T1 and the value of the Type-P-One-to-group-Delay-Vector from
          Src to { Recv1,...,RecvN } at time T2. T1 is the wire-time at which
          Src sent the first bit of the first packet, and T2 is the wire-time
          at which Src sent the first bit of the second packet. This metric is
          derived from the Type-P-One-to-group-Delay-Vector metric.</t>

          <t>For a set of real numbers {ddT1,...,ddTn}, the
          Type-P-One-to-group-ipdv-Vector from Src to { Recv1,...,RecvN } at
          T1, T2 is {ddT1,...,ddTn} means that Src sent two packets, the first
          at wire-time T1 (first bit), and the second at wire-time T2 (first
          bit) and the packets were received by { Recv1,...,RecvN } at
          wire-time {dT1+T1,...,dTn+T1}(last bit of the first packet), and at
          wire-time {dT'1+T2,...,dT'n+T2} (last bit of the second packet), and
          that {dT'1-dT1,...,dT'n-dTn} ={ddT1,...,ddTn}.</t>

          <t>For any pair of selected packets, the difference dT'n-dTn is
          undefined if:<list style="symbols">
              <t>the delay dTn to Receiver n is undefined, OR</t>

              <t>the delay dT'n to Receiver n is undefined.</t>
            </list></t>
        </section>
      </section>
    </section>

    <section anchor="o2gsample" title="One-to-group Sample Statistics">
      <t></t>

      <t>The one-to-group metrics defined above are directly achieved by
      collecting relevant unicast one-way metrics measurements results and by
      gathering them per group of receivers. They produce network performance
      information which guides engineers toward potential problems which may
      have happened on any branch of a multicast routing tree.</t>

      <t>The results of these metrics are not directly usable to present the
      performance of a group because each result is made of a huge number of
      singletons which are difficult to read and analyze. As an example,
      delays are not comparable because the distance between receiver and
      sender differs. Furthermore they don't capture relative performance
      situation a multiparty communication.</t>

      <t>From the performance point of view, the multiparty communication
      services not only require the support of absolute performance
      information but also information on "relative performance". The relative
      performance means the difference between absolute performance of all
      users. Directly using the one-way metrics cannot present the relative
      performance situation. However, if we use the variations of all users
      one-way parameters, we can have new metrics to measure the difference of
      the absolute performance and hence provide the threshold value of
      relative performance that a multiparty service might demand. A very good
      example of the high relative performance requirement is online gaming. A
      very small difference in delay might result in failure in the game. We
      have to use multicast specific statistic metrics to define the relative
      delay required by online gaming. There are many other services, e.g.
      online biding, online stock market, etc., that require multicast metrics
      in order to evaluate the network against their requirements. Therefore,
      we can see the importance of new, multicast specific, statistic metrics
      to feed this need.</t>

      <t>We might also use some one-to-group statistic conceptions to present
      and report the group performance and relative performance to save the
      report transmission bandwidth. Statistics have been defined for One- way
      metrics in corresponding RFCs. They provide the foundation of definition
      for performance statistics. For instance, there are definitions for
      minimum and maximum One-way delay in [RFC2679]. However, there is a
      dramatic difference between the statistics for one-to-one communications
      and for one-to-many communications. The former one only has statistics
      over the time dimension while the later one can have statistics over
      both time and space dimensions. This space dimension is introduced by
      the Matrix concept as illustrated in <xref
      target="FigMatrixConcept"></xref>. For a Matrix M each row is a set of
      One-way singletons spreading over the time dimension and each column is
      another set of One-way singletons spreading over the space
      dimension.</t>

      <t></t>

      <t><figure anchor="FigMatrixConcept" title="Matrix M (n*m)">
          <artwork align="center"><![CDATA[
   Receivers
    Space
      ^
    1 |    / R1dT1   R1dT2     R1dT3 ... R1dTk \
      |   |                                     |
    2 |   |  R2dT1   R2dT2     R2dT3 ... R2dTk  |
      |   |                                     |
    3 |   |  R3dT1   R3dT2     R3dT3 ... R3dTk  |  
    . |   |                                     |
    . |   |                                     |
    . |   |                                     |
    n |    \ RndT1   RndT2     RndT3 ... RndTk /
      +--------------------------------------------> time
     T0]]></artwork>
        </figure></t>

      <t>In Matrix M, each element is a one-way delay singleton. Each column
      is a delay vector. It contains the One-way delays of the same packet
      observed at n points of interest. It implies the geographical factor of
      the performance within a group. Each row is a set of One-way delays
      observed during a sampling interval at one of the points of interest. It
      presents the delay performance at a receiver over the time
      dimension.</t>

      <t>Therefore, one can either calculate statistics by rows over the space
      dimension or by columns over the time dimension. It's up to the
      operators or service provides which dimension they are interested in.
      For example, a TV broadcast service provider might want to know the
      statistical performance of each user in a long term run to make sure
      their services are acceptable and stable. While for an online gaming
      service provider, he might be more interested to know if all users are
      served fairly by calculating the statistics over the space dimension.
      This memo does not intend to recommend which of the statistics are
      better than the other.</t>

      <t>To save the report transmission bandwidth, each point of interest can
      send statistics in a pre-defined time interval to the reference point
      rather than sending every one-way singleton it observed. As long as an
      appropriate time interval is decided, appropriate statistics can
      represent the performance in a certain accurate scale. How to decide the
      time interval and how to bootstrap all points of interest and the
      reference point depend on applications. For instance, applications with
      lower transmission rate can have the time interval longer and ones with
      higher transmission rate can have the time interval shorter. However,
      this is out of the scope of this memo.</t>

      <t>Moreover, after knowing the statistics over the time dimension, one
      might want to know how these statistics are distributed over the space
      dimension. For instance, a TV broadcast service provider had the
      performance Matrix M and calculated the One-way delay mean over the time
      dimension to obtain a delay Vector as {V1,V2,..., VN}. He then
      calculated the mean of all the elements in the Vector to see what level
      of delay he has served to all N users. This new delay mean gives
      information on how good the service has been delivered to a group of
      users during a sampling interval in terms of delay. It requires twice as
      much calculation to have this statistic over both time and space
      dimensions. These kinds of statistics are referred to as 2-level
      statistics to distinguish them from 1-level statistics calculated over
      either space or time dimension. It can be easily proven that no matter
      over which dimension a 2-level statistic is calculated first, the
      results are the same. I.e. one can calculate the 2-level delay mean
      using the Matrix M by having the 1-level delay mean over the time
      dimension first and then calculate the mean of the obtained vector to
      find out the 2-level delay mean. Or, he can do the 1-level statistic
      calculation over the space dimension first and then have the 2-level
      delay mean. Both two results will be exactly the same. Therefore, when
      defining a 2-level statistic there is no need to specify the order in
      which the calculation is executed.</t>

      <t>Many statistics can be defined for the proposed one-to-group metrics
      over either the space dimension or the time dimension or both. This memo
      treats the case where a stream of packets from the Source results in a
      sample at each of the Receivers in the Group, and these samples are each
      summarized with the usual statistics employed in one-to-one
      communication. New statistic definitions are presented, which summarize
      the one-to-one statistics over all the Receivers in the Group.</t>

      <section title="Discussion on the Impact of packet loss on statistics">
        <t>Packet loss does have effects on one-way metrics and their
        statistics. For example, a lost packet can result in an infinite
        one-way delay. It is easy to handle the problem by simply ignoring the
        infinite value in the metrics and in the calculation of the
        corresponding statistics. However, the packet loss has such a strong
        impact on the statistics calculation for the one-to-group metrics that
        it can not be solved by the same method used for one-way metrics. This
        is due to the complexity of building a matrix, which is needed for
        calculation of the statistics proposed in this memo.</t>

        <t>The situation is that measurement results obtained by different end
        users might have different packet loss pattern. For example, for
        User1, packet A was observed lost. And for User2, packet A was
        successfully received but packet B was lost. If the method to overcome
        the packet loss for one-way metrics is applied, the two singleton sets
        reported by User1 and User2 will be different in terms of the
        transmitted packets. Moreover, if User1 and User2 have different
        number of lost packets, the size of the results will be different.
        Therefore, for the centralized calculation, the reference point will
        not be able to use these two results to build up the group Matrix and
        can not calculate the statistics. The extreme situation being the case
        when no packets arrive at any user. One of the possible solutions is
        to replace the infinite/undefined delay value by the average of the
        two adjacent values. For example, if the result reported by user1 is {
        R1dT1 R1dT2 R1dT3 &hellip; R1dTK-1 UNDEF R1dTK+1&hellip; R1DM } where
        &ldquo;UNDEF&rdquo; is an undefined value, the reference point can
        replace it by R1dTK = {(R1dTK-1)+( R1dTK+1)}/2. Therefore, this result
        can be used to build up the group Matrix with an estimated value
        R1dTK. There are other possible solutions such as using the overall
        mean of the whole result to replace the infinite/undefined value, and
        so on. However this is out of the scope of this memo.</t>

        <t>For the distributed calculation, the reported statistics might have
        different &ldquo;weight&rdquo; to present the group performance, which
        is especially true for delay and ipdv relevant metrics. For example,
        User1 calculates the Type-P-Finite-One-way-Delay-Mean R1DM as shown in
        Figure. 8 without any packet loss and User2 calculates the R2DM with
        N-2 packet loss. The R1DM and R2DM should not be treated with equal
        weight because R2DM was calculated only based on 2 delay values in the
        whole sample interval. One possible solution is to use a weight factor
        to mark every statistic value sent by users and use this factor for
        further statistic calculation.</t>

        <t></t>
      </section>

      <section title="General Metric Parameters">
        <t><list style="symbols">
            <t>Src, the IP address of a host;</t>

            <t>G, the receiving group identifier;</t>

            <t>N, the number of Receivers (Recv1, Recv2, ... RecvN);</t>

            <t>T, a time (start of test interval);</t>

            <t>Tf, a time (end of test interval);</t>

            <t>K, the number of packets sent from the source during the test
            interval;</t>

            <t>J[n], the number of packets received at a particular Receiver,
            n, where 1&lt;=n&lt;=N;</t>

            <t>lambda, a rate in reciprocal seconds (for Poisson Streams);</t>

            <t>incT, the nominal duration of inter-packet interval, first bit
            to first bit (for Periodic Streams);</t>

            <t>T0, a time that MUST be selected at random from the interval
            [T, T+I] to start generating packets and taking measurements (for
            Periodic Streams);</t>

            <t>TstampSrc, the wire time of the packet as measured at MP(Src)
            (the Source Measurement Point);</t>

            <t>TstampRecv, the wire time of the packet as measured at
            MP(Recv), assigned to packets that arrive within a "reasonable"
            time;</t>

            <t>Tmax, a maximum waiting time for packets at the destination,
            set sufficiently long to disambiguate packets with long delays
            from packets that are discarded (lost), thus the distribution of
            delay is not truncated;</t>

            <t>dT, shorthand notation for a one-way delay singleton value;</t>

            <t>L, shorthand notation for a one-way loss singleton value,
            either zero or one, where L=1 indicates loss and L=0 indicates
            arrival at the destination within TstampSrc + Tmax, may be indexed
            over n Receivers;</t>

            <t>DV, shorthand notation for a one-way delay variation singleton
            value.</t>
          </list></t>
      </section>

      <section title="One-to-group Delay Statistics">
        <t>This section defines the overall one-way delay statistics for a
        receiver and for an entire group as illustrated by the matrix
        below.</t>

        <t><figure anchor="FigGMD" title="One-to-group Mean Delay">
            <artwork align="center"><![CDATA[  Recv    /----------- Sample -------------\   Stats      Group Stat

   1      R1dT1   R1dT2     R1dT3 ... R1dTk    R1MD  \
                                                      |
   2      R2dT1   R2dT2     R2dT3 ... R2dTk    R2MD   |
                                                      |   
   3      R3dT1   R3dT2     R3dT3 ... R3dTk    R3MD    > Group delay
   .                                                  |
   .                                                  |
   .                                                  |
   n      RndT1   RndT2     RndT3 ... RndTk    RnMD  /    
                                         
                                             Receiver-n
                                               delay  ]]></artwork>
          </figure></t>

        <t>Statistics are computed on the finite One-way delays of the matrix
        above.</t>

        <t>All One-to-group delay statistics are expressed in seconds with
        sufficient resolution to convey 3 significant digits.</t>

        <section title="Type-P-One-to-group-Receiver-n-Mean-Delay">
          <t>This section defines Type-P-One-to-group-Receiver-n-Mean-Delay
          the Delay Mean at each Receiver N, also named RnMD.</t>

          <t>We obtain the value of Type-P-One-way-Delay singleton for all
          packets sent during the test interval at each Receiver
          (Destination), as per <xref target="RFC2679"></xref>. For each
          packet that arrives within Tmax of its sending time, TstampSrc, the
          one-way delay singleton (dT) will be the finite value TstampRecv[i]
          - TstampSrc[i] in units of seconds. Otherwise, the value of the
          singleton is Undefined.</t>

          <figure anchor="RnDM"
                  title="Type-P-One-to-group-Receiver-N-Mean-Delay ">
            <preamble></preamble>

            <artwork align="center"><![CDATA[                  J[n]                                     
                  ---                                      
             1    \                                      
  RnMD =    --- *  >  TstampRecv[i] - TstampSrc[i]         
            J[n]  /                                      
                  ---                                      
                  i = 1

  Note:  RnMD value is Undefined when J[n] = 0 for all n.                                                         ]]></artwork>

            <postamble></postamble>
          </figure>

          <t>where all packets i= 1 through J[n] have finite singleton
          delays.</t>
        </section>

        <section title="Type-P-One-to-group-Mean-Delay">
          <t>This section defines Type-P-One-to-group-Mean-Delay, the Mean
          One-way delay calculated over the entire Group, also named GMD.</t>

          <figure anchor="GMD" title="Type-P-One-to-group-Mean-Delay">
            <preamble></preamble>

            <artwork align="center"><![CDATA[               N
              ---
         1    \
  GMD =  - *   >   RnMD
         N    /
              ---
              n = 1
            ]]></artwork>

            <postamble></postamble>
          </figure>

          <t>Note that the Group Mean Delay can also be calculated by summing
          the Finite one-way Delay singletons in the Matrix, and dividing by
          the number of Finite One-way Delay singletons.</t>
        </section>

        <section title=" Type-P-One-to-group-Range-Mean-Delay">
          <t>This section defines a metric for the range of mean delays over
          all N receivers in the group (R1MD, R2MD...RnMD).</t>

          <t>Type-P-One-to-group-Range-Mean-Delay = GRMD = max(RnMD) -
          min(RnMD)</t>
        </section>

        <section title="Type-P-One-to-group-Max-Mean-Delay">
          <t>This section defines a metric for the maximum of mean delays over
          all N receivers in the group (R1MD, R2MD,...RnMD).</t>

          <t>Type-P-One-to-group-Max-Mean-Delay = GMMD = max(RnMD)</t>
        </section>
      </section>

      <section title="One-to-group Packet Loss Statistics">
        <t>This section defines the overall one-way loss statistics for a
        receiver and for an entire group as illustrated by the matrix
        below.</t>

        <t><figure anchor="FigGLR" title="One-to-group Loss Ratio">
            <preamble></preamble>

            <artwork align="center"><![CDATA[ Recv    /----------- Sample ----------\   Stats     Group Stat

   1      R1L1   R1L2     R1L3 ... R1Lk     R1LR \
                                                  |
   2      R2L1   R2L2     R2L3 ... R2Lk     R2LR  |
                                                  |
   3      R3L1   R3L2     R3L3 ... R3Lk     R3LR   > Group Loss Ratio
   .                                              |
   .                                              |
   .                                              |
   n      RnL1   RnL2     RnL3 ... RnLk     RnLR /

                                        Receiver-n
                                        Loss Ratio]]></artwork>

            <postamble></postamble>
          </figure></t>

        <t>Statistics are computed on the sample of Type-P-One-way-Packet-Loss
        <xref target="RFC2680"></xref> of the matrix above.</t>

        <t>All loss ratios are expressed in units of packets lost to total
        packets sent.</t>

        <section title="Type-P-One-to-group-Receiver-n-Loss-Ratio">
          <t>Given a Matrix of loss singletons as illustrated above, determine
          the Type-P-One-way-Packet-Loss-Average for the sample at each
          receiver, according to the definitions and method of <xref
          target="RFC2680"></xref>. The Type-P-One-way-Packet-Loss-Average and
          the Type-P-One-to-group-Receiver-n-Loss-Ratio, also named RnLR, are
          equivalent metrics. In terms of the parameters used here, these
          metrics definitions can be expressed as<figure anchor="RnLR"
              title="Type-P-One-to-group-Receiver-n-Loss-Ratio">
              <preamble></preamble>

              <artwork align="center"><![CDATA[                   K
                  ---
             1    \
     RnLR =  - *   >   RnLk
             K    /
                  ---
                 k = 1        ]]></artwork>

              <postamble></postamble>
            </figure></t>
        </section>

        <section title="Type-P-One-to-group-Receiver-n-Comp-Loss-Ratio">
          <t>Usually, the number of packets sent is used in the denominator of
          packet loss ratio metrics. For the comparative metrics defined here,
          the denominator is the maximum number of packets received at any
          receiver for the sample and test interval of interest. The numerator
          is the sum of the losses at receiver n.</t>

          <t>The Comparative Loss Ratio, also named, RnCLR, is defined
          as<figure anchor="RnCLR"
              title="Type-P-One-to-group-Receiver-n-Comp-Loss-Ratio">
              <preamble></preamble>

              <artwork align="center"><![CDATA[                          K
                         ---
                         \
                          >   Ln(k)
                         /
                         ---
                         k=1
    RnCLR =  -----------------------------
                      /    K         \
                      |   ---        |
                      |   \          |
              K - Min |    >   Ln(k) | 
                      |   /          |
                      |   ---        |
                      \   k=1        / N  


    Note: Ln is a set of one-way loss values at receiver n.
          There is one value for each of the K packets sent.]]></artwork>

              <postamble></postamble>
            </figure></t>
        </section>

        <section title="Type-P-One-to-group-Loss-Ratio">
          <t>Type-P-One-to-group-Loss-Ratio, the overall Group loss ratio,
          also named GLR, is defined as</t>

          <t><figure anchor="GLR" title="Type-P-One-to-group-Loss-Ratio">
              <preamble></preamble>

              <artwork align="center"><![CDATA[                 K,N
                 ---
           1     \
    GLR = --- *   >   Ln(k)
          K*N    /
                 ---
                k,n = 1
]]></artwork>

              <postamble></postamble>
            </figure></t>

          <t>Where the sum includes all of the Loss singletons, Ln(k), over
          the N receivers and K packets sent, in a ratio with the total
          packets over all receivers.</t>
        </section>

        <section title="Type-P-One-to-group-Range-Loss-Ratio">
          <t>The One-to-group Loss Ratio Range is defined as:</t>

          <t>Type-P-One-to-group-Range-Loss-Ratio = max(RnLR) - min(RnLR)</t>

          <t>It is most effective to indicate the range by giving both the max
          and minimum loss ratios for the Group, rather than only reporting
          the difference between them.</t>
        </section>
      </section>

      <t></t>

      <section title="One-to-group Delay Variation Statistics">
        <t>This section defines one-way delay variation (DV) statistics for an
        entire group as illustrated by the matrix below.</t>

        <t><figure anchor="FigRnDDT"
            title="One-to-group Delay Variation Matrix (DVMa)">
            <artwork align="center"><![CDATA[ Recv    /------------- Sample --------------\   Stats       

  1      R1ddT1   R1ddT2     R1ddT3 ... R1ddTk   R1DV  \   
                                                        |
  2      R2ddT1   R2ddT2     R2ddT3 ... R2ddTk   R2DV   |  
                                                        | 
  3      R3ddT1   R3ddT2     R3ddT3 ... R3ddTk   R3DV    > Group Stat
  .                                                     |  
  .                                                     |  
  .                                                     |  
  n      RnddT1   RnddT2     RnddT3 ... RnddTk   RnDV  /              
                          ]]></artwork>
          </figure></t>

        <t>Statistics are computed on the sample of
        Type-P-One-way-Delay-Variation singletons of the group delay variation
        matrix above where RnddTk is the Type-P-One-way-Delay-Variation
        singleton evaluated at Receiver n for the packet k and where RnDV is
        the point-to-point one-way packet delay variation for Receiver n.</t>

        <t>All One-to-group delay variation statistics are expressed in
        seconds with sufficient resolution to convey 3 significant digits.</t>

        <section title="Type-P-One-to-group-Range-Delay-Variation">
          <t>This section defines a metric for the range of delays variation
          over all N receivers in the Group.</t>

          <t>Maximum DV and minimum DV over all receivers summarize the
          performance over the Group (where DV is a point-to-point metric).
          For each receiver, the DV is usually expressed as the 1-10^(-3)
          quantile of one-way delay minus the minimum one-way delay.</t>

          <t>Type-P-One-to-group-Range-Delay-Variation = GRDV =</t>

          <t>= max(RnDV) &ndash; min(RnDV) for all n receivers</t>

          <t>This range is determined from the minimum and maximum values of
          the point-to-point one-way IP Packet Delay Variation for the set of
          Destinations in the group and a population of interest, using the
          Packet Delay Variation expressed as the 1-10^-3 quantile of one-way
          delay minus the minimum one-way delay. If a more demanding service
          is considered, one alternative is to use the 1-10^-5 quantile, and
          in either case the quantile used should be recorded with the
          results. Both the minimum and the maximum delay variation are
          recorded, and both values are given to indicate the location of the
          range.</t>
        </section>
      </section>
    </section>

    <section title="Measurement Methods: Scalability and Reporting">
      <t>Virtually all the guidance on measurement processes supplied by the
      earlier IPPM RFCs (such as <xref target="RFC2679"></xref> and <xref
      target="RFC2680"></xref>) for one-to-one scenarios is applicable here in
      the spatial and multiparty measurement scenario. The main difference is
      that the spatial and multiparty configurations require multiple points
      of interest where a stream of singletons will be collected. The amount
      of information requiring storage grows with both the number of metrics
      and the points of interest, so the scale of the measurement architecture
      multiplies the number of singleton results that must be collected and
      processed.</t>

      <t>It is possible that the architecture for results collection involves
      a single reference point with connectivity to all the points of
      interest. In this case, the number of points of interest determines both
      storage capacity and packet transfer capacity of the host acting as the
      reference point. However, both the storage and transfer capacity can be
      reduced if the points of interest are capable of computing the summary
      statistics that describe each measurement interval. This is consistent
      with many operational monitoring architectures today, where even the
      individual singletons may not be stored at each point of interest.</t>

      <t>In recognition of the likely need to minimize the form of the results
      for storage and communication, the Group metrics above have been
      constructed to allow some computations on a per-Receiver basis. This
      means that each Receiver's statistics would normally have an equal
      weight with all other Receivers in the Group (regardless of the number
      of packets received).</t>

      <section title="Computation methods">
        <t></t>

        <t>The scalability issue can be raised when there are thousands of
        points of interest in a group who are trying to send back the
        measurement results to the reference point for further processing and
        analysis. The points of interest can send either the whole measured
        sample or only the calculated statistics. The former one is a
        centralized statistic calculation method and the latter one is a
        distributed statistic calculation method. The sample should include
        all metrics parameters, the values and the corresponding sequence
        numbers. The transmission of the whole sample can cost much more
        bandwidth than the transmission of the statistics that should include
        all statistic parameters specified by policies and the additional
        information about the whole sample, such as the size of the sample,
        the group address, the address of the point of interest, the ID of the
        sample session, and so on. Apparently, the centralized calculation
        method can require much more bandwidth than the distributed
        calculation method when the sample size is big. This is especially
        true when the measurement has a very large number of the points of
        interest. It can lead to a scalability issue at the reference point by
        overloading the network resources.</t>

        <t>The distributed calculation method can save much more bandwidth and
        mitigate issues arising from scalability at the reference point
        side.</t>

        <t>However, it may result in a loss of information. As not all
        measured singletons are available for building up the group matrix,
        the real performance over time can be hidden from the result. For
        example, the loss pattern can be missed by simply accepting the loss
        ratio. This tradeoff between bandwidth consumption and information
        acquisition has to be taken into account when designing the
        measurement approach.</t>

        <t>One possible solution could be to transmit the statistic parameters
        to the reference point first to obtain the general information of the
        group performance. If detailed results are required, the reference
        point should send the requests to the points of interest, which could
        be particular ones or the whole group. This procedure can happen in
        the off peak time and can be well scheduled to avoid delivery of too
        many points of interest at the same time. Compression techniques can
        also be used to minimize the bandwidth required by the transmission.
        This could be a measurement protocol to report the measurement
        results. However, this is out of the scope of this memo.</t>
      </section>

      <section title="Measurement">
        <t>To prevent any bias in the result, the configuration of a
        one-to-many measure must take in consideration that more packets will
        to be routed than sent (copies of a packet sent are expected to arrive
        at many destination points) and selects a test packets rate that will
        not impact the network performance.</t>
      </section>

      <section title="Effect of Time and Space Aggregation Order on Stats">
        <t>This section presents the impact of the aggregation order on the
        scalability of the reporting and of the computation. It makes the
        hypothesis that receivers are not co-located and that results are
        gathered in a point of reference for further usages.</t>

        <t>Multimetrics samples are represented in a matrix as illustrated
        below</t>

        <t><figure anchor="FigSpaceTimeOrder"
            title="Impact of space aggregation on multimetrics Stat">
            <artwork align="center"><![CDATA[ Point of                                       
 interest
   1      R1S1   R1S1     R1S1 ... R1Sk    \
                                            |
   2      R2S1   R2S2     R2S3 ... R2Sk     |
                                            |
   3      R3S1   R3S2     R3S3 ... R3Sk      >  sample over space 
   .                                        |
   .                                        |
   .                                        |
   n      RnS1   RnS2     RnS3 ... RnSk    /

          S1M    S2M      S3M  ... SnM     Stats over space

          \-------------  ------------/  
                        \/
            Stat over space and time
]]></artwork>
          </figure></t>

        <t>Two methods are available to compute statistics on a matrix: <list
            style="symbols">
            <t>Method 1: The statistic metric is computed over time and then
            over space;</t>

            <t>Method 2: The statistic metric is computed over space and then
            over time.</t>
          </list></t>

        <t>These 2 methods differ only by the order of the aggregation. The
        order does not impact the computation resources required. It does not
        change the value of the result. However, it impacts severely the
        minimal volume of data to report: <list style="symbols">
            <t>Method 1: Each point of interest computes periodically
            statistics over time to lower the volume of data to report. They
            are reported to the reference point for for subsequent
            computations over the spatial dimension. This volume no longer
            depends on the number of samples. It is only proportional to the
            computation period;</t>

            <t>Method 2: The volume of data to report is proportional to the
            number of samples. Each sample, RiSi, must be reported to the
            reference point for computing statistic over space and statistic
            over time. The volume increases with the number of samples. It is
            proportional to the number of test packets;</t>
          </list></t>

        <t>Method 2 has severe drawbacks in terms of security and
        dimensioning: <list style="symbols">
            <t>Increasing the rate of the test packets may result in a Denial
            of Service toward the points of reference;</t>

            <t>The dimensioning of a measurement system is quite impossible to
            validate because any increase of the rate of the test packets will
            increase the bandwidth requested to collect the raw results.</t>
          </list></t>

        <t>The computation period over time period (commonly named aggregation
        period) provides the reporting side with a control of various
        collecting aspects such as bandwidth, computation and storage
        capacities. So this draft defines metrics based on method 1.</t>

        <section title="Impact on spatial statistics">
          <t>Two methods are available to compute spatial statistics: <list
              style="symbols">
              <t>Method 1: spatial segment metrics and statistics are
              preferably computed over time for each points of interest;</t>

              <t>Method 2: Vectors metrics are intrinsically instantaneous
              space metrics which must be reported using Method2 whenever
              instantaneous metrics information is needed.</t>
            </list></t>
        </section>

        <section title="Impact on one-to-group statistics">
          <t>Two methods are available to compute group statistics: <list
              style="symbols">
              <t>Method1: <xref target="FigGMD"></xref> and <xref
              target="FigGLR"></xref> illustrate the method chosen: the
              one-to-one statistic is computed per interval of time before the
              computation of the mean over the group of receivers;</t>

              <t>Method2: <xref target="FigSpaceTimeOrder"></xref> presents
              the second one, metric is computed over space and then over
              time.</t>
            </list></t>
        </section>
      </section>
    </section>

    <section title="Manageability Considerations">
      <t>This section defines the reporting of all the metrics introduced in
      the document.</t>

      <t>Information models of spatial metrics and of one-to-group metrics are
      similar excepted that points of interests of spatial vectors MUST be
      ordered.</t>

      <t>The complexity of the reporting relies on the number of points of
      interests.</t>

      <section title="Reporting spatial metric">
        <t>The reporting of spatial metrics shares a lot of aspects with
        RFC2679-80. New ones are common to all the definitions and are mostly
        related to the reporting of the path and of methodology parameters
        that may bias raw results analysis. This section presents these
        specific parameters and then lists exhaustively the parameters that
        SHOULD be reported.</t>

        <section title="Path">
          <t>End-to-end metrics can't determine the path of the measure
          despite IPPM RFCs recommend it to be reported (See Section 3.8.4 of
          <xref target="RFC2679"></xref>). Spatial metrics vectors provide
          this path. The report of a spatial vector MUST include the points of
          interests involved: the sub set of the routers of the path
          participating to the instantaneous measure.</t>
        </section>

        <section title="Host order">
          <t>A spatial vector MUST order the points of interest according to
          their order in the path. The ordering MAY be based on information
          from the TTL in IPv4, the Hop Limit in IPv6 or the corresponding
          information in MPLS.</t>

          <t>The report of a spatial vector MUST include the ordered list of
          the hosts involved in the instantaneous measure.</t>
        </section>

        <section title="Timestamping bias">
          <t>The location of the point of interest inside a node influences
          the timestamping skew and accuracy. As an example, consider that
          some internal machinery delays the timestamping up to 3 milliseconds
          then the minimal uncertainty reported be 3 ms if the internal delay
          is unknown at the time of the timestamping.</t>

          <t>The report of a spatial vector MUST include the uncertainty of
          the timestamping compared to wire time.</t>
        </section>

        <section title="Reporting spatial One-way Delay">
          <t>The reporting includes information to report for one-way-delay as
          the Section 3.6 of <xref target="RFC2679"></xref>. The same apply
          for packet loss and ipdv.</t>
        </section>
      </section>

      <section title="Reporting One-to-group metric">
        <t>All reporting rules described in <xref target="RFC2679"></xref> and
        <xref target="RFC2680"></xref> apply to the corresponding One-to-group
        metrics. Following are specific parameters that SHOULD be
        reported.</t>

        <section title="Path">
          <t>As suggested by the <xref target="RFC2679"></xref> and <xref
          target="RFC2680"></xref>, the path traversed by the packet SHOULD be
          reported, if possible. For One-to-group metrics, the path tree
          between the source and the destinations or the set of paths between
          the source and each destination SHOULD be reported.</t>

          <t>Path tree might not be as valuable as individual paths because an
          incomplete path might be difficult to identify in the path tree. For
          example, how many points of interest are reached by a packet
          travelling along an incomplete path?</t>
        </section>

        <section title="Group size">
          <t>The group size SHOULD be reported as one of the critical
          management parameters. One-to-group metrics, unlike spatial metrics,
          don't require the ordering of the points of interests because group
          members receive the packets in parallel.</t>
        </section>

        <section title="Timestamping bias">
          <t>It is the same as described in section 10.1.3.</t>
        </section>

        <section title="Reporting One-to-group One-way Delay">
          <t>It is the same as described in section 10.1.4.</t>
        </section>

        <section title="Measurement method">
          <t>As explained in section 9, the measurement method will have
          impact on the analysis of the measurement result. Therefore, it
          SHOULD be reported.</t>
        </section>
      </section>

      <section title="Metric identification">
        <t>IANA assigns each metric defined by the IPPM WG with a unique
        identifier as per <xref target="RFC4148"></xref> in the
        IANA-IPPM-METRICS-REGISTRY-MIB.</t>
      </section>

      <section title="Information model">
        <t>This section presents the elements of information and the usage of
        the information reported for network performance analysis. It is out
        of the scope of this section to define how the information is
        reported.</t>

        <t>The information model is built with pieces of information
        introduced and explained in one-way delay definitions <xref
        target="RFC2679"></xref>, in packet loss definitions <xref
        target="RFC2680"> </xref> and in IPDV definitions of <xref
        target="RFC3393"></xref> and <xref target="RFC3432"></xref>. It
        includes not only information given by "Reporting the metric" sections
        but by sections "Methodology" and "Errors and Uncertainties".</t>

        <t>Following are the elements of information taken from end-to-end
        metrics definitions referred in this memo and from spatial and
        multicast metrics it defines:</t>

        <t><list style="symbols">
            <t>Packet_type, The Type-P of test packets (Type-P);</t>

            <t>Packet_length, a packet length in bits (L);</t>

            <t>Src_host, the IP address of the sender;</t>

            <t>Dst_host, the IP address of the receiver;</t>

            <t>Hosts_serie: &lt;H1, H2,..., Hn&gt;, a list of points of
            interest participating to the instantaneous measure. They are
            routers in the case of spatial metrics or receivers in the case of
            one-to-group metrics;</t>

            <t>Loss_threshold: The threshold of infinite delay;</t>

            <t>Systematic_error: constant delay between wire time and
            timestamping;</t>

            <t>Calibration_error: maximal uncertainty;</t>

            <t>Src_time, the sending time for a measured packet;</t>

            <t>Dst_time, the receiving time for a measured packet;</t>

            <t>Result_status : an indicator of usability of a result 'Resource
            exhaustion' 'infinite', 'lost';</t>

            <t>Delays_serie: &lt;dT1,..., dTn&gt; a list of delays;</t>

            <t>Losses_serie: &lt;B1, B2, ..., Bi, ..., Bn&gt;, a list of
            Boolean values (spatial) or a set of Boolean values
            (one-to-group);</t>

            <t>Result_status_serie: a list of results status;</t>

            <t>dT: a delay;</t>

            <t>Singleton_number: a number of singletons;</t>

            <t>Observation_duration: An observation duration;</t>

            <t>metric_identifier.</t>
          </list></t>

        <t>Following is the information of each vector that SHOULD be
        available to compute samples:</t>

        <t><list style="symbols">
            <t>Packet_type;</t>

            <t>Packet_length;</t>

            <t>Src_host, the sender of the packet;</t>

            <t>Dst_host, the receiver of the packet, apply only for spatial
            vectors;</t>

            <t>Hosts_serie: not ordered for one-to-group;</t>

            <t>Src_time, the sending time for the measured packet;</t>

            <t>dT, the end-to-end one-way delay for the measured packet, apply
            only for spatial vectors;</t>

            <t>Delays_serie: apply only for delays and ipdv vector, not
            ordered for one-to-group;</t>

            <t>Losses_serie: apply only for packets loss vector, not ordered
            for one-to-group;</t>

            <t>Result_status_serie;</t>

            <t>Observation_duration: the difference between the time of the
            last singleton and the time of the first singleton.</t>

            <t>Following is the context information (measure, points of
            interests) that SHOULD be available to compute samples :<list
                style="symbols">
                <t>Loss threshold;</t>

                <t>Systematic error: constant delay between wire time and
                timestamping;</t>

                <t>Calibration error: maximal uncertainty;</t>
              </list></t>
          </list></t>

        <t>A spatial or a one-to-group sample is a collection of singletons
        giving the performance from the sender to a single point of interest.
        Following is the information that SHOULD be available for each sample
        to compute statistics:</t>

        <t><list style="symbols">
            <t>Packet_type;</t>

            <t>Packet_length;</t>

            <t>Src_host, the sender of the packet;</t>

            <t>Dst_host, the receiver of the packet;</t>

            <t>Start_time, the sending time of the first packet;</t>

            <t>Delays_serie: apply only for delays and ipdv samples;</t>

            <t>Losses_serie: apply only for packets loss samples;</t>

            <t>Result_status_serie;</t>

            <t>Observation_duration: the difference between the time of the
            last singleton of the last sample and the time of the first
            singleton of the first sample.</t>

            <t>Following is the context information (measure, points of
            interests) that SHOULD be available to compute statistics :<list
                style="symbols">
                <t>Loss threshold;</t>

                <t>Systematic error: constant delay between wire time and
                timestamping;</t>

                <t>Calibration error: maximal uncertainty;</t>
              </list></t>
          </list></t>

        <t>Following is the information of each statistic that SHOULD be
        reported:</t>

        <t><list style="symbols">
            <t>Result;</t>

            <t>Start_time;</t>

            <t>Duration;</t>

            <t>Result_status;</t>

            <t>Singleton_number, the number of singletons the statistic is
            computed on;</t>
          </list></t>
      </section>
    </section>

    <section title="Security Considerations">
      <t>Spatial and one-to-group metrics are defined on the top of end-to-end
      metrics. Security considerations discussed in One-way delay metrics
      definitions of <xref target="RFC2679"></xref> , in packet loss metrics
      definitions of <xref target="RFC2680"></xref> and in IPDV metrics
      definitions of<xref target="RFC3393"></xref> and <xref
      target="RFC3432"></xref> apply to metrics defined in this memo.</t>

      <t>Someone may spoof the identity of a Point of interest identity and
      intentionally send corrupt results in order to remotely orient the
      traffic engineering decisions.</t>

      <t>A point of interest could intentionally corrupt its results in order
      to remotely orient the traffic engineering decisions.</t>

      <section title="Spatial metrics">
        <t>Malicious generation of packets which match systematically the hash
        function used to detect the packets may lead to a DoS attack toward
        the point of reference.</t>

        <t>Spatial measurement results carry the performance of individual
        segments of the path and the identity of nodes. An attacker may infer
        from this information the points of weakness of a network (e.g.
        congested node) which would require the least amount of additional
        attacking traffic to exploit. Therefore, monitoring information should
        be carried in a way which prevents unintended recipients from
        inspecting the measurement reports. A straight forward solution is to
        restrict access to the reports using encrypted sessions or secured
        networks.</t>

        <t></t>
      </section>

      <section title="One-to-group metrics">
        <t>Reporting of measurement results from a huge number of probes may
        overload reference point resources (network, network interfaces,
        computation capacities ...).</t>

        <t>The configuration of a measurement must take in consideration that
        implicitly more packets will be routed than sent and selects a test
        packets rate accordingly. Collecting statistics from a huge number of
        probes may overload any combination of the network where the
        measurement controller is attached to, measurement controller network
        interfaces and measurement controller computation capacities.</t>

        <t>One-to-group metrics measurement should consider using source
        authentication protocols, standardized in the MSEC group, to avoid
        fraud packet in the sampling interval. The test packet rate could be
        negotiated before any measurement session to avoid deny of service
        attacks.</t>

        <t>A point of interest could intentionally degrade its results in
        order to remotely increase the quality of the network on the branches
        of the multicast tree it is connected to.</t>

        <t></t>
      </section>

      <t></t>
    </section>

    <section title="Acknowledgments">
      <t>Lei would like to acknowledge Prof. Zhili Sun from CCSR, University
      of Surrey, for his instruction and helpful comments on this work.</t>
    </section>

    <section anchor="IANA" title="IANA Considerations">
      <t>Metrics defined in this memo are designed to be registered in the
      IANA IPPM METRICS REGISTRY as described in initial version of the
      registry <xref target="RFC4148"></xref> :</t>

      <t>IANA is asked to register the following metrics in the
      IANA-IPPM-METRICS-REGISTRY-MIB :</t>

      <t>ietfSpatialOneWayDelayVector OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-Spatial-One-way-Delay-Vector"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 5.1."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>ietfSpatialPacketLossVector OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-Spatial-Packet-Loss-Vector"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 5.2."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t></t>

      <t>ietfSpatialOneWayIpdvVector OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-Spatial-One-way-ipdv-Vector"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 5.3."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>ietfSegmentOneWayDelayStream OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-Segment-One-way-Delay-Stream"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 6.1."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>ietfSegmentPacketLossStream OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-Segment-Packet-Loss-Stream"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 6.2."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>ietfSegmentIpdvPrevStream OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-Segment-ipdv-prev-Stream"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 6.3."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>ietfSegmentIpdvMinStream OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-Segment-ipdv-min-Stream"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 6.4."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>-- One-to-group metrics</t>

      <t>ietfOneToGroupDelayVector OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-Delay-Vector"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 7.1."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>ietfOneToGroupPacketLossVector OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-Packet-Loss-Vector"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 7.2."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>ietfOneToGroupIpdvVector OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-ipdv-Vector"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 7.3."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>-- One to group statistics</t>

      <t>--</t>

      <t></t>

      <t>ietfOnetoGroupReceiverNMeanDelay OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-Receiver-n-Mean-Delay"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 8.3.1."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>ietfOneToGroupMeanDelay OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-Mean-Delay"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 8.3.2."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t></t>

      <t>ietfOneToGroupRangeMeanDelay OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-Range-Mean-Delay"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 8.3.3."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t></t>

      <t>ietfOneToGroupMaxMeanDelay OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-Max-Mean-Delay"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 8.3.4."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>ietfOneToGroupReceiverNLossRatio OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-Receiver-n-Loss-Ratio"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 8.4.1."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list>--</t>

      <t>ietfOneToGroupReceiverNCompLossRatio OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-Receiver-n-Comp-Loss-Ratio"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 8.4.2."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>ietfOneToGroupLossRatio OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-Loss-Ratio"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 8.4.3."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list>--</t>

      <t>ietfOneToGroupRangeLossRatio OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-Range-Loss-Ratio"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 8.4.4."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>ietfOneToGroupRangeDelayVariation OBJECT-IDENTITY<list>
          <t>STATUS current</t>

          <t>DESCRIPTION<list>
              <t>"Type-P-One-to-group-Range-Delay-Variation"</t>
            </list></t>

          <t>REFERENCE<list>
              <t>"Reference "RFCyyyy, section 8.5.1."</t>

              <t>-- RFC Ed.: replace yyyy with actual RFC number &amp; remove
              this note</t>
            </list> := { ianaIppmMetrics nn } -- IANA assigns nn</t>
        </list></t>

      <t>--</t>
    </section>
  </middle>

  <back>
    <references title="Normative References">
      <?rfc include="reference.RFC.2119"?>

      <?rfc include="reference.RFC.2679" ?>

      <?rfc include="reference.RFC.2680" ?>

      <?rfc include="reference.RFC.3393" ?>

      <?rfc include="reference.RFC.4148" ?>
    </references>

    <references title="Informative References">
      <?rfc include="reference.RFC.2330" ?>

      <?rfc include="reference.RFC.3432" ?>

      <?rfc include='reference.I-D.ietf-ippm-spatial-composition'?>

      <?rfc ?>
    </references>
  </back>
</rfc>