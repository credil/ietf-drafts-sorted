


Network Working Group                                       P. Mohapatra
Internet-Draft                                                  K. Patel
Intended status: Standards Track                           Cisco Systems
Expires: October 28, 2010                                     J. Scudder
                                                                 D. Ward
                                                        Juniper Networks
                                                                 R. Bush
                                         Internet Initiative Japan, Inc.
                                                          April 26, 2010


         BGP Prefix Origin Validation State Extended Community
           draft-pmohapat-sidr-origin-validation-signaling-00

Abstract

   As part of the origination AS validation process, it can be desirable
   to automatically consider the validation state of routes in the BGP
   decision process.  The purpose of this document is to provide a
   specification for doing so.  The document also defines a new BGP
   opaque extended community to carry the validation state inside an
   autonomous system to influence the decision process of the IBGP
   speakers.

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on October 28, 2010.

Copyright Notice



Mohapatra, et al.       Expires October 28, 2010                [Page 1]

Internet-Draft        BGP Prefix Origin Validation            April 2010


   Copyright (c) 2010 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.



























Mohapatra, et al.       Expires October 28, 2010                [Page 2]

Internet-Draft        BGP Prefix Origin Validation            April 2010


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 4
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . . . 4
   2.  Origin Validation State Extended Community  . . . . . . . . . . 4
   3.  Changes to the BGP Decision Process . . . . . . . . . . . . . . 5
     3.1.  Policy Control  . . . . . . . . . . . . . . . . . . . . . . 5
   4.  Deployment Considerations . . . . . . . . . . . . . . . . . . . 5
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . 5
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 6
   7.  Security Considerations . . . . . . . . . . . . . . . . . . . . 6
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . 6
     8.1.  Normative References  . . . . . . . . . . . . . . . . . . . 6
     8.2.  Informative References  . . . . . . . . . . . . . . . . . . 6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . . . 6




































Mohapatra, et al.       Expires October 28, 2010                [Page 3]

Internet-Draft        BGP Prefix Origin Validation            April 2010


1.  Introduction

   As part of the origination AS validation process, it can be desirable
   to automatically consider the validation state of routes in the BGP
   decision process.  The purpose of this document is to provide a
   specification for doing so.  The document defines a new BGP opaque
   extended community to carry the validation state inside an autonomous
   system to influence the decision process of the IBGP speakers.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].


2.  Origin Validation State Extended Community

   The origin validation state extended community is an opaque extended
   community [RFC4360] with the following encoding:


      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |       0x43    |      TBD      |             Reserved          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                    Reserved                   |validationstate|
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   The value of the high-order octet of the extended Type Field is 0x43,
   which indicates it is non-transitive.  The value of the low-order
   octet of the extended type field for this community is TBD.  The last
   octet of the extended community encodes the route's validation
   state([I-D.pmohapat-sidr-pfx-validate].  It can assume the following
   values:

                  +-------+-----------------------------+
                  | Value | Meaning                     |
                  +-------+-----------------------------+
                  |   0   | Lookup result = "valid"     |
                  |   1   | Lookup result = "not found" |
                  |   2   | Lookup result = "invalid"   |
                  +-------+-----------------------------+

   If the router is configured to support the extensions defined in this
   draft, it SHOULD attach the origin validation state extended



Mohapatra, et al.       Expires October 28, 2010                [Page 4]

Internet-Draft        BGP Prefix Origin Validation            April 2010


   community to BGP UPDATE messages sent to IBGP peers by mapping the
   computed validation state in the last octet of the extended
   community.  Similarly on the receiving IBGP speakers, the validation
   state of an IBGP route SHOULD be derived directly from the last octet
   of the extended community, if present.  Note that routers do not
   perform prefix origin validation (compute the validation state as
   defined in [I-D.pmohapat-sidr-pfx-validate]) for IBGP learnt routes.

   Since the extended community is defined to be non-transitive, it MUST
   not be attached while advertising routes to EBGP peers.
   Additionally, if it is present in an UPDATE message received from an
   EBGP peer, the router MUST remove the origin validation state
   extended community before parsing rest of the message.


3.  Changes to the BGP Decision Process

   If a BGP router supports prefix origin validation and is configured
   for the extensions defined in this document, the validation step MUST
   be performed prior to any of the steps defined in the decision
   process of [RFC4271].  The validation step is stated as follows:

      When comparing a pair of routes for a BGP destination, the route
      with the lowest "validation state" value is preferred.

   In all other respects, the decision process remains unchanged.

3.1.  Policy Control

   It MUST be possible to enable or disable the validation step as
   defined in Section 3 through configuration.  The default SHOULD be
   for the validation step to be disabled.


4.  Deployment Considerations

   In deployment scenarios where not all the speakers in an autonomous
   system are upgraded to support the extensions defined in this
   document, it is necessary to define policies that match on the origin
   validation extended community and set another BGP attribute
   [I-D.pmohapat-sidr-pfx-validate] that influences the best path
   selection the same way as what would have been enabled by an
   implementation of this extension.


5.  Acknowledgements





Mohapatra, et al.       Expires October 28, 2010                [Page 5]

Internet-Draft        BGP Prefix Origin Validation            April 2010


6.  IANA Considerations

   IANA shall assign a new value from the "BGP Opaque Extended
   Community" type registry from the non-transitive range, to be called
   "BGP Origin Validation State Extended Community".


7.  Security Considerations


8.  References

8.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC4271]  Rekhter, Y., Li, T., and S. Hares, "A Border Gateway
              Protocol 4 (BGP-4)", RFC 4271, January 2006.

   [RFC4360]  Sangli, S., Tappan, D., and Y. Rekhter, "BGP Extended
              Communities Attribute", RFC 4360, February 2006.

8.2.  Informative References

   [I-D.pmohapat-sidr-pfx-validate]
              Mohapatra, P., Scudder, J., Ward, D., Bush, R., and R.
              Austein, "BGP Prefix Origin Validation",
              draft-pmohapat-sidr-pfx-validate-06 (work in progress),
              April 2010.


Authors' Addresses

   Pradosh Mohapatra
   Cisco Systems
   170 W. Tasman Drive
   San Jose, CA  95134
   USA

   Email: pmohapat@cisco.com










Mohapatra, et al.       Expires October 28, 2010                [Page 6]

Internet-Draft        BGP Prefix Origin Validation            April 2010


   Keyur Patel
   Cisco Systems
   170 W. Tasman Drive
   San Jose, CA  95134
   USA

   Email: keyupate@cisco.com


   John Scudder
   Juniper Networks
   1194 N. Mathilda Ave
   Sunnyvale, CA  94089
   USA

   Email: jgs@juniper.net


   David Ward
   Juniper Networks
   1194 N. Mathilda Ave
   Sunnyvale, CA  94089
   USA

   Email: dward@juniper.net


   Randy Bush
   Internet Initiative Japan, Inc.
   5147 Crystal Springs
   Bainbridge Island, Washington  98110
   USA

   Email: randy@psg.com

















Mohapatra, et al.       Expires October 28, 2010                [Page 7]

